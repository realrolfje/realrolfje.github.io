<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>drobo on www.rolfje.com</title><link>https://realrolfje.github.io/rolfje.com/tags/drobo/</link><description>Recent content in drobo on www.rolfje.com</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><copyright>Copyright © rolfje.com</copyright><lastBuildDate>Sat, 07 Jan 2012 13:30:13 +0000</lastBuildDate><atom:link href="https://realrolfje.github.io/rolfje.com/tags/drobo/index.xml" rel="self" type="application/rss+xml"/><item><title>Drobo FS Lion Time Machine Fix</title><link>https://realrolfje.github.io/rolfje.com/2012/01/07/drobo-fs-lion-time-machine-fix/</link><pubDate>Sat, 07 Jan 2012 13:30:13 +0000</pubDate><guid>https://realrolfje.github.io/rolfje.com/2012/01/07/drobo-fs-lion-time-machine-fix/</guid><description>
&lt;p>&lt;a href="http://www.youtube.com/watch?v=6xe7bIfj7VM">&lt;img src="drobo-bandaid.png" alt="">
&lt;/a>Many Drobo FS owners out there who upgraded to Lion were unpleasantly surprised by the fact that their Drobo no longer behaved like they used to. After months, drobo released new firmware, but it didn't improve things all that much. With the new firmware, the Drobo FS:&lt;/p>
&lt;pre>&lt;code> * is slow or entirely unresponsive, Time Machine backups don't finish at all or take days
* doesn't show up in the Finder of Lion Macbook owners connecting through wifi
* has a transfer speed of 20MB/s, even when connecting through GB Ethernet, regardless of OSX version (tested with Snow Leopard, Lion)
&lt;/code>&lt;/pre>
&lt;p>If you have one or more of the problems listed above, you will be pleased to hear that there is a &amp;quot;fix&amp;quot;, although it may not be what you were hoping for.&lt;/p>
&lt;p>&lt;strong>&lt;!-- more -->The Good&lt;/strong>
Late 2010 I discovered drobo. Until then, I had always managed my storage space myself, transferring data to &lt;a href="http://rolfje.wordpress.com/2008/09/07/a-bigger-timemachine-without-changing-history/">bigger disks&lt;/a> as time went on. The idea of a device which would automatically do that by just plugging in a new drive sounded like a real time saver. That, and the fact that it could handle a disk failure without data loss, and behave like network Time Machine share made me buy a Drobo FS.&lt;/p>
&lt;p>On December 19th 2010, I spent a whopping €615,- on a diskless Drobo, and threw another €300,- worth of 1TB disks in there, along with some old disks I had lying around.&lt;/p>
&lt;p>I moved all &lt;a href="http://rolfje.wordpress.com/2010/12/30/move-time-machine-data-to-a-drobo/">backups to the Drobo&lt;/a>. Life would be good. Or so I thought.&lt;/p>
&lt;p>&lt;strong>The Bad&lt;/strong>
The Drobo does what is called &lt;a href="http://en.wikipedia.org/wiki/Thin_provisioning">&amp;quot;Thin Provisioning&amp;quot;&lt;/a>. This means that it will tell your computer that it is 16TB in size, although physically it isn't. This means that when you run out of physical storage space, you replace one of the drives with a bigger one and your computer wouldn't even notice.&lt;/p>
&lt;p>When I created a Time Machine share on the drobo, I discovered that this was not entirely true. When you create a Time Machine share on the drobo, you must choose a size in order to keep Time Machine from filling up your drobo. But unlike other shares on the drobo, you can't change the size of the Time Machine share when you decide you need more room.&lt;/p>
&lt;p>I got over it, chose large enough Time Machine shares for all my machines, and everything worked fine for a couple of months. Performance wasn't great, particularly mounting the sparse bundles took quite some time and a lot of disk access on the drobo, but hey. It's seamless automated backup to a redundant disk array so it was acceptable.&lt;/p>
&lt;p>Skip forward to July 20th, 2011. The release date of OSX 10.7, Lion. Because I wanted to make sure everything still worked in Lion, I waited until September 2011 before upgrading my Macbook. My other machines are too old and are still running Leopard (OSX 10.5) or Snow Leopard (OSX 10.6).&lt;/p>
&lt;p>One of the reasons I had to wait until September was drobo. They didn't have their software ready for Lion, and drobo actually &lt;a href="http://halmueller.wordpress.com/2011/07/28/drobo-fs-problems-under-mac-os-x-lion/">tried to blame Apple for it&lt;/a>. Yes you read that right. The OSX Lion developer preview had been out since &lt;a href="http://www.apple.com/apple-events/october-2010/">October 20, 2010&lt;/a> but somehow drobo didn't seem to have bothered to check compatibility all that time, and as a result effectively bricked all drobo's for Lion users.&lt;/p>
&lt;p>&lt;strong>The Ugly&lt;/strong>
After the storm had passed, and Drobo released a firmware upgrade, I switched to Lion on my Macbook after installing the new firmware on the Drobo FS. The Lion upgrade went very smooth and I happily played with Lion's new features. After a few hours, I noticed that the Drobo stopped working. No backups. Yikes!&lt;/p>
&lt;p>The drobo wasn't visibile when connecting over wifi and at first Lion was blamed for this problem. But my Mac Mini running Snow Leopard also started complaining about not being able to backup. I filed my first drobo support call at 09/18/2011 04:46 AM with the title &amp;quot;New Drobo FS firmware doesn't work with Snow Leopard TimeMachine&amp;quot;.&lt;/p>
&lt;p>It was downhill from there. Drobo support had me throw away Time Machine shares (losing data), reset the whole drobo (losing ALL data on the drobo), install bleeding edge firmware which was not even available through the normal drobo dashboard, advised me to both up- AND downgrade the drobo and the dashboard, repeatedly closed my support calls without actually solving them, refused to answer to replies not coming from the first email address I used, had me send numerous diagnostic files to them, and told me &amp;quot;they were working on a new firmware&amp;quot; but never when it was scheduled for release.&lt;/p>
&lt;p>In less than 4 months, I exchanged more than 80 mails with Drobo Support, and the drobo had lost all my data 4 times. It had become more unreliable than any disk I had ever owned before. I was lucky to run backups-of-backups. The drobo may be able to handle drive failures, but the firmware developers and &lt;a href="http://www.stolensnapshots.com/dontdodrobo">drobo support people are a lot less worried about your data&lt;/a>.&lt;/p>
&lt;p>&lt;strong>The Fix&lt;/strong>
During these months, I struggled to keep my backups running. On December 13th 2011, I finally bit the bullet and fixed my drobo backup problems. If you want to fix your drobo Time Machine backup problems for once and for all, do the following:&lt;/p>
&lt;pre>&lt;code> 1. Connect to your drobo with an admin account, and using the Finder, copy all sparse bundles from all Time Machine shares to a location other than the drobo. Do the same for all other data you might have on there.
2. Go the the Apple store and [buy a Time Capsule](http://store.apple.com/us/product/MD032LL/A/Time-Capsule-2TB) (as a bonus, this also upgraded my wifi speed a great deal)
3. If you have just one machine you want to backup, plug it in and open Time Machine preferences on your Mac, and choose the Time Capsule as backup location. If you don't want to transfer your old backups, you're done.
4. For more technically inclined people, you can create encrypted and limited size sparse bundles for each of your machines on the TIme Capsule. Read [this article](http://michaelnozbe.com/mac-osx-lion-secure-backup-to-time-capsule-wi) by Michael &amp;quot;Nozbe&amp;quot; Sliwinski on how to do that. It works beautifully.
5. If you want to transfer the data in your old Time Machine sparse bundle from your drobo, you can use [this tip](http://www.unlikelywords.com/2009/01/05/moving-a-time-machine-backup-to-a-time-capsule/) to do that, but frankly I haven't tried that, I just created new, clean, backups.
6. Now go and sell your drobo to somebody who doesn't care about his data that much, or just wants a NAS for his Windows machine.
&lt;/code>&lt;/pre>
&lt;p>&lt;img src="time-capsule.jpeg" alt="">
The Time Capsule has run beautifully out of the box, doesn't have a butt-ugly dashboard like the drobo's, and is actually faster over wifi than the drobo is over GB ethernet. Go figure.&lt;/p>
&lt;p>I really hope that some day, somebody will create a drobo-like product which actually works.&lt;/p>
&lt;p>P.S. If you like a challenge, you can actually already build a drobo-like fileshare with much higher performance at a lower cost by buying an HP proliant server, some disks, installing &lt;a href="http://en.wikipedia.org/wiki/OpenIndiana">OpenIndiana&lt;/a> on it and run a &lt;a href="http://en.wikipedia.org/wiki/ZFS">ZFS array&lt;/a>. A friend of mine has replaced his troublesome drobo with this setup and can reliably copy files to it at 120MB/s over GB ethernet, and swap out drives while he's doing that. Drobo isn't even close.&lt;/p></description></item><item><title>Move Time Machine data to a Drobo</title><link>https://realrolfje.github.io/rolfje.com/2010/12/30/move-time-machine-data-to-a-drobo/</link><pubDate>Thu, 30 Dec 2010 21:05:10 +0000</pubDate><guid>https://realrolfje.github.io/rolfje.com/2010/12/30/move-time-machine-data-to-a-drobo/</guid><description>
&lt;p>&lt;a href="http://www.youtube.com/watch?v=6xe7bIfj7VM">&lt;img src="time-machine-drobo.png" alt="Remember, even Drobo's can die. Make sure your files are in at least three different physical locations, one of which preferably off-site.">
&lt;/a>If Santa treated you particularly well this season, or you have put some of your savings to good use, chances are that you have a brand-new Drobo looking at you right now. Meanwhile, your Mac is happily making Time Machine backups to that trusty old local USB disk. So you want to use that new Drobo for Time Machine backups, but don't want to loose history? Here's how (baby steps, no tools required, screenshots included):&lt;/p>
&lt;!-- more -->
&lt;pre>&lt;code> 1. Connect the Drobo (in my case a Drobo FS) to the network and configure an Administrator password for it. You should now have a working Drobo, with at least 2 drives in it, and it shares a &amp;quot;Public&amp;quot; share on the network.
2. Make sure that the free space reported by the Drobo Dashboard is at least as big as your old USB Time Machine drive. Add drives to the Drobo as needed.
3. In the Drobo Dashboard, click on &amp;quot;Advanced Controls&amp;quot;, go to the &amp;quot;Tools&amp;quot; tab, click on &amp;quot;Settings...&amp;quot; and then select the &amp;quot;Shares&amp;quot; tab.
4. Create a new user for your Time Machine backup. It's important to create a non-admin user to keep your data safe. Trust me, you'll thank me later.
5. Create a new Drobo share (the &amp;quot;+&amp;quot; on the bottom left), give it a meaningful name and select &amp;quot;Enable Time Machine on this drive&amp;quot;. Be careful in choosing the size, you can't change this later!
6. Remove &amp;quot;Everyone&amp;quot; from the allowed users for this share (the &amp;quot;-&amp;quot; bottom right) and add the user you just created (the &amp;quot;+&amp;quot; on the bottom right). You should now have something like this:[![Create Time Machine share on the Drobo FS screenshot](schermafbeelding-2010-12-28-om-20-03-55.png?w=300)
&lt;/code>&lt;/pre>
&lt;p>](schermafbeelding-2010-12-28-om-20-03-55.png)
7. Close Drobo Dashboard, we won't be needing it anymore.
8. Open System Preferences on your Mac, and select &amp;quot;Time Machine&amp;quot;
9. Click on the &amp;quot;Select Disk&amp;quot; option. Don't worry, we're not damaging or loosing your existing backup by doing this.
10. In the popup, you'll see your newly created Time Machine share on the Drobo. Select this share and fill in the Userid and Password you just created on the Drobo.&lt;a href="schermafbeelding-2010-12-28-om-20-05-39.png">&lt;img src="schermafbeelding-2010-12-28-om-20-05-39.png" alt="Select Drobo Time Machine share">
&lt;/a>
11. Wait for Time Machine to start, or force it by using the &amp;quot;Backup now&amp;quot; menu option. Time Machine will first try to create a sparse bundle and calculate what to back up. As soon as you see the backup starting (the &amp;quot;zebra&amp;quot; stripes turn into a normal progress bar), click on the cancel button. We only used Time Machine to create a sparse bundle with the correct settings.
12. In System Preferences, switch Time Machine off.
13. Go to the Drobo Time Machine share you just created and mount the sparse bundle you see there.
14. Open Disk Utility and select the USB Time Machine disk.
15. Click on &amp;quot;Restore&amp;quot; and drag the partition of the old USB Time Machine drive to the &amp;quot;Source&amp;quot; box. Drag the partition on the mounted Drobo Time Machine disk to the &amp;quot;Destination&amp;quot; box. Double check my screen shot, it's important to get this right. Drag the partitions, not the disks itself. If you're not able to drag the disks as described, you may want to unmount your old Time Machine drive, remount it, and restart Disk Utility.&lt;a href="schermafbeelding-2010-12-28-om-20-17-22.png">&lt;img src="schermafbeelding-2010-12-28-om-20-17-22.png" alt="Drag partitions in Disk Utility">
&lt;/a>
16. Make sure &amp;quot;Erase Target&amp;quot; is selected and press &amp;quot;Restore&amp;quot;. Disk Utility may ask for your password.
17. Prepare for a long wait. If you have more than a 500GB backup drive, you wish you had invested in Gigabit Ethernet right now (yes that speeds it up tremendously). My restore of 800GB over a 100Mb network took more than 2 days.
18. Once the process is finished, do not forget to switch Time Machine back on in the System Preferences.&lt;/p>
&lt;p>That's it. Time Machine will automatically mount the Drobo Share if needed. The first backup will take a bit more time, I think Apple built in a file check to see if the backup is still ok after moving it to another disk.&lt;/p>
&lt;p>&lt;em>&lt;strong>Tip 1:&lt;/strong> Keep your old USB Time Machine disk next to the Drobo, even if you have an empty slot. By doing this, you can instantly replace a faulty drive without running to the store. Always keep a spare!&lt;/em>&lt;/p>
&lt;p>&lt;em>&lt;strong>Tip 2:&lt;/strong> Storing data on your Drobo, and then backing up to a Time Machine bundle on that same Drobo is not a backup. A file is only safe if it is stored in 3 different physical locations, one of which is preferably off-site.&lt;/em>&lt;/p>
&lt;p>Happy Drobo days!&lt;/p></description></item></channel></rss>