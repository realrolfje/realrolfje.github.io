<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Utilities on www.rolfje.com</title><link>https://realrolfje.github.io/rolfje.com/tags/utilities/</link><description>Recent content in Utilities on www.rolfje.com</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><copyright>Copyright © rolfje.com</copyright><lastBuildDate>Thu, 26 Apr 2018 20:38:12 +0000</lastBuildDate><atom:link href="https://realrolfje.github.io/rolfje.com/tags/utilities/index.xml" rel="self" type="application/rss+xml"/><item><title>Travis CI and Dependabot added to Anonimatron</title><link>https://realrolfje.github.io/rolfje.com/2018/04/26/travis-ci-and-dependabot-added-to-anonimatron/</link><pubDate>Thu, 26 Apr 2018 20:38:12 +0000</pubDate><guid>https://realrolfje.github.io/rolfje.com/2018/04/26/travis-ci-and-dependabot-added-to-anonimatron/</guid><description>
&lt;p>&lt;figure class="float_left">&lt;a href="https://www.youtube.com/watch?v=wEhu57pih5w">&lt;img src="travis-ci-anonimyzed.png" width="80"/>&lt;/a>
&lt;/figure>
With new &lt;a href="https://www.eugdpr.org/">European rules like the GDPR&lt;/a> and local variations like the &lt;a href="https://autoriteitpersoonsgegevens.nl/nl/onderwerpen/avg-nieuwe-europese-privacywetgeving">Dutch AVG&lt;/a>, interest in &lt;a href="https://realrolfje.github.io/anonimatron/">Anonimatron&lt;/a> is increasing. Although I do not keep track of who is using it and where, sometimes new requirements do pop up. Recently a feature was added to &lt;a href="https://github.com/realrolfje/anonimatron/releases">Anonimatron 1.9.2&lt;/a> to also anonymize files.&lt;/p>
&lt;p>In the wake of those additions, I planned to give &lt;a href="https://travis-ci.org/">Travis CI&lt;/a> a try to automate the builds. It turns out that Travis CI integrates beautifully with GitHub, and automatically builds branches and pull requests right out of the box.&lt;/p>
&lt;p>At the office, we had a discussion about keeping libraries up to date with the maven dependency plugin for our client projects. We came up with a system to use the maven dependency plugin on a separate branch to automatically do that on our buildserver. It turns out that there is a service called &lt;a href="https://dependabot.com/">Dependabot&lt;/a> which does nearly the same thing. Dependabot looks at your GitHub project, and creates &lt;a href="https://github.com/realrolfje/anonimatron/pull/10">pull requests for each library it upgrades&lt;/a>.&lt;/p>
&lt;p>All these services are free for Open Source projects, so Anonimatron would be a great candidate for testing them. I am pretty happy with the way it currently works, and getting this up and running was really simple:&lt;/p>
&lt;ol>
&lt;li>Make sure your Open Source project builds with any of the main stream build tools supported by Travis CI
like Maven or Gradle. Try to keep the build as simple as possible.&lt;/li>
&lt;li>Create an account with &lt;a href="https://travis-ci.org/">Travis CI&lt;/a> with your GitHub account. After registration,
Travis CI shows you a list of your projects. Select one and follow the steps. After a few mouse clicks
Travis CI should be building your project.&lt;/li>
&lt;li>Create an account with &lt;a href="https://dependabot.com/">Dependabot&lt;/a>. As in step 2, select your project and
follow the Dependabot guide to setting it up.&lt;/li>
&lt;li>After a while you should see pull request arriving in your GitHub project, one for each upgraded library.
Travis CI immediately builds those Pull Requests and a
&lt;a href="https://github.com/realrolfje/anonimatron/branches">green tickmark or red cross&lt;/a> shows next to the branch.&lt;/li>
&lt;/ol>
&lt;p>There you go, your project now has automatic builds and automatic version upgrades, like a pro. Please note that in order to confidently upgrade libraries, you need to have proper tests! Look at the
&lt;a href="https://github.com/realrolfje/anonimatron/tree/master/src/test/java/com/rolfje/anonimatron">Anonimatron Test Suite&lt;/a> to get an idea.&lt;/p>
&lt;p>Happy coding!&lt;/p></description></item><item><title>JSON alerts for Munin</title><link>https://realrolfje.github.io/rolfje.com/2018/01/07/json-alerts-for-munin/</link><pubDate>Sun, 07 Jan 2018 18:18:59 +0000</pubDate><guid>https://realrolfje.github.io/rolfje.com/2018/01/07/json-alerts-for-munin/</guid><description>
&lt;p>&lt;a href="https://math.stackexchange.com/a/54568">&lt;img src="munin-log.png" alt="">
&lt;/a>Munin is a great and easy way to monitor your servers. The documentation for Munin is kind of all over the place, and sometimes not all that clear.&lt;/p>
&lt;pre>&lt;code> * There is the recent [&amp;quot;Munin Guide&amp;quot;](https://munin.readthedocs.io/en/latest/) which is quite informative and well laid out.
&lt;/code>&lt;/pre>
&lt;ul>
&lt;li>Sometimes additional info and background can be found on the &lt;a href="http://munin-monitoring.org/wiki/Documentation">old munin wiki&lt;/a>.&lt;/li>
&lt;/ul>
&lt;p>Getting the standard mail alerts working on munin is simplest, but as soon as you want custom layouts or send alerts as a push message to a phone, it can take quite some work. Here's what I figured out to get the Munin alert available to you as JSON inside your own Python script so you can do anything you want with it.&lt;/p>
&lt;!-- more -->
&lt;p>On the munin master, create the file &lt;code>/etc/munin/munin-conf.d/alerts.conf&lt;/code> with the following contents:&lt;/p>
&lt;p>[sourcecode gutter=&amp;quot;false&amp;quot; language=&amp;quot;text&amp;quot;]
contact.python.command /etc/munin/scripts/alert.py
contact.python.text { &amp;quot;group&amp;quot;:&amp;quot;${var:group}&amp;quot;, &amp;quot;host&amp;quot;:&amp;quot;${var:host}&amp;quot;,&lt;br>
&amp;quot;graph_category&amp;quot;:&amp;quot;${var:graph_category}&amp;quot;,&lt;br>
&amp;quot;graph_title&amp;quot;:&amp;quot;${var:graph_title}&amp;quot;,&lt;br>
&amp;quot;warning&amp;quot;:[ &lt;br>
${loop&amp;lt;,&amp;gt;:wfields {&amp;quot;label&amp;quot;:&amp;quot;${var:label}&amp;quot;,&lt;br>
&amp;quot;value&amp;quot;:&amp;quot;${var:value}&amp;quot;,&lt;br>
&amp;quot;w&amp;quot;:&amp;quot;${var:wrange}&amp;quot;,&lt;br>
&amp;quot;c&amp;quot;:&amp;quot;${var:crange}&amp;quot;,&lt;br>
&amp;quot;extra&amp;quot;:&amp;quot;${var:extinfo}&amp;quot;} }&lt;br>
],&lt;br>
&amp;quot;critical&amp;quot;:[ &lt;br>
${loop&amp;lt;,&amp;gt;:cfields {&amp;quot;label&amp;quot;:&amp;quot;${var:label}&amp;quot;,&lt;br>
&amp;quot;value&amp;quot;:&amp;quot;${var:value}&amp;quot;,&lt;br>
&amp;quot;w&amp;quot;:&amp;quot;${var:wrange}&amp;quot;,&lt;br>
&amp;quot;c&amp;quot;:&amp;quot;${var:crange}&amp;quot;,&lt;br>
&amp;quot;extra&amp;quot;:&amp;quot;${var:extinfo}&amp;quot;} }&lt;br>
],&lt;br>
&amp;quot;unknown&amp;quot;:[ &lt;br>
${loop&amp;lt;,&amp;gt;:ufields {&amp;quot;label&amp;quot;:&amp;quot;${var:label}&amp;quot;,&lt;br>
&amp;quot;value&amp;quot;:&amp;quot;${var:value}&amp;quot;,&lt;br>
&amp;quot;w&amp;quot;:&amp;quot;${var:wrange}&amp;quot;,&lt;br>
&amp;quot;c&amp;quot;:&amp;quot;${var:crange}&amp;quot;,&lt;br>
&amp;quot;extra&amp;quot;:&amp;quot;${var:extinfo}&amp;quot;} }&lt;br>
]&lt;br>
}
[/sourcecode]&lt;/p>
&lt;p>This will make Munin output JSON to the &amp;quot;python&amp;quot; user, you can chose another name if needed. After this, you can create a Python script looking somewhat like this:&lt;/p>
&lt;p>[sourcecode gutter=&amp;quot;false&amp;quot; language=&amp;quot;python&amp;quot;]
#!/usr/bin/python&lt;/p>
&lt;h1 id="heading">&lt;/h1>
&lt;h1 id="save-as-etcmuninscriptsalertpy">Save as /etc/munin/scripts/alert.py&lt;/h1>
&lt;h1 id="chown-muninmunin-etcmuninscriptsalertpy">chown munin:munin /etc/munin/scripts/alert.py&lt;/h1>
&lt;h1 id="chmod-x-etcmuninscriptsalertpy">chmod +x /etc/munin/scripts/alert.py&lt;/h1>
&lt;h1 id="heading-1">&lt;/h1>
&lt;p>import sys
import os
import json&lt;/p>
&lt;p>def humanreadable( jsonalert ):
hascritical = (len(jsonalert['critical']) &amp;gt; 0)
haswarning = (len(jsonalert['warning']) &amp;gt; 0)
hasunknown = (len(jsonalert['unknown']) &amp;gt; 0)&lt;/p>
&lt;p>report = &amp;quot;&amp;quot;&lt;/p>
&lt;p>if hascritical:
for i in jsonalert['critical']:
report += &amp;quot;CRITICAL: {0} {1}: {2}={3}&amp;quot;.format(jsonalert['host'],
jsonalert['graph_title'], i['label'],i['value'])&lt;/p>
&lt;p>if haswarning:
for i in jsonalert['warning']:
report += &amp;quot;WARNING: {0} {1}: {2}={3}&amp;quot;.format(jsonalert['host'],
jsonalert['graph_title'], i['label'],i['value'])&lt;/p>
&lt;p>if hasunknown:
for i in jsonalert['unknown']:
report += &amp;quot;UNKNOWN: {0} {1}: {2}={3}&amp;quot;.format(jsonalert['host'],
jsonalert['graph_title'], i['label'],i['value'])&lt;/p>
&lt;p>if hascritical + haswarning + hasunknown == 0:
report += &amp;quot;OK: {0} {1}&amp;quot;.format(jsonalert['host'],jsonalert['graph_title'])&lt;/p>
&lt;p>return report&lt;/p>
&lt;h1 id="get-the-output-from-munin-stdout-and-print-it">Get the output from Munin stdout and print it.&lt;/h1>
&lt;p>for line in sys.stdin:
j = json.loads(line)
readable = humanreadable(j)
print readable
[/sourcecode]&lt;/p>
&lt;p>There is no debugging without testruns. To see if this works, you can run this command:&lt;/p>
&lt;p>[sourcecode gutter=&amp;quot;false&amp;quot; language=&amp;quot;bash&amp;quot;]
sudo -u munin /usr/share/munin/munin-limits --force
[/sourcecode]&lt;/p>
&lt;p>This should give you output which looks somewhat like this:&lt;/p>
&lt;p>[sourcecode gutter=&amp;quot;false&amp;quot; language=&amp;quot;text&amp;quot;]
WARNING: monitor.local Logged in users: pts=4.00
OK: monitor.local Inode usage in percent
OK: monitor.local eth0 errors
OK: monitor.local File table usage
OK: monitor.local Disk usage in percent
OK: monitor.local routerboard CPU usage
OK: monitor.local Disk latency per device :: Average latency for /dev/mmcblk0
[/sourcecode]&lt;/p>
&lt;p>Bingo! Munin sends JSON to your Python script! Now you can use your awesome Pyhton skills to change this into whatever you want or send. To get you inspired, here's a piece of code I use to send alerts to a Mattermost server:&lt;/p>
&lt;p>[sourcecode gutter=&amp;quot;false&amp;quot; language=&amp;quot;python&amp;quot;]
import requests&lt;/p>
&lt;p>mattermost_url = &amp;quot;https://&lt;your-server-here>/hooks/&lt;your-hook-here>&amp;quot;&lt;/p>
&lt;p>def sendmattermost( alerts ):
payload = '{&amp;quot;username&amp;quot;: &amp;quot;Monitor&amp;quot;, &amp;quot;text&amp;quot;: &amp;quot;'&lt;/p>
&lt;p>if &amp;quot;WARNING:&amp;quot; in alerts or &amp;quot;CRITICAL:&amp;quot; in alerts:
payload += ':rotating_light:\n'
else:
payload += &amp;quot;:pager:\n&amp;quot;&lt;/p>
&lt;p>payload += alerts
payload += '&amp;quot;}'&lt;/p>
&lt;p>print &amp;quot;Sending payload: '&amp;quot; + payload +&amp;quot;'.&amp;quot;
r = requests.post(mattermost_url, data=payload)
if r.status_code != 200:
print &amp;quot;PANIC &amp;quot; + r.reason +&amp;quot; : &amp;quot; + r.text
[/sourcecode]&lt;/p>
&lt;p>You can find this trick and other munin plugin stuff in my &lt;a href="https://github.com/realrolfje/munin-plugins">munin-plugins repository&lt;/a>.&lt;/p>
&lt;p>Happy alerting!&lt;/p></description></item><item><title>Make the ESP8266 talk 9600 baud</title><link>https://realrolfje.github.io/rolfje.com/2017/01/02/make-the-esp8266-talk-9600-baud/</link><pubDate>Mon, 02 Jan 2017 19:53:59 +0000</pubDate><guid>https://realrolfje.github.io/rolfje.com/2017/01/02/make-the-esp8266-talk-9600-baud/</guid><description>
&lt;p>&lt;a href="https://youtu.be/0IRvtw22JIc">&lt;img src="b1262-0.jpg" alt="Surprise video">
&lt;/a>The default serial speed on the ESP8266 WiFi chip is 115200 baud. If you connect this chip to an Arduino and want to use SoftSerial to talk to it, it will not work. The SoftSerial library is limited to 9600 baud because of hardware limitations of the Arduino. If you want to talk to the ESP8266 with an Arduino at lower speeds, you need to tell the ESP8266 to slow down.&lt;/p>
&lt;!-- more -->[Remco.org](http://remco.org/) noted that sending 115200 baud with SoftSerial works just well enough to throw a command to the ESP8266. So below is a sketch that will do just that for you.
&lt;pre>&lt;code> 1. Load or copy/paste the sketch in your Arduino IDE.
2. Connect the ESP8266 board to the Arduino as follows:
&lt;/code>&lt;/pre>
&lt;ul>
&lt;li>ESP TX pin to Arduino softRX pin 4&lt;/li>
&lt;li>ESP RX pin to Arduino softTx pin 5
3. Open the Serial Monitor of the Arduino IDE and set it to 9600 bps and CR/LF.
4. Compile and upload this sketch to the  Arduino.
5. Wait for the Serial monitor to show:
AT
OK
-- Sketch stopped.&lt;/li>
&lt;/ul>
&lt;p>You can now use your ESP8266 at 9600 baud. The setting is stored in non-volatile memory, so you only need to do this once.&lt;/p>
&lt;p>Here's the sketch:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;cpp&amp;quot; gutter=&amp;quot;false&amp;quot;]
/*&lt;/p>
&lt;ul>
&lt;li>This sketch switches the ESP8266 from its&lt;/li>
&lt;li>factory-default setting of 115200 bps to&lt;/li>
&lt;li>9600 bps so that we can use SoftSerial to&lt;/li>
&lt;li>communicate with it.&lt;/li>
&lt;li>&lt;/li>
&lt;li>
&lt;ol>
&lt;li>Connect the ESP8266:&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>
&lt;ul>
&lt;li>ESP TX pin to Arduino softRX pin 4&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;ul>
&lt;li>ESP RX pin to Arduino softTx pin 5&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;ol start="2">
&lt;li>Open the Serial Monitor of the&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>Arduino IDE and set it to 9600 bps and&lt;/li>
&lt;li>CR/LF.&lt;/li>
&lt;li>
&lt;ol start="3">
&lt;li>Compile and upload this sketch to the&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>Arduino.&lt;/li>
&lt;li>
&lt;ol start="4">
&lt;li>Sit back and watch the magic.&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>
&lt;ol start="5">
&lt;li>If you see &amp;quot;AT OK&amp;quot;, it worked.&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>&lt;/li>
&lt;li>Settings are stored in Flash memory, you&lt;/li>
&lt;li>only need to execute this sketch once.&lt;/li>
&lt;li>&lt;/li>
&lt;li>Please note: Although softserial is used&lt;/li>
&lt;li>to transmit at 115200 bps, you'll notice&lt;/li>
&lt;li>we never wait for an answer. That is&lt;/li>
&lt;li>because SoftSerial is not built to receive&lt;/li>
&lt;li>at speeds above 9600 bps.&lt;/li>
&lt;li>You have been warned.
*/
#include &amp;lt;SoftwareSerial.h&amp;gt;&lt;/li>
&lt;/ul>
&lt;p>const long sourcebaudrate = 115200;
const long targetbaudrate = 9600;&lt;/p>
&lt;p>const int softRX = 4;
const int softTX = 5;&lt;/p>
&lt;p>SoftwareSerial softSerial(softRX, softTX);&lt;/p>
&lt;p>void setup() {
Serial.begin(targetbaudrate);&lt;/p>
&lt;p>Serial.println(&amp;quot;Tell the ESP8266 to switch from &amp;quot;
+ String(sourcebaudrate) + &amp;quot; to &amp;quot;
+ String(targetbaudrate) + &amp;quot; bps.&amp;quot;);&lt;/p>
&lt;p>softSerial.begin(sourcebaudrate);
softSerial.print(&amp;quot;AT+IPR=&amp;quot;
+ String(targetbaudrate)
+ &amp;quot;\r\n&amp;quot;);&lt;/p>
&lt;p>delay(500);&lt;/p>
&lt;p>Serial.println(&amp;quot;Talk to the ESP8266 at &amp;quot;
+ String(targetbaudrate) + &amp;quot; bps.&amp;quot;);
softSerial.begin(targetbaudrate);
softSerial.print(&amp;quot;AT\r\n&amp;quot;);&lt;/p>
&lt;p>delay(500);&lt;/p>
&lt;p>Serial.println(&amp;quot;Reply from the ESP8266:&amp;quot;);
while(softSerial.available() &amp;gt; 0 ) {
char a = softSerial.read();
if(a == '\0') continue;
if(a != '\r' &amp;amp;&amp;amp; a != '\n' &amp;amp;&amp;amp; (a &amp;lt; 32)) continue;
Serial.print(a);
}&lt;/p>
&lt;p>Serial.println(&amp;quot;-- Sketch stopped.&amp;quot;);
}&lt;/p>
&lt;p>void loop() {
}
[/sourcecode]&lt;/p></description></item><item><title>macOS Sierra SSH "Permission Denied"</title><link>https://realrolfje.github.io/rolfje.com/2016/11/12/macos-sierra-ssh-permission-denied/</link><pubDate>Sat, 12 Nov 2016 19:47:52 +0000</pubDate><guid>https://realrolfje.github.io/rolfje.com/2016/11/12/macos-sierra-ssh-permission-denied/</guid><description>
&lt;p>&lt;a href="https://youtu.be/BweBCNBxJxM">&lt;img src="keychain-mac-tuto.png" alt="keychain-mac-tuto">
&lt;/a>If you used DSA keys to log in to your SSH server and have upgraded your client machine to macOS Sierra (or OSX Sierra if you like), you probably ran into this problem:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;text&amp;quot; gutter=&amp;quot;false&amp;quot;]
client$ ssh -p 8123 &lt;a href="mailto:george@10.0.0.10">george@10.0.0.10&lt;/a> -i ~/.ssh/id_dsa
Permission denied (publickey).
[/sourcecode]&lt;/p>
&lt;p>The answer to this problem is replacing the DSA key with an RSA key, but how do you do on the server when your only means for connecting is the OSX client machine you just upgraded? Here's how:&lt;/p>
&lt;!-- more -->First, create a new 4096 bit RSA keypair on the local machine (don't delete your DSA keys yet!). Don't use anything less than 4096 bits, and protect it with a lengthy passphrase. This key will replace the DSA key later on.
&lt;p>[sourcecode language=&amp;quot;text&amp;quot; gutter=&amp;quot;false&amp;quot;]
client$ ssh-keygen -b 4096 -t rsa -f ~/.ssh/id_rsa
Generating public/private rsa key pair.
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in id_rsa.
Your public key has been saved in id_rsa.pub.
The key fingerprint is:
SHA256:OA3Vx8qb4kKRWYs8qsq5/EywaLLdwZdlCIITFPnRtt8 &lt;a href="mailto:george@macbook.local">george@macbook.local&lt;/a>
The key's randomart image is:
+---[RSA 4096]----+
|ooo . .. . |
| + . o .. . o |
|o o +.o= o o |
| . o oB=. o |
| . .=oS o |
|. o.. .&lt;em>.Eo |
|oo oo.o. . |
|=o=. o. . |
|o&lt;/em>+o. . |
+----[SHA256]-----+
[/sourcecode]&lt;/p>
&lt;p>Don't worry about that long passphrase, Sierra now &lt;a href="https://personalresearchblog.wordpress.com/2016/09/28/macos-sierra-ssh-key-passphrase-and-the-keychain/">stores that in your Keychain&lt;/a>. Now, log into your server by temporarily enabling ssh-dss public key support on the ssh command line, like so:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;text&amp;quot; gutter=&amp;quot;false&amp;quot;]
client$ ssh -p 8123 &lt;a href="mailto:george@10.0.0.10">george@10.0.0.10&lt;/a> -i ~/.ssh/id_dsa &lt;br>
-o PubkeyAcceptedKeyTypes=+ssh-dss
[/sourcecode]&lt;/p>
&lt;p>If all went well, you should now be connected to your server, but with your old DSA key. The DSA support was disabled in Sierra because it is &lt;a href="https://security.stackexchange.com/questions/5096/rsa-vs-dsa-for-ssh-authentication-keys#5100">no longer considered to be a safe option&lt;/a> as it is based on the discrete logarithm problem and the key is required to be just 1024 bits long.&lt;/p>
&lt;p>What we need to do now is remove the DSA public key from the server and add the newly created RSA key. Start your editor with:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;text&amp;quot; gutter=&amp;quot;false&amp;quot;]
server$ vim ~/.ssh/authorized_keys
[/sourcecode]&lt;/p>
&lt;p>Find the old DSA public key, remove it. Add the contents of the &lt;code>id_rsa.pub&lt;/code> on your client machine to this file on the server. Save the file with &lt;code>&amp;lt;esc&amp;gt;:wq&amp;lt;enter&amp;gt;&lt;/code>.&lt;/p>
&lt;p>Now exit the server and reconnect with your new RSA key from the client:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;text&amp;quot; gutter=&amp;quot;false&amp;quot;]
server$ exit
client$ ssh -p 8123 &lt;a href="mailto:george@10.0.0.10">george@10.0.0.10&lt;/a> -i ~/.ssh/id_rsa
[/sourcecode]&lt;/p>
&lt;p>You should now see the welcome message from the server and the command prompt. Please note that the -i option is here for clarity; if your key is in &lt;code>~/.ssh/id_rsa&lt;/code> it will be used as default identity.&lt;/p>
&lt;p>If everything worked, please delete the id_dsa key to prevent confusion. All operations should now be back to normal (but safer).&lt;/p>
&lt;p>&lt;strong>Bonus 1: Tab-completion for SSH&lt;/strong>
If you are tired of typing the long ssh commands and remembering ip addresses and key files, create a file called &lt;code>~/.ssh/config&lt;/code> and give it the following contents:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;text&amp;quot; gutter=&amp;quot;false&amp;quot;]&lt;/p>
&lt;h1 id="my-super-secret-server">My Super secret server&lt;/h1>
&lt;p>Host secret-server
HostName 10.0.0.1
Port 8123
User george
IdentityFile ~/.ssh/id_rsa
[/sourcecode]&lt;/p>
&lt;p>After saving the file, you can use tab completion after the ssh command, and you will notice that the following command will work:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;text&amp;quot; gutter=&amp;quot;false&amp;quot;]
client$ ssh secret-server
[/sourcecode]&lt;/p>
&lt;p>&lt;strong>Bonus 2: Per-server identity&lt;/strong>
With the powers of the config file mentioned earlier, there is no longer a reason to have one key file or one userid per server. Suppose somebody accidentally gets a hold of a key file, or someone figures out a way to find a key for a bunch of packets between two machines. This would mean immediate compromise of all machines. Because there is no extra effort in using multiple keys, I use a new private key for each server. My &lt;code>~/.ssh/config&lt;/code> file looks similar to this:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;text&amp;quot; gutter=&amp;quot;false&amp;quot;]&lt;/p>
&lt;h1 id="my-super-secret-server-1">My Super secret server&lt;/h1>
&lt;p>Host secret-server
HostName 10.0.0.1
Port 8123
User george
IdentityFile ~/.ssh/id_george_secret_rsa&lt;/p>
&lt;h1 id="the-dmz-firewall">The DMZ firewall&lt;/h1>
&lt;p>Host dmz-firewall
HostName 10.0.0.21
Port 8623
User jack
IdentityFile ~/.ssh/id_jack_dmz_fw_rsa
[/sourcecode]&lt;/p>
&lt;p>Because just like passwords, I never use the same private key twice.&lt;/p></description></item><item><title>Designing a Fox-hunt antenna</title><link>https://realrolfje.github.io/rolfje.com/2016/06/19/designing-a-fox-hunt-antenna/</link><pubDate>Sun, 19 Jun 2016 21:47:36 +0000</pubDate><guid>https://realrolfje.github.io/rolfje.com/2016/06/19/designing-a-fox-hunt-antenna/</guid><description>
&lt;p>&lt;a href="3d-radiation-pattern.png">&lt;img src="3d-radiation-pattern.png" alt="3d radiation pattern">
&lt;/a>Many years ago, I used to do some &lt;a href="https://youtu.be/rrNXyv134bE">radio fox hunting with cars&lt;/a>. Usually these hunts are at night to make it more exciting, and can be great fun. As I got older I lost interest and moved on to other things. But last year, I decided to have a go at a &lt;a href="http://www.ballonvossenjacht.nl">popular balloon fox hunt&lt;/a> on 144MHz. This is quite a large scale &lt;a href="https://www.youtube.com/watch?v=_QrDOEXb_ss">and professionally organized fox hunt&lt;/a> by Dutch Radio Amateurs.&lt;!-- more -->&lt;/p>
&lt;p>Because of the totally different setup and frequency I decided to join a few recreational 144MHz (2 meter) fox hunts to get the hang of it. If you like to play with radios and walk in the woods, &lt;a href="https://www.youtube.com/watch?v=KDN8w7awAkQ">this is your thing&lt;/a>. Lots of small transmitters hidden in the bushes on random frequencies for you to find.&lt;/p>
&lt;p>Last year I used a borrowed receiver and antenna, and this year I decided to build a &lt;a href="http://www.peildoos.nl/?page_id=128">Foxbox receiver kit&lt;/a>.&lt;/p>
&lt;p>After building the receiver, the age-old discussion among radio amateurs began: What antenna to use? I had a discussion with Remco who just designed his own &lt;a href="http://remco.org/index.php/2015/02/26/145-mhz-2m-moxon-pt-2/">Moxon antenna&lt;/a> using the &lt;a href="http://www.qsl.net/4nec2/">4nec2 antenna modeler and optimizer&lt;/a>. He convinced me to use this software in order to prevent building a lot of failing antennas and not being sure why they fail. So that's what I did.&lt;/p>
&lt;p>The 4nec2 software comes with a bunch of example antennas for you to play around with. The antenna I borrowed last year was a 2 element antenna based on a &lt;a href="https://en.wikipedia.org/wiki/Log-periodic_antenna">Log Periodic Dipole Array antenna&lt;/a>. It worked fine and I had fun with it so I decided to model an antenna like that. (Also because I'm hard-headed and just copying Remco's Moxon would not lead to interesting discussions).&lt;/p>
&lt;p>&lt;strong>Step 1: Getting basic dimensions of an LPDA&lt;/strong>
The first thing I needed is a basic, ballpark approximation of a working LPDA antenna for 144MHz so I could get used to the 4nec2 modeling software. I used &lt;a href="http://hamwaves.com/lpda/en/">ON4AA's Log-Periodic Dipole Array calculator&lt;/a> to get an idea of the basic dimensions.&lt;/p>
&lt;p>I noticed that the length of the first and largest element of the antenna is always 1041 mm, no matter what taper or relative spacing I chose as input. Good news, because that means that the antenna only has a few parameters to change when optimizing in 4nec2, see below.&lt;/p>
&lt;p>&lt;strong>Step 2: Getting the design into 4nec2&lt;/strong>
So here is where the struggle starts. As I am a Mac user and the 4nec2 software is Windows only, I installed it on a Linux Mint virtual machine running under Wine without problems. The terminal window will log errors but you have to put your OCD aside for a moment and ignore those.&lt;/p>
&lt;p>For the LPDA antenna itself the struggle was not that bad, as I found an example file and was able to change that around to learn how 4nec2 works. I'll spare you the details. Just remember that you want to use the new NEC editor (Main Window, Settings → NEC Editor (new)).&lt;/p>
&lt;p>&lt;a href="1-editor.png">&lt;img src="1-editor.png" alt="4nec2 Editor">
&lt;/a>&lt;/p>
&lt;p>Here you see the two wires of my LPDA antenna. As you can see, each line has a start (X1,Y1,Z1) and end point (X2,Y2,Z2) in 3D space. Ignore the funny formulas in the screenshot for now. A counter intuitive thing for me was that lines are made out of &amp;quot;segments&amp;quot;. 4nec2 cryptically complains about too few and too much segments, and you have to choose a number accordingly.&lt;/p>
&lt;p>Another important thing to learn about 4nec2 is that you don't &amp;quot;connect&amp;quot; a source to your antenna. Rather, you choose a segment of a line which will then act as a current or voltage source (current source is the recommended default). This is why if you want to have your feed point in the middle of a wire, you need to choose an odd number of segments. In my design, both wires are 61 segments, and the feed point on both wires is on segment 31 (the middle segment of each wire).&lt;/p>
&lt;p>Connecting the two wires of the antenna is done using a transmission line, with a twist (literally). We connect segment 31 of both wires with a transmission line, and chose a &lt;em>negative impedance&lt;/em>. This causes the transmission line to &amp;quot;twist&amp;quot; in your geometry window, and you should see something like this:&lt;/p>
&lt;p>&lt;a href="2-geometry.png">&lt;img src="2-geometry.png" alt="LPDA Geometry">
&lt;/a>&lt;/p>
&lt;p>&lt;strong>Step 3: Changing the NEC file for optimization&lt;/strong>
4nec2 contains an optimizer which can optimize certain characteristics of your antenna by iterating values. If you hard-coded the X,Y and Z values of the lines, the optimizer can not change the design. To be able to use the optimizer, I chose to have variables for the length of the boom (L), length of the driving/smallest element (D), length of the reflecting/longest element (R) and impedance of the transmission line (TRI). This explains the funny values for the X,Y,Z coordinates in my file. The variables can be found on the &amp;quot;Symbols&amp;quot; tab of the NEC editor.&lt;/p>
&lt;p>&lt;strong>Step 4: Optimize!&lt;/strong>
Close the Editor window, and in the main window, select Calculate -&amp;gt; Start Optimizer. The optimizer parameters can be a bit confusing. Choose the &amp;quot;Optimize&amp;quot; function in the drop-down top left, and leave the Option set to &amp;quot;default&amp;quot;. Below the text &amp;quot;Weighting factors in %&amp;quot; you'll see 7 text fields. Set them all to 0, except for &amp;quot;F/B&amp;quot;, the Front-to-back ratio. That should be set to 100, As we are only interested in maximum directivity.&lt;/p>
&lt;p>&lt;a href="3-optimizer.png">&lt;img src="3-optimizer.png?w=450" alt="Optimizer">
&lt;/a>&lt;/p>
&lt;p>Now that we have told 4nec2 what we want (max F/B), we need to tell the optimizer which variables it can play with. In this simple design, you could select all variables by clicking on them, which moves them to the &amp;quot;selected&amp;quot; column. I tried, this does not lead to practical results and takes a bit of time depending on the speed of the computer. All open geometry or 3D view windows will live-update with the calculations. This looks really cool but things go faster if you close them.&lt;/p>
&lt;p>&lt;a href="3a-optimized-radiation.png">&lt;img src="3a-optimized-radiation.png" alt="Optimized radiation">
&lt;/a>&lt;/p>
&lt;p>After a bit of playing with the optimizer, I got to the following radiation pattern:&lt;/p>
&lt;p>&lt;a href="4-radiation-pattern.png">&lt;img src="4-radiation-pattern.png" alt="4. radiation pattern">
&lt;/a>&lt;/p>
&lt;p>&lt;strong>Step 5. Build and field test.&lt;/strong>
At this point, the software will have tried tens, if not hundreds of different antenna variations you didn't have to physically build. But now that we are &amp;quot;certain&amp;quot;, we can build the antenna. The boom is aluminum profile, the radials are made of measuring tape so they can be folded, and the handle is a broomstick:&lt;/p>
&lt;p>&lt;a href="5-antenne.jpg">&lt;img src="5-antenne.jpg" alt="Antenna">
&lt;/a>&lt;/p>
&lt;p>I've spent extra effort to make sure the dimensions are as close to the simulation as possible, to maximize the chance that it actually works as designed.&lt;/p>
&lt;p>I did a field test together with my dad, where we used a Baofeng handheld (yes &lt;a href="https://rolfje.wordpress.com/2015/05/10/better-modulation-for-the-baofeng-uv-5ra/">that one&lt;/a>) as a &amp;quot;fox&amp;quot;, taking turns in hiding it for the each other. The tests went &amp;quot;sort of okay&amp;quot;, but I noticed that it sometimes felt as if there was not one peak straight in front of the antenna, but rather two peaks left and right. This got me worrying about the accuracy of the build or the simulation. I even started doubting impact of impedance mismatch and cable length. When we got home however, I checked and saw that the 4nec2 software actually predicted this in a different diagram:&lt;/p>
&lt;p>&lt;a href="6-vertical-radiation.png">&lt;img src="6-vertical-radiation.png" alt="Vertical radiation">
&lt;/a>&lt;/p>
&lt;p>It turns out, that if the antenna is held horizontally, and the transmitter antenna is a vertical, the whole system behaves exactly as simulated, with the antenna being almost &amp;quot;deaf&amp;quot; right in front of the boom. Solution: Turn the antenna vertical or horizontal while hunting to find the maximum signal. We noticed that without being able to see the radio, I could exactly match the angle of the vertical antenna. My dad hid the fox in a tree at 45 degrees, and without seeing or knowing it I matched the angle of the antenna perfectly.&lt;/p>
&lt;p>&lt;strong>Step 6. Game on!&lt;/strong>
Just today I tried the whole setup in an actual fox hunt with 24 foxes (yes that many). I was very pleased with the performance of the antenna, and I found 14 of the foxes. With a bit of practice and experience, I'm sure I can improve to find more foxes next time around.&lt;/p>
&lt;p>And last but not least, here is the 4nec2 file for you to play around with:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;text&amp;quot; padlinenumbers=&amp;quot;false&amp;quot;]
CM Log Periodic Dipole Array for 2m fox hunting
CE
SY L=180 'Boom length
SY D=963 'Driver length
SY R=1041 'Reflector length
SY TRI=70 'Transmission line impedance
GW 1 61 0 -R/2 0 0 R/2 0 10
GW 2 61 L -D/2 0 L D/2 0 10
GS 0 0 0.001
GE 0
GN -1
EK
EX 6 2 31 0 1 0 0
TL 1 31 2 31 -TRI 0 0 0 0 0
FR 0 20 0 0 144 0.1
EN
[/sourcecode]&lt;/p>
&lt;p>Have fun!&lt;/p></description></item><item><title>Solving the JAXB "unexpected element" problem</title><link>https://realrolfje.github.io/rolfje.com/2015/06/08/solving-the-jaxb-unexpected-element-problem/</link><pubDate>Mon, 08 Jun 2015 21:43:22 +0000</pubDate><guid>https://realrolfje.github.io/rolfje.com/2015/06/08/solving-the-jaxb-unexpected-element-problem/</guid><description>
&lt;p>&lt;a href="1.jpg">&lt;img src="1.jpg?w=135" alt="-1">
&lt;/a>If you are using &lt;a href="https://en.wikipedia.org/wiki/Java_Architecture_for_XML_Binding">JAXB&lt;/a> in a maven/java project to unmarshal an XML document and you get:&lt;/p>
&lt;blockquote>javax.xml.bind.UnmarshalException: unexpected element (uri:"urn:iso:std:somestuff:xsd:somestuff", local:"Document"). Expected elements are (none)&lt;/blockquote>
&lt;p>Or if you are using JAXB to marshal an XML document and you get:&lt;/p>
&lt;blockquote>com.sun.istack.internal.SAXException2: unable to marshal type "generated.somestuff.Document" as an element because it is missing an @XmlRootElement annotation&lt;/blockquote>
&lt;p>You have probably fallen victim of the fact that JAXB does not do &amp;quot;Simple Binding&amp;quot; by default. If your project is a maven project and you generated classes based on an xsd file, this is how you fix it (without changing the xsd file):&lt;/p>
&lt;!-- more -->Tell JAXB to do "simple binding". To do so, create a binding file called src/main/resources/jaxb/simple-binding.xml with the following contents:
&lt;p>[sourcecode language=&amp;quot;xml&amp;quot;]
&amp;lt;jaxb:bindings jaxb:extensionBindingPrefixes=&amp;quot;xjc&amp;quot; version=&amp;quot;2.1&amp;quot;
xmlns:jaxb=&amp;quot;http://java.sun.com/xml/ns/jaxb&amp;quot;
xmlns:xjc=&amp;quot;http://java.sun.com/xml/ns/jaxb/xjc&amp;quot;&amp;gt;
&lt;a href="jaxb:globalBindings">jaxb:globalBindings&lt;/a>
&lt;a href="xjc:simple/">xjc:simple/&lt;/a>
&amp;lt;/jaxb:globalBindings&amp;gt;
&amp;lt;/jaxb:bindings&amp;gt;
[/sourcecode]&lt;/p>
&lt;p>Then, add the following options to the execution of your jaxb2-maven-plugin (highlighted):&lt;/p>
&lt;p>[sourcecode language=&amp;quot;xml&amp;quot; highlight=&amp;quot;13,14,15&amp;quot;]
&lt;plugin>
&lt;groupId>org.codehaus.mojo&lt;/groupId>
&lt;artifactId>jaxb2-maven-plugin&lt;/artifactId>
&lt;version>1.5&lt;/version>
&lt;executions>
&lt;execution>
&lt;id>somestuff&lt;/id>
&lt;goals>
&lt;goal>xjc&lt;/goal>
&lt;/goals>
&lt;configuration>
&lt;clearOutputDir>false&lt;/clearOutputDir>
&lt;extension>true&lt;/extension>
&lt;bindingDirectory>${basedir}/src/main/resources/jaxb&lt;/bindingDirectory>
&lt;bindingFiles>simple-binding.xjb&lt;/bindingFiles>
&lt;staleFile>${project.build.directory}/jaxb2/.somestuff.StaleFlag&lt;/staleFile>
&lt;packageName>generated.somestuff&lt;/packageName>
&lt;schemaDirectory>${basedir}/src/main/resources/schemas&lt;/schemaDirectory>
&lt;schemaFiles>somestuff.xsd&lt;/schemaFiles>
&lt;/configuration>
&lt;/execution>
&lt;/executions>
&lt;/plugin>
[/sourcecode]&lt;/p>
&lt;p>You should be able to re-generate the jaxb code now, and parsing should work. In order to test if you have this problem, and to ensure that it does not come back after somebody changes your build file, create a unittest which marshals a java object into xml, and then unmarshalls the generated xml back into an object:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;java&amp;quot;]
// Create document objects (JAXB Generated classes)
Document sourceDocument = new Document();
sourcedocument.setSomeElement(new SomeElement());&lt;/p>
&lt;p>JAXBContext jaxbContext = JAXBContext.newInstance(Document.class);&lt;/p>
&lt;p>// Write Document
File file = File.createTempFile(&amp;quot;sometempstuff&amp;quot;, &amp;quot;.xml&amp;quot;);
FileWriter fileWr = new FileWriter(file);
XMLOutputFactory xml = XMLOutputFactory.newFactory();
XMLStreamWriter xmlStrWr = xml.createXMLStreamWriter(fileWr);
xmlStrWr.writeStartDocument(&amp;quot;UTF-8&amp;quot;, &amp;quot;1.0&amp;quot;);
Marshaller marshaller = jaxbContext.createMarshaller();
marshaller.setProperty(Marshaller.JAXB_FRAGMENT, true);
marshaller.marshal(sourceDocument, xmlStrWr);
xmlStrWr.writeEndDocument();
fileWr.close();&lt;/p>
&lt;p>// Read Document
FileInputStream fileInpStr = new FileInputStream(file);
Unmarshaller unm = jaxbContext.createUnmarshaller();
Document result = (Document) unm.unmarshal(fileInpStr);&lt;/p>
&lt;p>// Test the parsedDocument here if you like.
...&lt;/p>
&lt;p>// Cleanup
file.delete();
[/sourcecode]&lt;/p>
&lt;p>The reason for this blog is of course the fact that I expected this &amp;quot;Simple Binding&amp;quot; to be the default, as 80% of the people will want to do exactly this. I've found a lot of people suffering from this problem, and I found the documentation to be not very helpful.&lt;/p>
&lt;p>I hope this blog post helps you get on with more important stuff.&lt;/p>
&lt;p>Have fun!
Rolf&lt;/p></description></item><item><title>Import/export an Oracle Schema using JDBC</title><link>https://realrolfje.github.io/rolfje.com/2015/01/02/importexport-an-oracle-schema-using-jdbc/</link><pubDate>Fri, 02 Jan 2015 09:51:16 +0000</pubDate><guid>https://realrolfje.github.io/rolfje.com/2015/01/02/importexport-an-oracle-schema-using-jdbc/</guid><description>
&lt;p>&lt;a href="https://www.youtube.com/watch?v=3j3tj1kV1hs">&lt;img src="61c1ee2ce9d31c894d188b7b17cacee90ffdece8bc4c4798d10100b7515820de.jpg" alt="Everybody gets a database!">
&lt;/a>When doing integration testing or fixing a bug in a piece of Java code that uses Oracle as a database, being able to do quick exports and imports of your schema can be a big help. Sometimes just calling Oracle's imp/exp commandline tools from your code can be of help, but I was looking for something a bit more portable and less demanding on my local development machine. I found that Oracle's datapump functionality can be called from stored procedures, which in turn can be called from a normal JDBC statement.&lt;/p>
&lt;!-- more -->Combining Oracle's information and questions like this one on StackOverflow, I've come up with a solution that allows me to call Java methods to import and export a database schema to a dumpfile, like so:
&lt;p>[sourcecode language=&amp;quot;java&amp;quot; light=&amp;quot;true&amp;quot;]
import(&amp;quot;myschema&amp;quot;, &amp;quot;myschema.dmp&amp;quot;);
export(&amp;quot;myschema&amp;quot;, &amp;quot;myschema.dmp&amp;quot;);
[/sourcecode]&lt;/p>
&lt;p>These methods make use of regular JDBC calls, are implemented as follows:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;java&amp;quot;]
public static final String EXPORT_DIR = &amp;quot;/tmp&amp;quot;;&lt;/p>
&lt;p>public void export(String schema, String fileName)
throws SQLException, IOException {
String sql = getFileContents(&amp;quot;export.sql&amp;quot;);
pStmt pStmt = dataSource
.getConnection()
.prepareStatement(sql);
pStmt.setString(1, schema.toUpperCase());
pStmt.setString(2, EXPORT_DIR);
pStmt.setString(3, fileName);
pStmt.execute();
}&lt;/p>
&lt;p>public void import(String schema, String fileName)
throws IOException, SQLException {
String sql = getFileContents(&amp;quot;import.sql&amp;quot;);
pStmt pStmt = dataSource
.getConnection()
.prepareStatement(sql);
pStmt.setString(1, schemaName.toUpperCase());
pStmt.setString(2, EXPORT_DIR);
pStmt.setString(3, fileName);
pStmt.execute();
}&lt;/p>
&lt;p>private String getFileContents(String fileName)
throws IOException {
InputStream in = this.getClass()
.getResourceAsStream(fileName);
return IOUtils.toString(in, &amp;quot;UTF-8&amp;quot;);
}
[/sourcecode]&lt;/p>
&lt;p>As you can see in the code, I create prepared statements from two sql files which are located in the same Java package. The &amp;quot;export.sql&amp;quot; contains the following code:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;sql&amp;quot;]
DECLARE
schemaname VARCHAR2(200) := ?;
directoryname VARCHAR2(200) := ?;
dumpfilename VARCHAR2(200) := ?;&lt;/p>
&lt;p>directoryvariable VARCHAR(100)
:= 'EXPORT_DIR_' || schemaname;&lt;/p>
&lt;p>handle NUMBER;
status VARCHAR2(20);
BEGIN&lt;/p>
&lt;p>EXECUTE IMMEDIATE 'CREATE OR REPLACE DIRECTORY '
|| directoryvariable || ' AS '''
|| directoryname || '''';&lt;/p>
&lt;p>handle := DBMS_DATAPUMP.OPEN(
operation =&amp;gt; 'EXPORT',
job_mode =&amp;gt; 'SCHEMA',
job_name =&amp;gt; 'datapump export schema '
|| schemaname);&lt;/p>
&lt;p>DBMS_DATAPUMP.ADD_FILE(
handle =&amp;gt; handle,
filename =&amp;gt; dumpfilename,
directory =&amp;gt; directoryvariable,
reusefile =&amp;gt; 1);&lt;/p>
&lt;p>DBMS_DATAPUMP.ADD_FILE(
handle =&amp;gt; handle,
filename =&amp;gt; dumpfilename || '.export.log',
directory =&amp;gt; directoryvariable,
filetype =&amp;gt; DBMS_DATAPUMP.KU$_FILE_TYPE_LOG_FILE,
reusefile =&amp;gt; 1);&lt;/p>
&lt;p>DBMS_DATAPUMP.METADATA_FILTER(
handle =&amp;gt; handle,
name =&amp;gt; 'SCHEMA_EXPR',
value =&amp;gt; 'IN (''' || schemaname || ''')');&lt;/p>
&lt;p>DBMS_DATAPUMP.START_JOB(handle);
DBMS_DATAPUMP.WAIT_FOR_JOB(handle, status);&lt;/p>
&lt;p>EXECUTE IMMEDIATE 'DROP DIRECTORY '
|| directoryvariable;
END;
[/sourcecode]&lt;/p>
&lt;p>The &amp;quot;import.sql&amp;quot; looks very similar, containing the following code:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;sql&amp;quot;]
DECLARE
schemaname VARCHAR2(200) := ?;
directoryname VARCHAR2(200) := ?;
dumpfilename VARCHAR2(200) := ?;&lt;/p>
&lt;p>directoryvariable VARCHAR(100) := 'EXPORT_DIR_'
|| schemaname;&lt;/p>
&lt;p>handle NUMBER;
status VARCHAR2(20);
BEGIN&lt;/p>
&lt;p>EXECUTE IMMEDIATE 'CREATE OR REPLACE DIRECTORY '
|| directoryvariable || ' AS '''
|| directoryname || '''';&lt;/p>
&lt;p>handle := DBMS_DATAPUMP.OPEN(
operation =&amp;gt; 'IMPORT',
job_mode =&amp;gt; 'SCHEMA',
job_name =&amp;gt; 'datapump import schema '
|| schemaname);&lt;/p>
&lt;p>DBMS_DATAPUMP.ADD_FILE(
handle =&amp;gt; handle,
filename =&amp;gt; dumpfilename,
directory =&amp;gt; directoryvariable);&lt;/p>
&lt;p>DBMS_DATAPUMP.ADD_FILE(
handle =&amp;gt; handle,
filename =&amp;gt; dumpfilename || '.import.log',
directory =&amp;gt; directoryvariable,
filetype =&amp;gt; DBMS_DATAPUMP.KU$_FILE_TYPE_LOG_FILE,
reusefile =&amp;gt; 1);&lt;/p>
&lt;p>DBMS_DATAPUMP.SET_PARAMETER(
handle =&amp;gt; handle,
name =&amp;gt; 'table_exists_action',
value =&amp;gt; 'REPLACE');&lt;/p>
&lt;p>DBMS_DATAPUMP.METADATA_FILTER(
handle =&amp;gt; handle,
name =&amp;gt; 'SCHEMA_EXPR',
value =&amp;gt; 'IN (''' || schemaname || ''')');&lt;/p>
&lt;p>DBMS_DATAPUMP.START_JOB(handle);
DBMS_DATAPUMP.WAIT_FOR_JOB(handle, status);&lt;/p>
&lt;p>EXECUTE IMMEDIATE 'DROP DIRECTORY '
|| directoryvariable;
END;
[/sourcecode]&lt;/p>
&lt;p>I recommend reading the Oracle Datapump documentation (albeit dangerously enterprisey) to see what exactly happens when these scripts run. For instance, dumpfiles are reused (overwritten) without notice, and logfiles are created next to the dumpfile.&lt;/p>
&lt;p>In this example, I write the dumpfiles to the &amp;quot;/tmp&amp;quot; directory on the database server. You can change this to any directory you like, but please make sure that the directory exists, and that the oracle user or orainst group has write access in that directory. A good way to start is first make it work with the /tmp directory, as in this example. If Oracle can not (over)write a file for any reason, you will get incomprehensible error messages about incorrect parameters in the dbms.datapump.add_file() calls.&lt;/p>
&lt;p>Enjoy your Oracle-free development environment!&lt;/p></description></item><item><title>Print posters on a regular printer with Excel.</title><link>https://realrolfje.github.io/rolfje.com/2014/05/15/print-posters-on-a-regular-printer-with-excel/</link><pubDate>Thu, 15 May 2014 20:24:18 +0000</pubDate><guid>https://realrolfje.github.io/rolfje.com/2014/05/15/print-posters-on-a-regular-printer-with-excel/</guid><description>
&lt;p>&lt;a href="http://www.youtube.com/watch?v=_wwVRJ4_Ayk">&lt;img src="ts-50-rx-tx-board-banner.jpg" alt="TS-50-RX-TX-board-banner">
&lt;/a>&lt;/p>
&lt;p>I recently needed to print out a big schematic diagram of the RX/TX board of a Kenwood TS50 Transceiver. This did not fit on a single piece of paper. Instead of downloading all kinds of crappy tools or uploading the image to some &amp;quot;free&amp;quot; site which is going to use it for whatever they think justifies their definition of &amp;quot;free&amp;quot;, I found out you can do this in Excel. Here's how:&lt;/p>
&lt;pre>&lt;code> 1. Make sure the image you want to print out as a poster has a decent resolution
2. Open Excel (maybe this will work in LibreOffice too, I haven't tested, let me know)
3. Drag the image into a new worksheet so that it is top-left of the sheet.
4. Open the &amp;quot;Print preview&amp;quot; (the little icon in the bottom left of the window)
5. Resize the image so that it covers more than one page, up to the number of pages you'd like the poster to be. Your screen should now look somewhat like this:
&lt;/code>&lt;/pre>
&lt;p>&lt;a href="screen-shot-2014-05-15-at-21-58-23.png">&lt;img src="screen-shot-2014-05-15-at-21-58-23.png" alt="Screen Shot 2014-05-15 at 21.58.23">
&lt;/a>
6. Optional: Adjust the page margins.
7. Print.&lt;/p>
&lt;p>After this, you'll be gluing the pages together, but I think you already figured that out beforehand.&lt;/p>
&lt;p>Have fun!&lt;/p></description></item><item><title>There's life without Google. Or iCloud. Or Facebook.</title><link>https://realrolfje.github.io/rolfje.com/2014/03/08/theres-life-without-google-or-icloud-or-facebook/</link><pubDate>Fri, 07 Mar 2014 22:41:13 +0000</pubDate><guid>https://realrolfje.github.io/rolfje.com/2014/03/08/theres-life-without-google-or-icloud-or-facebook/</guid><description>
&lt;p>&lt;a href="https://threema.ch/en/">&lt;img src="appicon128.png" alt="Threema, the secure Whatsapp alternative">
&lt;/a>Regular readers of this blog already know that I am &lt;a href="http://rolfje.wordpress.com/2011/07/03/1355/">not using dropbox&lt;/a>, and I was an Evernote user, but recently decided it became to dangerous and &lt;a href="http://rolfje.wordpress.com/?s=evernote">replaced it with my own scripts&lt;/a>. I had an interesting discussion on Twitter which made me decide to show you how I run my digital life without the help of Google, Facebook, Dropbox, Whatsapp or iCloud, and still be able to have all the functionality these services offer.&lt;/p>
&lt;p>The search was hard and sometimes I need to reconsider some of the choices, but the last few years the selection of products was very stable and the setup has worked flawlessly. Searching for a secure replacement for Whatsapp or Google? It's in here.&lt;/p>
&lt;!-- more -->
&lt;table >
&lt;tbody >
&lt;tr >
Original
The Safer Alternative:
&lt;/tr>
&lt;tr >
&lt;td valign="top" >Whatsapp
&lt;/td>
&lt;td >[**Threema**](https://threema.ch/en/). Hands-down the best safe messaging service. Easy to use, group chats, image and video transfers. Under the hood it always uses true end-to-end encryption, and does not store any data about you or contacts your addressbook while still being able to find your friends. Threema costs a mere €1,70 for the iPhone and €1,60 for Android, and is very clear about their revenue model. Sending a message is free of charge. No I don't use Telegram.
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td valign="top" >Mail
&lt;/td>
&lt;td >**[Hushmail](https://www.hushmail.com/services/hushmail/)**. A Canadian email provider which at least claims it respects your privacy and is not bound to American legislation. I use their [Premium service](https://www.hushmail.com/premium/) which costs $35 a year. A bargain.
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td valign="top" >Google Search
&lt;/td>
&lt;td >**[DuckDuckGo](https://duckduckgo.com)**. Although there are some sceptics out there who argue that there is no way to verify how duckduckgo is any different than Google's search engine, I still think it is a better alternative. One of the most important ones is that they don't ["bubble"](http://dontbubble.us) you. Image searching is not possible yet. so I do fall back to Google for that every now and than, but only in a separate, private browser session with cleared cookies.
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td valign="top" >Google Maps
&lt;/td>
&lt;td >The Apple [**Maps**](http://appleinsider.com/articles/13/06/26/new-maps-app-in-os-x-mavericks-extends-tools-for-reporting-fixing-errors) app, or if you don't have a Mac or need to search online: [Mapquest](http://www.mapquest.com) provides a good alternative to Google maps. Not the prettiest interface, but any product other than a Google product gives them less data to harvest on me. Always remember: If you're not paying for the product, you're the product.
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td valign="top" >Calendar, Contacts
&lt;/td>
&lt;td >[**Owncloud**](http://owncloud.org). In my case, I have bought a $40 Raspberry Pi which is beautifully running Owncloud to sync Calendars over SSL between my iPhone and all my Macs. It requires a bit of Linux skills and isn't really safe "out of the box", but can be made pretty airtight. **Remember to close all ports and only access Owncloud over**** SSL** (most tutorials wrongly teach you otherwise), and don't expect high performance from the Raspberry when it comes to rendering browser pages. I've added a little script that sends backups to my file server via SMB.
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td valign="top" >File synching (Dropbox)
&lt;/td>
&lt;td >[**SpiderOak**](https://spideroak.com/signup/referral/4b01a22f64d398afbd846637080bd2b4/). A true zero-knowledge encrypted file storage. With the new ["Hive" feature](https://spideroak.com/hive/) it behaves exactly like Dropbox, but has additional features like a backup service. Choose a safe password and store it somewhere secure, because Spideroak can not recover your password or your files if you loose it. I started with the 2GB free for life account, but it soon grew to a 50GB account. Great stuff, very reliable, safe.
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td valign="top" >Evernote
&lt;/td>
&lt;td >**[SpiderNote](http://rolfje.wordpress.com/2014/03/02/replace-evernote-with-spidernote/)**. It may be a bit cobbled together, but as an old Evernote fan I needed a good alternative and it should be able to sync between all my Macs. So I save my notes in a SpiderOak folder and search them with Spotlight. Not as fancy as Evernote, but the price (risk) of storing my data unencrypted on an American server became too high. **
**
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td valign="top" >Facebook
&lt;/td>
&lt;td >[**Twitter**](https://twitter.com/rolfje#). I hate to dissapoint you, but Facebook is free of charge and they store your entire digital life. What do you think is Facebook's product precisely? Also, I see that you have 86.355 "friends" on Facebook. I hate to disappoint you but those are called "random strangers". Even if your account is *cough* private (except for Mark $uckeberg). I like to talk to people too, that's why I have this blog, and for the smaller chit-chat I use Twitter. My real friends are on Threema, or, if need be, I talk to them. It's very old-fashioned. I drive over and meet them in person. And sometimes they even come to my house. I know, crazy right? Old school.
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td valign="top" >LinkedIn
&lt;/td>
&lt;td >None. I could hold the same rant for Facebook and LinkedIn alike. They're not there for you. You're there for them. I did make the mistake of creating a LinkedIn account a long time ago because people said "you need this". After quite a few mails from LinkedIn requesting me to endorse people, update my profile or water their plants, I realized that I was working for them, not the other way around. I cancelled and deleted my account. Guess what? I'm still alive and well. If you're a developer, you're better off by gaining community based reputation on sites like **[Stackoverflow](https://stackoverflow.com/users/21134/rolf)**.
&lt;/td>
&lt;/tr>
&lt;tr valign="top" >
&lt;td >Local Backups
&lt;/td>
&lt;td >**[Encrypted TimeMachine](http://support.apple.com/kb/PH11102)** and Time Capsule volumes. My local drives are also full-disk encrypted using Apple's built-in [FileVault 2](http://support.apple.com/kb/HT4790?viewlocale=en_US&amp;locale=en_US). There is a Mac Mini file server in the house which holds all familiy photos  so that we can view them on the TV for example. The photos are on a read-only fileshare and are backed up using Time Machine locally.
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td valign="top" >Remote/Offsite Backups
&lt;/td>
&lt;td >[**Crashplan Free**](https://www.code42.com/store/), sending the data on the TimeMachine drive on the fileserver to another fileserver at my parents' house. His fileserver backs up on my machine and vice-versa. One house can completely burn down and we still have all data, without it ever being uploaded to some unencrypted company server.
&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
**Why not Telegram?**
A few words of advice on using Telegram: Whatever they tell you, the data is *not* (properly) encrypted and it is easy to tell: The data is [stored in their "cloud"](http://unhandledexpression.com/2013/12/17/telegram-stand-back-we-know-maths/) and provided to you on all your devices. Even worse: They are [showing your data to "potential friends"](http://mcleaver.blogspot.nl/2014/02/telegram-verses-whatsapp.html?m=1) who [do not have you in their contact](https://twitter.com/GVerbaan/status/436909531625697280) lists or may have never heard of you. They upload your complete address book to their servers. They also know the [geolocation of your phone](http://blog.hackapp.com/2013/12/telegram-secret-chat-geolocation-leak.html). Unencrypted. They have your data, and show it by leaking it. They can fix the leaks and tell you it's safe, but they still have your data. It's also fishy that they clearly [have money to pimp their server farm](https://twitter.com/telegram/status/437745646007631872), even when the app and the messages are free of charge. Who do you think is the product here?
&lt;p>&lt;a href="https://www.netmess.org/only-threema-rated-uncritical-telegram-rated-critical-for-privacy/">&lt;img src="telegram.png" alt=""Come in to the dark side. We have privacy"">
&lt;/a>&lt;/p></description></item><item><title>From the Finder to the Shell (and back)</title><link>https://realrolfje.github.io/rolfje.com/2013/12/20/from-the-finder-to-the-shell-and-back/</link><pubDate>Fri, 20 Dec 2013 21:10:41 +0000</pubDate><guid>https://realrolfje.github.io/rolfje.com/2013/12/20/from-the-finder-to-the-shell-and-back/</guid><description>
&lt;p>A quick tip for OSX users out there who frequently need to open a Terminal window for the current location in the finder, or the other way around:&lt;/p>
&lt;p>&lt;img src="open-folder.png" alt="Go2Shell and Back">&lt;/p>
&lt;p>Install the free application from the App Store: &lt;a href="https://itunes.apple.com/nl/app/go2shell/id445770608?l=en&amp;amp;mt=12">Go2Shell&lt;/a>. It will give you an icon on the toolbar of your Finder, and pressing it will open a Terminal window and automatically change it's directory to match the Finder's location.&lt;/p>
&lt;p>The other way around is easier; you can already do that on any Mac. Simply type &amp;quot;open .&amp;quot; (that's the word &amp;quot;open&amp;quot;, followed by a space and a period). This command will open a Finder window for the directory location your Terminal window is in.&lt;/p>
&lt;p>&lt;strong>Bonus tip:&lt;/strong> Also check the &amp;quot;open -t [filename]&amp;quot; command, it will open your system's default text editor with the given file.&lt;/p></description></item><item><title>Anonimatron: Quick Start</title><link>https://realrolfje.github.io/rolfje.com/2013/11/03/anonimatron-quick-start/</link><pubDate>Sun, 03 Nov 2013 14:33:15 +0000</pubDate><guid>https://realrolfje.github.io/rolfje.com/2013/11/03/anonimatron-quick-start/</guid><description>
&lt;p>&lt;a href="https://www.youtube.com/watch?v=opk4x7jzRS4">&lt;img src="homer.png" alt="Anonymous customer">
&lt;/a>After reading my last blogpost on Anonimatron, you must have asked yourself &amp;quot;Great, but how do I actually use Anonimatron to de-personalize my database&amp;quot;? I tried my best to make basic Anonimatron configuration as self-explanatory as possible, just start it without any command line arguments and it will tell you.&lt;/p>
&lt;p>Less adventurous or in a big hurry? This blogpost will show how simple it is to install and configure Anonimatron on an example MySQL database.&lt;/p>
&lt;!-- more -->**Setting up a test database**
&lt;p>To demonstrate what Anonimatron can do to your data, we will create a little test database to play with. Anonimatron connects to all kinds of databases, including MySQL, Postgress and Oracle. In this example, we use MySQL. Here are all the statements you need to create a little database with 2 tables, a user, and some &amp;quot;private&amp;quot; data:&lt;/p>
&lt;p>[code lang=&amp;quot;sql&amp;quot; gutter=&amp;quot;false&amp;quot;]
create database mydb;
create user myuser identified by 'mypassword';
grant all privileges on &lt;em>.&lt;/em> to 'myuser'@'localhost'
identified by 'mypassword' with grant option;&lt;/p>
&lt;p>create table mydb.userdata (
id int not null auto_increment primary key,
firstname varchar(20),
lastname varchar(20),
creditcardnr varchar(20)
);&lt;/p>
&lt;p>create table mydb.lastnames (
id int not null auto_increment primary key,
lastname varchar(20)
);&lt;/p>
&lt;p>insert into mydb.userdata
(firstname,lastname, creditcardnr)
values ('Homer', 'Simpson','1234'),
('Marge', 'Simpson','5678'),
('Ned', 'Flanders','3456'),
('Charles', 'Burns','3456');&lt;/p>
&lt;p>insert into mydb.lastnames (lastname)
values ('Simpson'), ('Flanders'), ('Burns');
[/code]&lt;/p>
&lt;p>After all the hard work, you should be able to connect to the database with 'myuser' and see the &amp;quot;private&amp;quot; data in there:&lt;/p>
&lt;p>[code language=&amp;quot;sql&amp;quot; light=&amp;quot;true&amp;quot;]
select * from mydb.userdata;
[/code]&lt;/p>
&lt;table >
&lt;tbody >
&lt;tr >
id
firstname
lastname
creditcardnr
&lt;/tr>
&lt;tr >
&lt;td >1
&lt;/td>
&lt;td >Homer
&lt;/td>
&lt;td >Simpson
&lt;/td>
&lt;td >1234
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td >2
&lt;/td>
&lt;td >Marge
&lt;/td>
&lt;td >Simpson
&lt;/td>
&lt;td >5678
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td >3
&lt;/td>
&lt;td >Ned
&lt;/td>
&lt;td >Flanders
&lt;/td>
&lt;td >3456
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td >4
&lt;/td>
&lt;td >Charles
&lt;/td>
&lt;td >Burns
&lt;/td>
&lt;td >3456
&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
[code language="sql" light="true"]
select * from mydb.lastnames;
[/code]
&lt;table >
&lt;tbody >
&lt;tr >
id
lastname
&lt;/tr>
&lt;tr >
&lt;td >1
&lt;/td>
&lt;td >Simpson
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td >2
&lt;/td>
&lt;td >Flanders
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td >3
&lt;/td>
&lt;td >Burns
&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
Let's pretend that this is a copy of a production database, and you want to de-personalize or anonymize it.
&lt;p>&lt;strong>Installing Anonimatron&lt;/strong>
To anonymize your data,  &lt;a href="http://http://anonimatron.sourceforge.net">download Anonimatron&lt;/a> and unzip it in a directory of your choice. You should find an &amp;quot;anonimatron.sh&amp;quot; and &amp;quot;anonimatron.bat&amp;quot; file there. Depending on your system, run it without arguments. If you have java installed on your system you should see something like this:&lt;/p>
&lt;p>[code light=&amp;quot;true&amp;quot;]
$ ./anonimatron.sh&lt;/p>
&lt;p>This is Anonimatron 1.7, a command line tool to consistently
replace live data in your database with data data which
can not be traced back to the original data.
You can use this tool to transform a dump from a production
database into a large representative dataset you can
share with your development and test team.
Use the -configexample command line option to get an idea of
what your configuration file needs to look like.&lt;/p>
&lt;p>usage: java -jar anonimatron.jar
-config The XML Configuration file describing what to
anonymize.
-configexample Prints out a demo/template configuration file.
-dryrun Do not make changes to the database.
-synonyms The XML file to read/write synonyms to. If the file
does not exist it will be created.
[/code]&lt;/p>
&lt;p>Victory! You've installed Anonimatron. Yes, life can really be that easy.&lt;/p>
&lt;p>&lt;strong>Configuring Anonimatron&lt;/strong>
Next, we need to tell Anonimatron how to connect to our database, and which tables and columns to process and how. The hardest part of this is probably figuring out how to create a jdbc connect string. Anonimatron can help you with that. If you start anonimatron with the &amp;quot;-configexample&amp;quot; parameter, it will scan the jdbcdrivers directory for available and supported drivers, and will show you how a jdbc URL for any of these should look:&lt;/p>
&lt;p>[code light=&amp;quot;true&amp;quot;]
$ ./anonimatron.sh -configexample&lt;/p>
&lt;p>Supported Database URL formats:
Jdbc URL format By Driver
jdbc:oracle:oci8:@[SID] oracle.jdbc.driver.OracleDriver
jdbc:oracle:thin:@[HOST]:[PORT]:[SID] oracle.jdbc.driver.OracleDriver
jdbc:oracle:oci:@[SID] oracle.jdbc.driver.OracleDriver
jdbc:postgresql://[HOST]:[PORT]/[DB] org.postgresql.Driver
jdbc:mysql://[HOST]:[PORT]/[DB] org.gjt.mm.mysql.Driver&lt;/p>
&lt;p>Anonimatron will try to autodetect drivers which are
stored in the lib directory. Add you driver there.&lt;/p>
&lt;p>...
[/code]&lt;/p>
&lt;p>In this example, we have just created a MySQL database, so we'll use that URL and fill in the blanks. We use the rest of the configuration example and with some copy-pasting we come up with the following configuration:&lt;/p>
&lt;p>[code language=&amp;quot;xml&amp;quot; gutter=&amp;quot;false&amp;quot;]&lt;/p>
&lt;?xml version="1.0" encoding="UTF-8"?>
&lt;p>&lt;configuration jdbcurl="jdbc:mysql://localhost:3306/mydb"
userid="mydata" password="mypassword">&lt;/p>
&lt;table name="userdata">
&lt;column name="firstname" type="ROMAN_NAME" />
&lt;column name="lastname" type="ELVEN_NAME" />
&lt;column name="creditcardnr" type="RANDOMDIGITS"/>
&lt;/table>
&lt;table name="lastnames">
&lt;column name="lastname" type="ELVEN_NAME" />
&lt;/table>
&lt;/configuration>
[/code]
&lt;p>This simple configuration file will tell Anonimatron the following things:&lt;/p>
&lt;pre>&lt;code> * How to connect to the mydb database
* The values in username.firstname should be processed with the ROMAN_NAME Anonymizer. Anonymizers are little plugins which are able to generate data with certain properties, sometimes based on the original data. This particular Anonymizer generates Roman Names by picking syllables from a builtin list.
* The values in username.lastname should be replaced by Elven names. This is almost identical to Roman names but with a different Syllable file.
* The userdata.creditcardnr should be replaced by a set of random digits of the same length. In our case, 4 digits will be replaced by 4 differnt digits. Should you really need numbers which are semantically correct credit card numbers, you could write your own Anonymizer plugin. We'll cover that in a later blogpost.
* The lastnames.lastname column is also an Elven name. Because of the way Anonimatron handles data, strings in this column will be processed exactly the same way as the userdata.lastname column, as we will see below.
&lt;/code>&lt;/pre>
&lt;p>&lt;strong>Anonymize!&lt;/strong>
Now that we have configured Anonimatron, it's time to start it up and tell it to use our configuration file and store synonyms. It will be finished in the blink of an eye, and your output should look somewhat like this:&lt;/p>
&lt;p>[code light=&amp;quot;true&amp;quot;]
$ ./anonimatron.sh -config config.xml -synonyms synonyms.xml&lt;/p>
&lt;p>Anonymization process started&lt;/p>
&lt;p>Jdbc url : jdbc:mysql://localhost:3306/mydb
Database user : mydata
To do : 2 tables.&lt;/p>
&lt;p>Anonymizing table 'lastnames', total progress [100%, ETA 11:36:56 PM]
Anonymization process completed.&lt;/p>
&lt;p>Writing Synonyms to synonyms.xml ...[done].
[/code]&lt;/p>
&lt;p>If Anonimatron complains or does not run, you might want to check out the &lt;em>anonimatron.log&lt;/em> file for clues. Most log entries will be pretty self-explanatory. If not, please register an issue and we'll see what we can do to fix that.&lt;/p>
&lt;p>Let's check the results. First, we can check what synonyms were generated by looking into the synonyms.xml file we told it to create:&lt;/p>
&lt;p>[code light=&amp;quot;true&amp;quot;]
$ cat synonyms.xml
[/code]
[code language=&amp;quot;xml&amp;quot; gutter=&amp;quot;false&amp;quot;]&lt;/p>
&lt;?xml version="1.0" encoding="UTF-8"?>
&lt;synonyms>
&lt;string type="ELVEN_NAME" from="QnVybnM=" to="RGhvZWxsaWFu"/>
&lt;string type="ELVEN_NAME" from="RmxhbmRlcnM=" to="QWhlbGhhbGRldGhlc3M="/>
&lt;string type="ELVEN_NAME" from="U2ltcHNvbg==" to="QWhkdWxlbGhhbGVs"/>
&lt;string type="ROMAN_NAME" from="SG9tZXI=" to="QmVudWxhdWJlbGl1cw=="/>
&lt;string type="ROMAN_NAME" from="TmVk" to="RWN1cw=="/>
&lt;string type="ROMAN_NAME" from="TWFyZ2U=" to="QWxudWxhdWN1cw=="/>
&lt;string type="ROMAN_NAME" from="Q2hhcmxlcw==" to="QWxudXM="/>
&lt;string type="RANDOMDIGITS" from="NTY3OA==" to="ODY5OA=="/>
&lt;string type="RANDOMDIGITS" from="MTIzNA==" to="NDM0Mw=="/>
&lt;string type="RANDOMDIGITS" from="MzQ1Ng==" to="NjEyNQ=="/>
&lt;/synonyms>
[/code]
&lt;p>You'll note that the &amp;quot;from&amp;quot; and &amp;quot;to&amp;quot; values look a bit garbled. This is because Anonimatron used Base64 encoding to store values of synonyms. This is so that we can store the values bit for bit, without worying about encodings. If you wanted to, you could easily decode these strings by writing a little program.&lt;/p>
&lt;p>Even without decoding we can see some interesting things about this file. Remember we had lastnames configured as Elven names? Although we have 4 entries in the username table, we see only 3 Elven names. That is because Homer and Marge have the same lastname. These same synonyms are also used by the lastnames.lastname column. The same goes for the creditcard numbers. As might have noticed that Ned Flanders and Charles Burns used the same credit card number in this system.&lt;/p>
&lt;p>Enough staring at XML. Let's get to what matters most: our database. First, let's see if the names and numbers have changed:&lt;/p>
&lt;p>[code language=&amp;quot;sql&amp;quot; light=&amp;quot;true&amp;quot;]
select * from mydb.userdata;
[/code]&lt;/p>
&lt;table >
&lt;tbody >
&lt;tr >
id
firstname
lastname
creditcardnr
&lt;/tr>
&lt;tr >
&lt;td >1
&lt;/td>
&lt;td >Benulaubelius
&lt;/td>
&lt;td >Ahdulelhalel
&lt;/td>
&lt;td >4343
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td >2
&lt;/td>
&lt;td >Alnulaucus
&lt;/td>
&lt;td >Ahdulelhalel
&lt;/td>
&lt;td >8698
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td >3
&lt;/td>
&lt;td >Ecus
&lt;/td>
&lt;td >Ahelhaldethess
&lt;/td>
&lt;td >6125
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td >4
&lt;/td>
&lt;td >Alnus
&lt;/td>
&lt;td >Dhoellian
&lt;/td>
&lt;td >6125
&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
That looks much better. The first and lastnames are (almost) pronounceable names which probably would look realistic in a screenshot or testcase, yet there is no trace left of the original data that was there. When we check the lastnames table we see that lastnames are being translated consistently with the userdata table:
&lt;p>[code language=&amp;quot;sql&amp;quot; light=&amp;quot;true&amp;quot;]
select * from mydb.lastnames;
[/code]&lt;/p>
&lt;table >
&lt;tbody >
&lt;tr >
id
lastname
&lt;/tr>
&lt;tr >
&lt;td >1
&lt;/td>
&lt;td >Ahdulelhalel
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td >2
&lt;/td>
&lt;td >Ahelhaldethess
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td >3
&lt;/td>
&lt;td >Dhoellian
&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
This consistent behavior makes sure that queries where the userdata table and the lastnames table are joined based on lastname will still work.
&lt;p>If you want to play some more with Anonimatron, recreate the original tables, add additional (overlapping) data and re-run anonimatron against it with the synonym file you just created. You'll notice that any &amp;quot;Simpson&amp;quot; lastname will be translated to &amp;quot;Ahdulelhalel&amp;quot; constently on each run. If you don't want that to happen, simply throw away the synonym file or don't tell Anonimatron to use it. You can also generate the synonym file first without doing anything to the database by using the -dryrun option, and later do the same run based on the synonyms generated earlier.&lt;/p>
&lt;p>Remember: The private data &amp;quot;moved&amp;quot; from the database into the synonyms.xml file we created. So that becomes the new data to watch. Store it in a safe place where nobody can access it.&lt;/p>
&lt;p>Have fun experimenting!&lt;/p></description></item><item><title>Anonimatron: Overview</title><link>https://realrolfje.github.io/rolfje.com/2013/10/31/anonimatron-overview/</link><pubDate>Thu, 31 Oct 2013 20:42:28 +0000</pubDate><guid>https://realrolfje.github.io/rolfje.com/2013/10/31/anonimatron-overview/</guid><description>
&lt;p>&lt;a href="http://anonimatron.sf.net/">&lt;img src="itsthelaw.png" alt="It's the Law">
&lt;/a>In every software project, there comes a time where a bug pops up, nobody knows how to reproduce it, and somebody says &amp;quot;I know, let's test this against a copy of the production database&amp;quot;. Even with the best intentions, once production data leaves the production machine with all its safeguards it becomes really hard to do access control on that data.&lt;/p>
&lt;p>Most of the time, it's not even needed to have that data. Developers just need a data set which resembles the production scenario close enough. Some brave souls have mixed succes with data generators, but those generators usually are tedious to maintain and die a slow death under the pressure of the daily grind.&lt;/p>
&lt;p>In some ambitious projects automated integration testcases are built on top of the data which was inserted by the data generators. As the generators die, so die the tests. If you recognize this pattern, &lt;a href="http://http://anonimatron.sourceforge.net">Anonimatron&lt;/a> might be the answer for you.&lt;/p>
&lt;!-- more -->
&lt;p>&lt;img src="1-dataindb.png" alt="Customer data in the database.">&lt;/p>
&lt;p>So let's say you're working on release 5 of a big webshop, and because of the succes of the shop, it runs into performance problems. There's no time or budget to build a data generator, and before you can say no, you have a copy of the production data on some development server, containing the creditcard data of your customers. What do you do?&lt;/p>
&lt;p>This is where Anonimatron comes in. Anonimatron can de-personalize or anonymize your data for you, give you total control over what gets anonymized, and how, and thinks of data types as &amp;quot;color&amp;quot; or &amp;quot;address&amp;quot; instead of &amp;quot;int&amp;quot; and &amp;quot;String&amp;quot;. Here's how that works:&lt;/p>
&lt;p>&lt;img src="2-anonimatron.png" alt="Anonimatron data flow">&lt;/p>
&lt;p>For every distinct, unique value A, Anonimatron creates a replacement value X, and writes that back to the database. It stores the A=X relation in a Synonym, and consistently applies those Synonyms throughout all tables in the database.&lt;/p>
&lt;p>By using synonyms, Anonimatron makes sure that your database is still statistically roughly the same as before anonymization, and also makes sure that if you have two tables with a &amp;quot;lastname&amp;quot; column, matching records will actually still match.&lt;/p>
&lt;p>Anonimatron (optionally) stores these synonyms for later use, so it can be consistent between different runs. New production data? No problem. Load it, tell Anonimatron to use the old synonyms, and the old data will be Anonymized exactly the same as the last time. Only new records will generate new synonyms, which of course will be added to the synonym file for the next run.&lt;/p>
&lt;p>This feature also enables you to write testscripts based on anonymized production data. Your scripts will not easily break, because new production copies are anonymized very consistently.&lt;/p>
&lt;p>&lt;img src="3-datainsynonims.png" alt="Data in Synonyms">&lt;/p>
&lt;p>After the anonymization process, the private data will be in the synonym file. This file needs to be put in a (very) safe place, and only the people that import production data and run Anonimatron should be able to access this file.&lt;/p>
&lt;p>After anonymization, developers can access the database without immediately being exposed to private addresses of customers, bank accounts, or whatnot. Of course this all depends on what you tell Anonimatron to do, and what to anonymize.&lt;/p>
&lt;p>Remember, with great power comes great responsibility. Try to stay away from customer data as much as you can, and handle it with deep respect when you get it, delete it or depersonalize it as soon as you can. Use &lt;a href="http://http://anonimatron.sourceforge.net">Anonimatron&lt;/a> wisely.&lt;/p>
&lt;h2 id="its-the-law">&lt;strong>It's the Law.&lt;/strong>&lt;/h2></description></item><item><title>Script: Text-to-NATO-spelling</title><link>https://realrolfje.github.io/rolfje.com/2013/05/27/script-text-to-nato-spelling/</link><pubDate>Mon, 27 May 2013 19:11:32 +0000</pubDate><guid>https://realrolfje.github.io/rolfje.com/2013/05/27/script-text-to-nato-spelling/</guid><description>
&lt;p>&lt;a href="https://www.youtube.com/watch?v=dyWbu2y4QL4">&lt;img src="straight-key.jpg" alt="Straight Key">
&lt;/a>In my morse training adventure on &lt;a href="http://lcwo.net/">lcwo.net&lt;/a>, I hit a slight bump in the road. At Koch lesson 33 (of 40 lessons total), I can't seem to copy with 90% accuracy, which is the criterea for moving to the next lesson. See my downward trend here. It is partly because of gradually speeding up the &lt;a href="http://www.justlearnmorsecode.com/farnsworth.html">Farnsworth timing&lt;/a> from 10wpm to 12wpm so I can be on 20wpm at lesson 40. It is also because of shorter, less focussed daily training sessions, I must confess.&lt;/p>
&lt;p>&lt;a href="terrible-progress-lcwo.png">&lt;img src="terrible-progress-lcwo.png?w=450" alt="LCWO.net progress">
&lt;/a>&lt;/p>
&lt;p>I experimented a bit, and it seems I can recognize characters easily at &lt;a href="http://cgi2.lcwo.net/cgi-bin/cw.mp3?s=37&amp;amp;e=37&amp;amp;f=600&amp;amp;t=This%20is%2037wpm%20morse%20code%20%20%20%20%5E">37wpm&lt;/a>, but I can't form the words and recognize letters at the same time. More accurately: I can't seem to be able to remember 3 to 5 characters, form a word and listen to new characters at the same time.&lt;/p>
&lt;!-- more -->To see if this was morse or memory related, I wrote a small program which spells out a text in speech, [NATO phonetic alphabet style](https://en.wikipedia.org/wiki/NATO_phonetic_alphabet). I converted some text with it, and proved that my analysis of my own morse problem was correct. This script can also be used to train "word building", so that's why I thought I'd share it with you.
&lt;p>As for me, I am going to switch to morse word training on lcwo.net for a while, see if that helps. Here is the code for spelling out a text using Apple's built-in text-to-speech synthesizer. It takes a single argument as text file:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;bash&amp;quot; wraplines=&amp;quot;true&amp;quot; gutter=&amp;quot;false&amp;quot;]
#!/bin/bash&lt;/p>
&lt;h1 id="the-input-text-file-to-parse-first-argument">The input text file to parse (first argument)&lt;/h1>
&lt;p>inputfile=&amp;quot;${1}&amp;quot;&lt;/p>
&lt;h1 id="temporary-files-to-write">(Temporary) files to write&lt;/h1>
&lt;p>outputfile=&amp;quot;${1}.m4a&amp;quot;
lowercase=&amp;quot;${1}.lowercase.txt&amp;quot;
tempfile=&amp;quot;${1}.spelled.txt&amp;quot;&lt;/p>
&lt;h1 id="clean-up-in-case-we-crashed-last-time">clean up in case we crashed last time&lt;/h1>
&lt;p>rm ${tempfile}
rm ${lowercase}
rm ${outputfile}&lt;/p>
&lt;h1 id="everything-to-lower-case">everything to lower case&lt;/h1>
&lt;p>tr '[:upper:]' '[:lower:]' &amp;lt; &amp;quot;${inputfile}&amp;quot; &amp;gt; &amp;quot;${lowercase}&amp;quot;&lt;/p>
&lt;h1 id="spell-all-the-letters-change-or-add-as-needed">spell all the letters (change or add as needed)&lt;/h1>
&lt;p>spell=&amp;quot;&amp;quot;
while IFS= read -n1 char; do
case &amp;quot;${char}&amp;quot; in
&amp;quot;a&amp;quot;) spell=&amp;quot;${spell}, alpha&amp;quot; ;;
&amp;quot;b&amp;quot;) spell=&amp;quot;${spell}, bravo&amp;quot; ;;
&amp;quot;c&amp;quot;) spell=&amp;quot;${spell}, Charley&amp;quot; ;;
&amp;quot;d&amp;quot;) spell=&amp;quot;${spell}, delta&amp;quot; ;;
&amp;quot;e&amp;quot;) spell=&amp;quot;${spell}, echo&amp;quot; ;;
&amp;quot;f&amp;quot;) spell=&amp;quot;${spell}, foxtrot&amp;quot; ;;
&amp;quot;g&amp;quot;) spell=&amp;quot;${spell}, golf&amp;quot; ;;
&amp;quot;h&amp;quot;) spell=&amp;quot;${spell}, hotel&amp;quot; ;;
&amp;quot;i&amp;quot;) spell=&amp;quot;${spell}, India&amp;quot; ;;
&amp;quot;j&amp;quot;) spell=&amp;quot;${spell}, Juliet&amp;quot; ;;
&amp;quot;k&amp;quot;) spell=&amp;quot;${spell}, kilo&amp;quot; ;;
&amp;quot;l&amp;quot;) spell=&amp;quot;${spell}, leehma&amp;quot; ;;
&amp;quot;m&amp;quot;) spell=&amp;quot;${spell}, Mike&amp;quot; ;;
&amp;quot;n&amp;quot;) spell=&amp;quot;${spell}, November&amp;quot; ;;
&amp;quot;o&amp;quot;) spell=&amp;quot;${spell}, Oscar&amp;quot; ;;
&amp;quot;p&amp;quot;) spell=&amp;quot;${spell}, papa&amp;quot; ;;
&amp;quot;q&amp;quot;) spell=&amp;quot;${spell}, Quebec&amp;quot; ;;
&amp;quot;r&amp;quot;) spell=&amp;quot;${spell}, Romeo&amp;quot; ;;
&amp;quot;s&amp;quot;) spell=&amp;quot;${spell}, Sierra&amp;quot; ;;
&amp;quot;t&amp;quot;) spell=&amp;quot;${spell}, tango&amp;quot; ;;
&amp;quot;u&amp;quot;) spell=&amp;quot;${spell}, uniform&amp;quot; ;;
&amp;quot;v&amp;quot;) spell=&amp;quot;${spell}, Victor&amp;quot; ;;
&amp;quot;w&amp;quot;) spell=&amp;quot;${spell}, whiskey&amp;quot; ;;
&amp;quot;x&amp;quot;) spell=&amp;quot;${spell}, X-ray&amp;quot; ;;
&amp;quot;y&amp;quot;) spell=&amp;quot;${spell}, Yankee&amp;quot; ;;
&amp;quot;z&amp;quot;) spell=&amp;quot;${spell}, Zulu&amp;quot; ;;
&amp;quot;0&amp;quot;) spell=&amp;quot;${spell}, zero&amp;quot; ;;
&amp;quot;1&amp;quot;) spell=&amp;quot;${spell}, one&amp;quot; ;;
&amp;quot;2&amp;quot;) spell=&amp;quot;${spell}, two&amp;quot; ;;
&amp;quot;3&amp;quot;) spell=&amp;quot;${spell}, three&amp;quot; ;;
&amp;quot;4&amp;quot;) spell=&amp;quot;${spell}, four&amp;quot; ;;
&amp;quot;5&amp;quot;) spell=&amp;quot;${spell}, five&amp;quot; ;;
&amp;quot;6&amp;quot;) spell=&amp;quot;${spell}, six&amp;quot; ;;
&amp;quot;7&amp;quot;) spell=&amp;quot;${spell}, seven&amp;quot; ;;
&amp;quot;8&amp;quot;) spell=&amp;quot;${spell}, eight&amp;quot; ;;
&amp;quot;9&amp;quot;) spell=&amp;quot;${spell}, nine&amp;quot; ;;
&amp;quot;.&amp;quot;) spell=&amp;quot;${spell}. period&amp;quot; ;;
&amp;quot;,&amp;quot;) spell=&amp;quot;${spell}. comma&amp;quot; ;;
&amp;quot;=&amp;quot;) spell=&amp;quot;${spell}, equals&amp;quot; ;;
&amp;quot;/&amp;quot;) spell=&amp;quot;${spell}, slash&amp;quot; ;;
&amp;quot;?&amp;quot;) spell=&amp;quot;${spell}. questionmark&amp;quot; ;;
*) if [ -n &amp;quot;$spell&amp;quot; ]; then
echo &amp;quot;${spell:2}.&amp;quot; &amp;gt;&amp;gt; &amp;quot;${tempfile}&amp;quot;;
spell=&amp;quot;&amp;quot;;
fi
;;
esac
done &amp;lt; &amp;quot;${lowercase}&amp;quot;&lt;/p>
&lt;h1 id="take-the-tempfile-convert-it-to-spoken-text">Take the tempfile, convert it to spoken text.&lt;/h1>
&lt;p>say -r 250 -v Alex -f ${tempfile} -o ${outputfile}&lt;/p>
&lt;h1 id="files-left-for-further-processing-if-you-like">Files left for further processing if you like.&lt;/h1>
&lt;p>ls -l ${inputfile}*
[/sourcecode]&lt;/p></description></item><item><title>Open letter to Keith Lang about Skitch</title><link>https://realrolfje.github.io/rolfje.com/2013/01/03/open-letter-to-keith-lang-about-skitch/</link><pubDate>Wed, 02 Jan 2013 22:33:22 +0000</pubDate><guid>https://realrolfje.github.io/rolfje.com/2013/01/03/open-letter-to-keith-lang-about-skitch/</guid><description>
&lt;p>&lt;a href="http://evernote.com/download/get.php?file=SkitchMac_v1">&lt;img src="skitch_logo_lockup_blog.jpg" alt="Skitch 1.0.2">
&lt;/a>Dear Keith,&lt;/p>
&lt;p>I read &lt;a href="http://blog.evernote.com/blog/2012/11/21/skitch-and-evernote-a-letter-from-keith-lang/">your letter&lt;/a> about Skitch and would like to respond to all that has happened from my end-user perspective.&lt;/p>
&lt;p>I am a long-time Evernote user and fan. Evernote changed note taking by being truly searchable. I can confidently drop all the websites, receipts, todos and ideas in there, and clear my mind of the &amp;quot;I must remember that&amp;quot; burden. The OCR of Evernote works beautifully on photos of whiteboards, making even my whiteboard notes searchable.&lt;/p>
&lt;p>In 2010, I discovered Skitch. The simplicity and razor sharp focus on anotating a screencapture and share the anotated image by dragging it anywhere was sheer brilliance. My daily work includes making annotated screenhots and mailing them to team members to discuss improvements. Skitch changed this ugly capture-save-edit-save-attach-send cycle to pure poetry in motion. Dragging images into Evernote even made my screenshots searchable. It instantly became second nature and my go-to image tool.&lt;/p>
&lt;!-- more -->As a software developer, I know that software is rarely "finished". There is always that little bug to fix, that missing functionality to add, or some ugly code to refactor. But Skitch was different. It was perfect as it was. It integrated beautifully with everything in my Mac, including Evernote. Not tightly coupled to anything, yet integrated with everything. As a fellow software developer surely you must recognize the poetry in perfect decoupling like this.
&lt;p>When rumors reached me about Skitch being integrated into Evernote I was very worried. Why integrate Skitch into something? It already integrated beautifully with everything on my Mac. Why tie it to some product? I guess the answer is money. Evernote buying Skitch must have been a financially interesting, but I fully expected Skitch to degrade because of that deal.&lt;/p>
&lt;p>The first release of Skitch in the Mac App store confirmed all my fears. Skitch 2.0 was so utterly broken, so alien to all users who used or saw Skitch 1.0 on my machine, so crippled, so devoid of it's original focus. Skitch 2.0 left me and some of my colleagues very dissapointed.&lt;/p>
&lt;p>Luckily, my trusty Time Machine backup had the old version of Skitch and I quickly distributed it to all the poor users who installed Skitch from the Mac App store. But the damage was already done. Frustrated users, underground distribution of the old version of Skitch to a lucky few. To this day I have not figured out what the &amp;quot;advantage&amp;quot; of the &amp;quot;integration&amp;quot; with Evernote is. All blogs and open letters from Evernote and the Skitch team make excuses, link to the old Skitch 1.0.2, talk about how Skitch 2.0 is not Skitch 1.0, but fail to explain what the true advantage is.&lt;/p>
&lt;p>To me, &lt;a href="http://evernote.com/download/get.php?file=SkitchMac_v1">Skitch 1.0.2&lt;/a> is the version of Skitch that truly integrates with Evernote and every other application in a simple, consistent and easy to understand way. It made sharing easy and understandable.&lt;/p>
&lt;p>The sellout to Evernote was the death of Skitch. Sure, some features were added back into Skitch 2.0.2, but only to make Skitch 2 into a cheap knockoff of the once great Skitch 1.&lt;/p>
&lt;p>Now that Evernote has bought Skitch, sales people will want to integrate it into Evernote even more tightly, migrate it to all platforms, thereby losing some of the tight integration with the OS that made Skitch so wonderful and effortless. Even with all the Skitch 1.0 fans behind you, you will have to fight a board of directors who never used Skitch and want to change it without truly understanding why people loved the old Skitch. The gold handcuffs in your deal with Evernote will prevent you from restoring Skitch to what it was.&lt;/p>
&lt;p>I can only hope that somebody, somewhere realizes how brutally Skitch was butchered by people who clearly did not see the beauty and simplicity of Skitch's userinterface. I can only hope that this person has the skill, means or pure balls to bring the old Skitch back and release it to the Mac App store, maybe under a different name. Just the &lt;a href="http://evernote.com/download/get.php?file=SkitchMac_v1">Skitch 1.0.2&lt;/a>, as is. Screen capture, resize or crop, annotate, your history on the flip-side, and sharing/saving by dragging. Nothing more.&lt;/p>
&lt;p>Meanwhile, I have Skitch 1.0.2 backed up in every location I can possibly think of. It is an invaluable addition to my daily workflow, and I dread the day Skitch 1.0.2 will no longer work with a new version of OSX.&lt;/p>
&lt;p>On behalf of all Skitch users out there, thanks for creating the truly amazing, one and only &lt;a href="http://evernote.com/download/get.php?file=SkitchMac_v1">Skitch 1.0.2&lt;/a>. Come over and talk to us. Bring your 1.0.2 sources. We have cookies.&lt;/p></description></item><item><title>Gmail: Save an email to disk</title><link>https://realrolfje.github.io/rolfje.com/2011/10/18/gmail-save-an-email-to-disk/</link><pubDate>Tue, 18 Oct 2011 21:00:28 +0000</pubDate><guid>https://realrolfje.github.io/rolfje.com/2011/10/18/gmail-save-an-email-to-disk/</guid><description>
&lt;p>&lt;img src="gmail-save-to-disk.png" alt="Gmail save to disk">
Want to save a single email from gmail to disk, in a readable format for Outlook, Thunderbird or Apple Mail? Here's how:&lt;/p>
&lt;pre>&lt;code> 1. Open your browser and log into your gmail account.
2. Open the email you want to save.
3. On the top-right, there is a little triangle next to the &amp;quot;Reply&amp;quot; button. Click that, and select [&amp;quot;Show Original&amp;quot;](gmail-show-original.png).
4. The original, raw email opens in a new window or tab.
5. Right-click on this new window, and select [&amp;quot;Save as...&amp;quot;](gmail-save-as.png).
6. When saving the file, make sure the extension of the filename is &amp;quot;**eml**&amp;quot;. So for example [&amp;quot;MyEmail.eml&amp;quot;](gmail-name-it-eml.png).
&lt;/code>&lt;/pre>
&lt;p>All done. Now you dan open the file in Thunderbird, Outlook or whatever email viewer you have out there and see the original mail, in all it's marked-up glory.&lt;/p></description></item><item><title>Fixing Photo Creation Dates</title><link>https://realrolfje.github.io/rolfje.com/2011/08/15/fixing-photo-creation-dates/</link><pubDate>Sun, 14 Aug 2011 22:34:22 +0000</pubDate><guid>https://realrolfje.github.io/rolfje.com/2011/08/15/fixing-photo-creation-dates/</guid><description>
&lt;p>&lt;a href="http://www.perpetualkid.com/beach-vacation-countdown-timer.aspx">&lt;img src="timr-1003.jpeg" alt="Count down to your vacation">
&lt;/a>You know how it is on vacation. You take your camera, shoot pictures, and when you get home you see that you forgot to set the date/time on your camera. Even worse: your wife also took a camera with her, and she actually read the manual and set the time correctly. So now you have two sets of photos with mismatching date/times. Now what?&lt;/p>
&lt;p>It turns out that there is actually a pretty simple trick to solve this, and you don't even haven to install &lt;a href="http://www.sno.phy.queensu.ca/~phil/exiftool/index.html">exiftool&lt;/a> or do funny command line voodo. If you have iPhoto and a mouse, here's what you do:&lt;/p>
&lt;!-- more -->
&lt;pre>&lt;code> 1. [![The Apple Clock](schermafbeelding-2011-08-14-om-23-13-28.png)
&lt;/code>&lt;/pre>
&lt;p>](schermafbeelding-2011-08-14-om-23-13-28.png)Open &amp;quot;Date &amp;amp; Time Preferences&amp;quot; on your Mac and click on the &amp;quot;Date &amp;amp; Time&amp;quot; tab. You should see a clock like the one on the right. With each camera you took on your trip, take a picture of this clock. You don't have to press the shutters all at once, just do this one camera at a time. It also doesn't have to be your Mac's clock, as long as you shoot the same clock with all the cameras.
2. Import the images of all the cameras in iPhoto.
3. Make smart albums (File, New, Smart album…)per Camera type. So if you have a Canon and an Olympus, make one smart album called &amp;quot;Canon&amp;quot; with only the Canon's photos in it, and one &amp;quot;Olympus&amp;quot; smart album with only the Olympus photo's in it:[&lt;img src="screen-shot-2011-08-15-at-00-01-57.png?w=300" alt="iPhoto Smart Album for Canon">&lt;/p>
&lt;p>](screen-shot-2011-08-15-at-00-01-57.png)
4. For each smart album, reverse the sort order so that the photo of the clock you just took is the first in the album. (View, Sort order, Descending).
5. Select all the photo's in the &amp;quot;Canon&amp;quot; smart album, open the &amp;quot;Photos&amp;quot; menu, and select &amp;quot;Adjust date and time&amp;quot;. You'll see the clock you shot with this camera in the thumbnail. Copy the time of the clock in the &amp;quot;Adjusted:&amp;quot;field. All other photo's for that camera will be adjusted, because you selected all photo's in the album:[&lt;img src="screen-shot-2011-08-14-at-23-47-15.png" alt="iPhoto set date and time">&lt;/p>
&lt;p>](screen-shot-2011-08-14-at-23-47-15.png)
6. Repeat step 5 for the &amp;quot;Olympus&amp;quot; smart album.
7. Click on the iPhoto &amp;quot;Photos&amp;quot; library where all your photos are. Your photos should now sync up perfectly.&lt;/p>
&lt;p>There are some caveats with this procedure you should remember:&lt;/p>
&lt;pre>&lt;code> * This only works if nobody changed the date/time settings in the camera between the time they took the photo's and the time you are importing them in iPhoto.
* When cameras are in different time zones, the times will still be off. You'll have to compensate this yourself by adding/subtracting the timezone difference between the camera and the clock of your Mac.
* Remember to select all photos of a specific camera before adjusting the time, or the trick won't work.
&lt;/code>&lt;/pre>
&lt;p>Happy editting!&lt;/p></description></item><item><title>Changing the Order of your UnitTests</title><link>https://realrolfje.github.io/rolfje.com/2011/04/01/changing-the-order-of-your-unittests/</link><pubDate>Fri, 01 Apr 2011 21:17:17 +0000</pubDate><guid>https://realrolfje.github.io/rolfje.com/2011/04/01/changing-the-order-of-your-unittests/</guid><description>
&lt;p>&lt;img src="toddler-shape-colour-sorting-puzzle.jpg" alt="">
A few months ago we had a problem where Eclipse could not automatically run all jUnit unit tests in a package if that package references a class called &amp;quot;enum&amp;quot;, which is a reserved word in Java 1.6. I'll spare you the details, but we were forced to create a TestSuite. Normally we avoid this construction because it's easy to create a new unit test and forget to add it to the correct TestSuit. So as a workaround we wrote some code which could build and return a TestSuite dynamically. Right-click in eclipse, select &amp;quot;Run as Unittest&amp;quot;, sit back and enjoy.&lt;/p>
&lt;p>Lately this piece of code came in handy while testing another application, which required the removal of data from a database. Yes I know, Unittests should maybe not depend on databases because it leans towards integration testing, but here we are, and I need to solve it. I used the old TestSuite code and changed it so that the TestCase I needed to run first was singled out, while still maintaining the functionality of auto-detecting testcases in the source folder.&lt;/p>
&lt;!-- more -->I've cleaned up the code and made an example implementation which sorts the test cases in alpabetical order. It's a simple starting point and definetely not the prettiest code I've ever written but it works, it helped me and it might help you. Copy/paste, and adjust to your own needs.
&lt;p>Have fun!&lt;/p>
&lt;p>[sourcecode language=&amp;quot;java&amp;quot; toolbar=&amp;quot;false&amp;quot; wraplines=&amp;quot;true&amp;quot; padlinenumbers=&amp;quot;true&amp;quot; gutter=&amp;quot;false&amp;quot; autolinks=&amp;quot;false&amp;quot;]
package com.rolfje.example;&lt;/p>
&lt;p>import java.io.File;
import java.lang.reflect.Modifier;
import java.util.ArrayList;
import java.util.Collections;
import java.util.Comparator;
import java.util.Iterator;
import java.util.List;&lt;/p>
&lt;p>import junit.framework.Test;
import junit.framework.TestSuite;&lt;/p>
&lt;p>/**&lt;/p>
&lt;ul>
&lt;li>Constructs a testsuite by dynamically scanning for&lt;/li>
&lt;li>classes ending in &amp;quot;*Test&amp;quot;, and allows for re-ordering of&lt;/li>
&lt;li>the Classes in the Suite.
*/
public class OrderedTestSuite {&lt;/li>
&lt;/ul>
&lt;p>public static Test suite() throws Exception {&lt;/p>
&lt;pre>&lt;code>// Find all test classes
List testClasses = findTestClasses();
// Custom test ordering example: Sort test classes in
// natural alphabetic order based on simple classname
Collections.sort(testClasses, new Comparator() {
@Override
public int compare(Class o1, Class o2) {
return o1.getSimpleName().compareTo(
o2.getSimpleName());
}
});
// Convert the Set to a TestSuite
TestSuite suite = new TestSuite(
&amp;quot;Custom ordered TestSuite&amp;quot;);
for (Class testClass : testClasses) {
suite.addTestSuite(testClass);
}
return suite;
&lt;/code>&lt;/pre>
&lt;p>}&lt;/p>
&lt;p>private static List findTestClasses()
throws Exception {
List testClasses = new ArrayList();&lt;/p>
&lt;pre>&lt;code>File testDir = getRootOfTestTree();
List files = new ArrayList();
getTestFiles(files, testDir);
int nameIdx = testDir.getAbsolutePath().length() + 1;
for (Iterator iterator = files.iterator(); iterator
.hasNext();) {
File file = (File) iterator.next();
String className = file.getAbsolutePath().substring(
nameIdx);
className = className
.replace(File.separatorChar, '.');
className = className.replaceAll(&amp;quot;.class&amp;quot;, &amp;quot;&amp;quot;);
Class testClass = Class.forName(className);
// Prevent recursion
if (OrderedTestSuite.class.equals(testClass)) {
continue;
}
if (isTestClass(testClass)) {
testClasses.add(testClass);
}
}
return testClasses;
&lt;/code>&lt;/pre>
&lt;p>}&lt;/p>
&lt;p>/**
*&lt;/p>
&lt;ul>
&lt;li>@param clazz Class to check&lt;/li>
&lt;li>@return &lt;code>true&lt;/code> if the given Class is a&lt;/li>
&lt;li>
&lt;pre>&lt;code> usable implementation of {@link Test}
&lt;/code>&lt;/pre>
&lt;/li>
&lt;/ul>
&lt;p>*/
private static boolean isTestClass(Class clazz)
throws Exception {
int modifiers = clazz.getModifiers();
if (Modifier.isAbstract(modifiers)
|| Modifier.isInterface(modifiers)
|| Modifier.isPrivate(modifiers)) {
return false;
}&lt;/p>
&lt;pre>&lt;code>return Test.class.isInstance(clazz.newInstance());
&lt;/code>&lt;/pre>
&lt;p>}&lt;/p>
&lt;p>/**&lt;/p>
&lt;ul>
&lt;li>@return The root directory of the Java Test sources.
*/
private static File getRootOfTestTree() {
String meAsClasspathResource = OrderedTestSuite.class
.getResource(
OrderedTestSuite.class.getSimpleName()
+ &amp;quot;.class&amp;quot;).getFile()
.replace('/', File.separatorChar);
String myLocation = OrderedTestSuite.class
.getCanonicalName();
myLocation = myLocation
.replace('.', File.separatorChar);&lt;/li>
&lt;/ul>
&lt;pre>&lt;code>if (meAsClasspathResource == null
|| !meAsClasspathResource.contains(myLocation)) {
throw new RuntimeException(
&amp;quot;Can not find the class resource for &amp;quot;
+ OrderedTestSuite.class.getCanonicalName());
}
meAsClasspathResource = meAsClasspathResource
.substring(0,
meAsClasspathResource.indexOf(myLocation));
File dir = new File(meAsClasspathResource);
if (!dir.exists()) {
throw new RuntimeException(&amp;quot;The directory &amp;quot;
+ dir.getAbsolutePath() + &amp;quot; does not exist.&amp;quot;);
}
if (!dir.isDirectory()) {
throw new RuntimeException(dir.getAbsolutePath()
+ &amp;quot; is not a directory.&amp;quot;);
}
return dir;
&lt;/code>&lt;/pre>
&lt;p>}&lt;/p>
&lt;p>/**&lt;/p>
&lt;ul>
&lt;li>Recursively iterates through the nextFiles array to&lt;/li>
&lt;li>find all test files. which it subsequently returns.&lt;/li>
&lt;li>&lt;/li>
&lt;li>@param allTestFilesSoFar&lt;/li>
&lt;li>
&lt;pre>&lt;code> new Files will be added to this List
&lt;/code>&lt;/pre>
&lt;/li>
&lt;li>@param nextDir&lt;/li>
&lt;li>
&lt;pre>&lt;code> The directory to scan for java Test files
&lt;/code>&lt;/pre>
&lt;/li>
&lt;/ul>
&lt;p>*/
private static void getTestFiles(
List allTestFilesSoFar, File nextDir) {
File[] files = nextDir.listFiles();
for (int t = 0; t &amp;lt; files.length; t++) {
File nextFile = files[t];
if (nextFile.isDirectory()) {
getTestFiles(allTestFilesSoFar, nextFile);
} else if (nextFile.getName().endsWith(&amp;quot;Test.class&amp;quot;)
|| nextFile.getName().endsWith(&amp;quot;Suite.class&amp;quot;)) {
allTestFilesSoFar.add(nextFile);
}
}
}
}
[/sourcecode]&lt;/p></description></item><item><title>Anonimatron featured on Softpedia</title><link>https://realrolfje.github.io/rolfje.com/2010/09/26/anonimatron-featured-on-softpedia/</link><pubDate>Sun, 26 Sep 2010 19:08:47 +0000</pubDate><guid>https://realrolfje.github.io/rolfje.com/2010/09/26/anonimatron-featured-on-softpedia/</guid><description>
&lt;p>&lt;a href="http://www.softpedia.com/progClean/anonimatron-Clean-170141.html">&lt;img src="softpedia_clean_award_f.gif" alt="100% CLEAN award granted by Softpedia">
&lt;/a>&lt;/p>
&lt;p>As you may know I started working on a little tool to anonymize databases. Nothing fancy, just a Java tool that uses jdbc to replace live data with fake generated data which still looks representative enough to do testing and make believable screenshots. Oh and did I mention that it is 100% free of charge? You can get the &lt;a href="http://sourceforge.net/projects/anonimatron/">latest version&lt;/a> from SourceForge.net.&lt;/p>
&lt;p>I recently received an email from Softpedia that &lt;a href="http://sourceforge.net/projects/anonimatron/">Anonimatron&lt;/a> has been added to their catalog. Their email states:&lt;/p>
&lt;blockquote>"anonimatron" has been tested in the Softpedia labs using several industry-leading security solutions and found to be completely clean of adware/spyware components. We are impressed with the quality of your product and encourage you to keep these high standards in the future.&lt;/blockquote>
&lt;p>Anonimatron is written in Java and will ron on Linux, OSX and Windows machines. The current version is 1.3, and it should be considered &amp;quot;beta&amp;quot; at this point.&lt;/p>
&lt;p>&lt;a href="http://sourceforge.net/projects/anonimatron/support">Let me know&lt;/a> what you think!&lt;/p></description></item><item><title>Simple Strict Date Parsing</title><link>https://realrolfje.github.io/rolfje.com/2010/03/06/simple-strict-date-parsing/</link><pubDate>Fri, 05 Mar 2010 23:00:41 +0000</pubDate><guid>https://realrolfje.github.io/rolfje.com/2010/03/06/simple-strict-date-parsing/</guid><description>
&lt;p>&lt;img src="calendar-icon2.png" alt="">
In Java, the &lt;em>DateFormat.parse()&lt;/em> method is a funny little critter. It helps you by trying to figure out what date you actually meant when you typed in &amp;quot;35/12/2O10&amp;quot; (note the letter &amp;quot;O&amp;quot; in 2O10). In this case, it will parse the date without errors or warnings, and returns the date &amp;quot;11/12/04&amp;quot; (November 12th, 0004). That's because it thinks &amp;quot;35&amp;quot; is a month, and &amp;quot;2&amp;quot; is the year, ignoring everything after the letter &amp;quot;O&amp;quot;.&lt;/p>
&lt;p>&lt;em>DateFormat&lt;/em> tries to convert the &amp;quot;35th month&amp;quot; into 2 years and 11 months, and correct the date accordingly. &lt;em>df.setLenient(false)&lt;/em> prevents this, but that still leaves the problem of the parsing stopping at the first wrong character without warning.&lt;/p>
&lt;p>I needed a much stricter way of parsing dates, and yesterday I found an elegant solution to this problem. It's so small I was able to &lt;a href="http://twitter.com/rolfje/status/9828355998">tweet it in less than 140 characters&lt;/a>, but I thought it deserved a decent blogpost so here it goes:&lt;/p>
&lt;p>`&lt;/p>
&lt;pre>&lt;code>public Date parseDateString(String inputDateString)
throws ParseException {
DateFormat df = DateFormat.getDateInstance(DateFormat.SHORT);
Date parsedDate = df.parse(inputDateString);
if (!inputDateString.equals(df.format(parsedDate))) {
throw new ParseException(&amp;quot;Invalid Date&amp;quot;, 0);
}
return parsedDate;
}
&lt;/code>&lt;/pre>
&lt;p>`&lt;/p>
&lt;p>The brilliance here is in the comparing of the formatted date with the original input. The method returns a normal ParseException so you can perfectly replace your original &lt;em>df.parse()&lt;/em> calls with it, making them more strict.&lt;/p>
&lt;p>Thanks to Bas for this elegant and simple solution.&lt;/p></description></item><item><title>Omniplan Progress Tracking Tip</title><link>https://realrolfje.github.io/rolfje.com/2009/08/13/omniplan-progress-tracking-tip/</link><pubDate>Thu, 13 Aug 2009 20:41:00 +0000</pubDate><guid>https://realrolfje.github.io/rolfje.com/2009/08/13/omniplan-progress-tracking-tip/</guid><description>
&lt;p>&lt;a href="http://www.omnigroup.com/applications/omniplan/">&lt;img src="opicon.jpg" alt="Omniplan">
&lt;/a>During one of my Omniplan sessions at work, I discovered that the resource leveling was acting a bit funny, where people were not planned to do any work for days. I played around with a fake planning and soon discovered the problem and several solutions to it.&lt;/p>
&lt;!-- more -->Imagine you have a 1-man project, with a couple of tasks. You want to keep track of the planning in Omniplan. So you set up a project as follows (sorry for the spelling error, discoverd it after taking all the screenshots):
&lt;p>&lt;a href="planning-constrained.png">&lt;img src="planning-constrained.png" alt="(over)constrained planning">
&lt;/a>&lt;/p>
&lt;p>Everything looks fine and you set out to do your job. While putting the dishes on the sink, you decide to run hot water into the sink and place the dishes directly in the water. That will gain you some time. To reflect that, you slide the progress bar of &amp;quot;wash dishes&amp;quot;. Now your planning looks as follows:&lt;/p>
&lt;p>&lt;a href="planning-constrained-progress.png">&lt;img src="planning-constrained-progress.png" alt="(over)constrained planning with progress">
&lt;/a>&lt;/p>
&lt;p>At first sight that might not look so strange. But when you look into your resource availability, you see that you are not 100% assigned to the project:&lt;/p>
&lt;p>&lt;a href="resources-gap.png">&lt;img src="resources-gap.png" alt="Gap in resources due to completion">
&lt;/a>&lt;/p>
&lt;p>How did this happen? Well, Omniplan says (or rather: you toold Omniplan) that the &amp;quot;wash dishes&amp;quot; task can only start after the &amp;quot;Put dishes on Sink&amp;quot; task was finished. It will hold you to that, wether or not you reported progress on that.&lt;/p>
&lt;p>&lt;strong>Solution 1&lt;/strong>
The first solution is also a golden rule. Only put constraints in your planning if you are absolutely 100% positive that they need to be there. Removing the constraints from this planning (because you can start washing before everything is in the sync) will result in correct progress and an earlier finish, like so:&lt;/p>
&lt;p>&lt;a href="planning-unconstrained.png">&lt;img src="planning-unconstrained.png" alt="unconstrained planning progress">
&lt;/a>&lt;/p>
&lt;p>And you will notice that the resource occupation is now also back at 100%:&lt;/p>
&lt;p>&lt;a href="resources-level.png">&lt;img src="resources-level.png" alt="100% filled, leveled resources (yay!)">
&lt;/a>&lt;/p>
&lt;p>&lt;strong>Solution 2&lt;/strong>
A collegue of mine has another phylosophy: only have work on your planning that you are going to do in the future. Completed tasks are removed, and existing tasks are shortened as you work on them. Don't use the progress sliders, and measure gain or loss against the baseline planning. This is what I used to do with MSProject until now.&lt;/p>
&lt;p>&lt;strong>Solution 3&lt;/strong>
Buy a dishwasher.&lt;/p></description></item><item><title>Starting Java app from Applescript</title><link>https://realrolfje.github.io/rolfje.com/2009/06/11/starting-java-app-from-applescript/</link><pubDate>Thu, 11 Jun 2009 20:36:27 +0000</pubDate><guid>https://realrolfje.github.io/rolfje.com/2009/06/11/starting-java-app-from-applescript/</guid><description>
&lt;p>Suppose you have a Java Swing application which you can start by typing the following on the command line:&lt;/p>
&lt;p>&lt;em>java -jar myTerrificSwingApp.jar&lt;/em>&lt;/p>
&lt;p>If you want to make that application start from the Finder in OSX, there are a lot of options which range from ugly to convoluted. If you need a quick fix, here's how to do it.&lt;/p>
&lt;!-- more -->Open ScriptEditor.app on your Mac, and copy paste:
&lt;blockquote>
&lt;blockquote>
&lt;p>-- Get path to this script using &amp;quot;/&amp;quot; in stead of &amp;quot;:&amp;quot; as seperators&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>&lt;strong>set&lt;/strong> myPath &lt;strong>to&lt;/strong> POSIX path &lt;strong>of&lt;/strong> (path to &lt;strong>me&lt;/strong> as string)&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;/blockquote>
&lt;blockquote>
&lt;p>-- Save text item delimiters and set it to &amp;quot;/&amp;quot;&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>&lt;strong>set&lt;/strong> delims &lt;strong>to&lt;/strong> AppleScript's text item delimiters&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>&lt;strong>set&lt;/strong> AppleScript's text item delimiters &lt;strong>to&lt;/strong> &amp;quot;/&amp;quot;&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;/blockquote>
&lt;blockquote>
&lt;p>-- Get the whole string except the last token, and add a &amp;quot;/&amp;quot;&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>&lt;strong>set&lt;/strong> myFolder &lt;strong>to&lt;/strong> (text 1 &lt;strong>thru&lt;/strong> text item -2 &lt;strong>of&lt;/strong> myPath) &amp;amp; &amp;quot;/&amp;quot; ¬&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>** as** Unicode text&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;/blockquote>
&lt;blockquote>
&lt;p>-- Restore default text item delimiters (being tidy)&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>&lt;strong>set&lt;/strong> AppleScript's text item delimiters &lt;strong>to&lt;/strong> delims&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;/blockquote>
&lt;blockquote>
&lt;p>-- Start java from this directory, as nohup and background&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>-- so this applescript can disapear from the Dock&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>do shell script ¬&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>&amp;quot;cd &amp;quot; &amp;amp; myFolder &amp;amp; ¬&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>&amp;quot;; nohup java -jar myTerrificSwingApp.jar &amp;amp;&amp;quot;&lt;/p>
&lt;/blockquote>
&lt;/blockquote>
&lt;p>Save the script as &amp;quot;Application Bundle&amp;quot; and don't forget to un-check the startup window option. If you have some extra time, you can open the package contents of the app, and replace the Contents/Resources/applet.icns with your own icon.&lt;/p>
&lt;p>There are a lot more ways to do this, for instance you can also put your jar file inside the app bundle, or build a double-clickable jar file, or bundle a complete application. You can find more info on all these options on the &lt;a href="http://developer.apple.com/documentation/Java/Conceptual/Java14Development/03-JavaDeployment/JavaDeployment.html">Apple developer website&lt;/a>.&lt;/p></description></item><item><title>Migrate from Password Gorilla to KeePass</title><link>https://realrolfje.github.io/rolfje.com/2009/05/12/migrate-from-password-gorilla-to-keepass/</link><pubDate>Tue, 12 May 2009 09:36:49 +0000</pubDate><guid>https://realrolfje.github.io/rolfje.com/2009/05/12/migrate-from-password-gorilla-to-keepass/</guid><description>
&lt;p>&lt;a href="http://keepass.info/">&lt;img src="keepass.png" alt="KeePass logo">
&lt;/a>I used to use &lt;a href="http://fpx.de/fp/Software/Gorilla/">Password Gorilla&lt;/a> to store my passwords, because it can run on both Mac and Windows. Because my password database keeps growing, Password Gorilla is becomming a very slow starter, even on my new solid state disk. A few weeks ago I learned that KeePass is a much more modern application, and is available for both Mac and Windows. Here's what I did to get all my passwords into KeePass:&lt;/p>
&lt;!-- more -->
&lt;pre>&lt;code> 1. Download [KeePass 1.05](http://sourceforge.net/project/downloading.php?group_id=95013&amp;amp;filename=KeePass-1.05.zip&amp;amp;a=41072444) (this is an older version, but required by the following plugin)
2. Download the [PwSafeDbImport ](http://keepass.info/plugins.html#pwsafedbimport)plugin.
3. Unzip both zipfiles.
4. Put the PwSafeDbImport.dll file in the directory where KeePass.exe is.
5. Start KeePass.exe
6. Click on &amp;quot;Tools&amp;quot; -&amp;gt; &amp;quot;Plugins&amp;quot; and right-click on the PwSafeDbImport plugin, select &amp;quot;enable&amp;quot;
7. Stop KeePass, and start it again.
8. Create a new KeePass password file (Ctrl-N)
9. Select &amp;quot;File&amp;quot; -&amp;gt; &amp;quot;Import from&amp;quot; -&amp;gt; &amp;quot;PwSafe database&amp;quot;
10. Select the Password Gorilla database you want to import from
11. Enter your Password Gorilla database password
12. Check (some of) the new entries in KeePass to verify the import went smoothly
13. Save the KeePass file.
&lt;/code>&lt;/pre>
&lt;p>Now that you're done, you can upgrade to the &lt;a href="http://keepass.info/download.html">latest KeePass version&lt;/a>. The KeePass database stays compatible between versions, information on that is on the KeePass website.&lt;/p></description></item><item><title>How to put DVD's on your iPhone (for free)</title><link>https://realrolfje.github.io/rolfje.com/2009/02/28/how-to-put-dvds-on-your-iphone-for-free/</link><pubDate>Fri, 27 Feb 2009 22:19:23 +0000</pubDate><guid>https://realrolfje.github.io/rolfje.com/2009/02/28/how-to-put-dvds-on-your-iphone-for-free/</guid><description>
&lt;p>&lt;img src="afbeelding-13a1.png" alt="For A Few Dollars More">&lt;/p>
&lt;p>A lot of companies like to sell you applications to put DVD's on your iPhone. Usually these apps are just wrappers around existing tools, and are pretty expensive if you consider you can do it for free. And you don't need to be a computer wizard either! The steps are simple:&lt;/p>
&lt;pre>&lt;code> 1. Use [Handbrake](http://handbrake.fr/?article=download) to rip the DVD to iPhone format
2. Drag the generated mp4 file into iTunes
3. Sync it to your iPhone like all other content
&lt;/code>&lt;/pre>
&lt;p>To show you exactly how this is done, I've  written up this &amp;quot;babystep-by-babystep&amp;quot; tutorial. Let me show you how I ripped &lt;a href="http://www.amazon.com/Few-Dollars-More-Clint-Eastwood/dp/0792839056">&amp;quot;For A Few Dollars More&amp;quot;&lt;/a> and put it on my iPhone:&lt;/p>
&lt;p>**Disclaimer: **The DVD I ripped is bought and payed for. This article does not relief you of your responsibility to obey the law, so please be careful. And be nice, don't pirate.&lt;/p>
&lt;p>&lt;strong>&lt;!-- more -->What You Need&lt;/strong>&lt;/p>
&lt;pre>&lt;code> * [Handbrake](http://handbrake.fr/?article=download) for ripping the DVD
* [VLC](http://www.videolan.org/vlc/), which is used by handbrake for DVD's with encodings not supported by Handbrake. You don't always need it, but download and install it anyway, just to be sure.
* Some patience.
&lt;/code>&lt;/pre>
&lt;p>&lt;strong>Step 1: Rip the DVD to an MP4&lt;/strong>
Put a DVD in your Mac, and stop the DVD player application if it opens automatically.&lt;/p>
&lt;p>&lt;a href="afbeelding-6.png">&lt;img src="afbeelding-6.png?w=128" alt="Select VIDEO_TS folder">
&lt;/a>Start Handbrake. A selection window will open, use it to browse to the DVD, and select the VIDEO_TS folder (just select it, no need to go into it) and then press &amp;quot;Open&amp;quot;.&lt;/p>
&lt;p>&lt;a href="afbeelding-7.png">&lt;img src="afbeelding-7.png" alt="Select Title and Chapters">
&lt;/a>Handbrake will briefly scan the DVD for titles. In the &amp;quot;Source:&amp;quot; section of the screen, select a title and the chapters you want to rip. Usually Handbrake guesses that it's the longest title, with the most chapters you want to rip. Let's go with those defaults.&lt;/p>
&lt;p>&lt;a href="afbeelding-81.png">&lt;img src="afbeelding-81.png?w=44" alt="Presets Selection Drawer">
&lt;/a>Press the &amp;quot;Toggle Presets&amp;quot; button on the top right, and select &amp;quot;iPhone&amp;quot; from the list that pops out on the right side of the Handbrake window.&lt;/p>
&lt;p>&lt;a href="afbeelding-10.png">&lt;img src="afbeelding-10.png?w=120" alt="Select Audio and Subtitles">
&lt;/a>Next, click the &amp;quot;Audio and Subtitles&amp;quot; tab and select the audio and subtitles you want to listen and read in the ripped video. You can NOT change audio and subtitles later on your iPhone, so choose wisely. This is usually the step I forget, which requires me to wait for the whole ripping process again.&lt;/p>
&lt;p>&lt;img src="afbeelding-12.png" alt="afbeelding-12">&lt;/p>
&lt;p>Make sure the destination file is where you want it, and press the green &amp;quot;Start&amp;quot; icon. Handbrake will start reading the DVD and create an MP4 file. This can take a while, so you might want to get a cocktail. Handbrake will show a progress bar in the icon in the dock.
 
&lt;strong>Step 2: Import into iTunes&lt;/strong>
After the ripping is done, you can add your mp4 file to the iTunes library by simply dragging the video file into iTunes. There you can set the title, year, genre and illustration exactly as you did with your music files.&lt;/p>
&lt;p>&lt;img src="afbeelding-14.png" alt="iTunes showing ripped DVD">&lt;/p>
&lt;p>&lt;strong>Step 3: Putting it on your iPhone&lt;/strong>
Plug in you iPhone. Go to the iPhone configuration and click on the &amp;quot;Video&amp;quot; tab. Scroll down, and select the video you just imported:&lt;/p>
&lt;p>&lt;a href="afbeelding-15.png">&lt;img src="afbeelding-15.png" alt="Sync the movie to the phone">
&lt;/a>&lt;/p>
&lt;p>When you press &amp;quot;Apply&amp;quot;, iTunes will immediately start copying the movie over to the iPhone, where you can find it in your iPhone in your iTunes library.&lt;/p>
&lt;p>&lt;strong>Advanced Tips:&lt;/strong>&lt;/p>
&lt;pre>&lt;code> * [![Few Dollars More on iPhone](img_0005.png)
&lt;/code>&lt;/pre>
&lt;p>](img_0005.png)The DVD I just converted (For A Few Dollars More) averaged out to about 3,5MB per minute. That's about 5 hours of video per GB, but your mileage may vary. On average you should be able to take at least one or to movies with you on your iPhone. If your music is in the way, you can &lt;a href="http://rolfje.wordpress.com/2007/08/01/ipod-synchronization-techniques/">use these tips&lt;/a> to make iTunes organize your music for you.
* Handbrake has an &amp;quot;Add To Queue&amp;quot; button which lets you convert multiple movies in a row. In order for that to work you need to copy the VIDEO_TS folders of multiple DVD's onto a harddrive. Now you can convert multiple DVD's overnight.&lt;/p></description></item><item><title>Tweet Week</title><link>https://realrolfje.github.io/rolfje.com/2009/02/15/tweet-week/</link><pubDate>Sun, 15 Feb 2009 10:55:32 +0000</pubDate><guid>https://realrolfje.github.io/rolfje.com/2009/02/15/tweet-week/</guid><description>
&lt;p>&lt;a href="http://www.twitter.com/rolfje">&lt;img src="twitter-logo.png" alt="Twitter">
&lt;/a>About a week ago, I was a bit bored and decided to see what Twitter is all about. I created an &lt;a href="https://twitter.com/rolfje">account&lt;/a>, and I Tweeted for a week. I tried to keep to the original idea, where a Tweet should answer the question &amp;quot;What are you doing&amp;quot;? Looking back, my tweets include &lt;a href="https://twitter.com/rolfje/statuses/1198486833">Coffee&lt;/a>, &lt;a href="https://twitter.com/rolfje/statuses/1199748992">Podcasts&lt;/a>, &lt;a href="https://twitter.com/rolfje/statuses/1200610213">Global frustration&lt;/a>, &lt;a href="https://twitter.com/rolfje/statuses/1203692363">Small joys&lt;/a>, &lt;a href="https://twitter.com/rolfje/statuses/1206502512">Small irritations&lt;/a>, &lt;a href="https://twitter.com/rolfje/statuses/1209317512">Re-tweets&lt;/a>, and &lt;a href="https://twitter.com/rolfje/statuses/1209634779">Replies&lt;/a>. &lt;/p>
&lt;!-- more -->Twitter is a service were you can send short texts of 140 characters or less, called "tweets". These texts end up on a webpage, resulting in a micro-blog for all to read. Think of it as SMS-ing to your blog. One of the fun parts of Twitter is that people find really creative ways to express themselves in 140 characters or less. This allows you to follow an amazing amount of people, getting short messages about what they're doing, such as ["is relaxing with the wife and kids..... at home"](https://twitter.com/richard_hammond/statuses/1209417438)  or   ["Great meal at Michael Minna with my best gal"](https://twitter.com/ev/statuses/1211691640).
&lt;table border="0" >
&lt;tbody >
&lt;tr >
&lt;td valign="top" >!["at"](afbeelding-1.png)
&lt;/td>
&lt;td >Should you find a "Tweet" you think is interesting, you can reply to that person (not to the tweet directly) by starting your tweet with an "@" and the username of the person you want to reply to. 
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td valign="top" >!["hash"](afbeelding-2.png)
&lt;/td>
&lt;td >You can even "tag" your Tweets by using a "#" and a word. So for instance "#rolfje" would add the tag "rolfje" to my Tweet. You can then easily [search tweets with this tag](http://hashtags.org/tag/rolfje). Tags are sometimes used to create something of a "communications channel". For instance, the [#followfriday](http://hashtags.org/tag/followfriday) tag is used to tweet about people you think are worth following.
&lt;/td>
&lt;/tr>
&lt;/tbody>&lt;/table>
Starting in the US, Twitter is becoming increasingly popular all over the world, now taking over Europe. [BBC had an item](http://news.bbc.co.uk/1/hi/technology/7287536.stm) on English television about twitter, massively increasing the number of English twitterers. 
&lt;p>And ofcourse, where there are people, there are money-sharks to spoil the fun. Some companies are showing up, and are clearly not understanding what Twitter is about. They start a twitter account and twitter promotional messages, product releases, etc. The problem with this (for the company) is that for this to be succesful, people must follow you. If there's nothing interesting to read, people will not follow.&lt;/p>
&lt;p>This same problem occurs with people who have their staff update their twitter accounts. This makes for really uninteresting, unpersonal tweets, and replying to them will almost never result in a nice conversation.&lt;/p>
&lt;p>&lt;a href="http://pcweenies.com">&lt;img src="http://laikaspoetnik.files.wordpress.com/2008/06/twitter-addicts.jpg" alt="">
&lt;/a>&lt;/p>
&lt;p>**What I used:
**During my Tweetweek, I tried different OSX and iPhone clients. There are a lot of clients out there, but none of them are good enough to be your &amp;quot;single client of choice&amp;quot;. Here's what I think of them, in short:&lt;/p>
&lt;p>&lt;a href="http://www.twhirl.org/">Twhirl&lt;/a>: Done in Adobe AIR, multi-platform and consistent accross OS's. Good for a Windows app, terrible for an OSX app. Settings are in strange places, not clear what the &amp;quot;narrow&amp;quot; column mode is for. Ugly but probably the best twitter client out there, with twitpic and tinyurl integration all out of the box.&lt;/p>
&lt;p>&lt;a href="http://www.tweetdeck.com/beta/">Tweetdeck&lt;/a>: Also done in Adobe AIR, mutli-platform and consistent. Works fine, has multiple columns for monitoring your tweets, search results and profiles. Feels a bit funny, for instance the same icon is used for &amp;quot;show input window&amp;quot; and &amp;quot;send tweet&amp;quot;. It works, but it doesn't fit the &amp;quot;clean and simple&amp;quot; design I think a twitter client needs.&lt;/p>
&lt;p>&lt;a href="http://iconfactory.com/software/twitterrific">Twitterific&lt;/a>: Nice design, clean. Not much features, too overpriced. If Twitterific had tinyURL and twitpic integration, and sold for about $5, it would be a huge hit.&lt;/p>
&lt;p>&lt;a href="http://itunes.apple.com/WebObjects/MZStore.woa/wa/viewSoftware?id=296415944&amp;amp;mt=8">Tweetie (iPhone)&lt;/a>: The funny thing is that &amp;quot;Tweetie&amp;quot;, the iPhone twitter client is way better than any of the clients I tried on a normal computer. Tweetie wins hands down. The best twitter client for the iPhone, simple and clean, camera integration, GPS integration. This also fits way better in the twitter philosophy, Tweeting whatever you are doing, wherever you are.&lt;/p>
&lt;p>&lt;strong>What I learned:&lt;/strong>
Twitter is for everyday people, like you and me, and feels like a mix between &lt;a href="http://en.wikipedia.org/wiki/Citizens'_Band_Radio">CB radio&lt;/a> and &lt;a href="http://en.wikipedia.org/wiki/Texting">texting&lt;/a>. Twitter is all about you and who you follow. It's definetely not about your followers. Ofcourse you can try to get as much followers as possible, but I think that does not guarantee a nice twitter experience. Some people think it's rude not to follow back if they're followed, and will tweet to let somebody know that they're being &amp;quot;un-followed&amp;quot;. I think that's not how the system is supposed to work. There's also no real relationship. Follow or unfollow, it's not like you're devorcing.&lt;/p>
&lt;p>Just Tweet, and see what happens. There's no currency, only small text messages from people around the world for you to read and reply to. Or not.&lt;/p></description></item><item><title>Rip and Convert FLAC, M4A, MP3, AAC files</title><link>https://realrolfje.github.io/rolfje.com/2009/02/14/rip-and-convert-flac-m4a-mp3-aac-files/</link><pubDate>Sat, 14 Feb 2009 21:03:12 +0000</pubDate><guid>https://realrolfje.github.io/rolfje.com/2009/02/14/rip-and-convert-flac-m4a-mp3-aac-files/</guid><description>
&lt;p>&lt;a href="http://sbooth.org/Max">&lt;img src="afbeelding-8.png" alt="Max Audio Transcoder">
&lt;/a>I recently found an old harddisk which used to be in one of my old PC's. I discovered some &lt;a href="http://flac.sourceforge.net/">FLAC&lt;/a> files on there, which were rips of &lt;a href="http://www.youtube.com/watch?v=ZOU8GIRUd_g">old CD's&lt;/a> I used to have. iTunes is not too happy with importing them into my library, and the original CD's are in a box in a deep dark corner of my garage.&lt;/p>
&lt;p>I searched for a converter and found this wonderful converter which can just about convert any audio format out there. It's called &lt;a href="http://sbooth.org/Max">&amp;quot;Max&amp;quot;&lt;/a>, it's Open Source, free to use, and available as bundled OSX application. Brilliant! It does have a bunch of options, but as long as you go for the &amp;quot;MP4 Audio&amp;quot; output format, high quiality, 256 bits and VBR, you can't go wrong.&lt;/p>
&lt;p>According to their website &lt;em>&amp;quot;Max can generate audio in over 20 compressed and uncompressed formats including MP3, Ogg Vorbis, FLAC, AAC, Apple Lossless, Monkey's Audio, WavPack, Speex, AIFF, and WAVE&amp;quot;&lt;/em>.&lt;/p>
&lt;p>Happy transcoding!&lt;/p></description></item><item><title>DLNA on OSX, done right</title><link>https://realrolfje.github.io/rolfje.com/2009/01/31/dlna-on-osx-done-right/</link><pubDate>Sat, 31 Jan 2009 21:23:15 +0000</pubDate><guid>https://realrolfje.github.io/rolfje.com/2009/01/31/dlna-on-osx-done-right/</guid><description>
&lt;p>&lt;a href="http://en.wikipedia.org/wiki/PlayStation_3">&lt;img src="200x150_playstation3_logo1.jpg" alt="Sony PS3 Logo">
&lt;/a>My wife bought me a playstation 3 last year, and I've enjoyed many hours of gaming on it, finishing Tomb Raider underworld, and now making decent progress in Ratchet and Clank: Tools of Destruction.&lt;/p>
&lt;p>&lt;a href="http://www.dlna.org/home">&lt;img src="afbeelding-22.png" alt="DLNA logo">
&lt;/a>&lt;/p>
&lt;p>I was a bit sceptical about the DLNA capabilities of the PS3, because I read a lot of bad news on this fairly new  &amp;quot;Interoperability Guidelines&amp;quot; concept. It sounded like a lot of trouble to go through to simply watch the photos and home videos on a TV. For weeks, I was not able to find a single site telling me how to install a DLNA server on my Mac, or where to find a decent one.&lt;/p>
&lt;p>Altgough they're hard to find, there are a few OSX DLNA servers out there. One of them is actually very good. Here's what I found:&lt;/p>
&lt;!-- more -->**CyberMediaGate**
&lt;p>I found a DLNA server implemented in Java, and didn't get it to work. It misses a Xerces library and I can not seem to get the right version added to the classpath. I decided this was not very &amp;quot;Mac like&amp;quot; and dumped it. Not being able to install software &amp;quot;out of the box&amp;quot; may be normal on Linux, but is unaccepatble on a Mac.&lt;/p>
&lt;p>&lt;strong>TwonkyMedia&lt;/strong>
Then, I came across TwonkyMedia. This was the first DLNA server I actually got to work on my Mac, and had it serving video to my PS3. It is a strange (wonky?) piece of software, had no native GUI and only lives on your machine as a webapplication. The installer copies &amp;quot;TwonkyMediaServer.app&amp;quot; in your application folder, starts it, and then opens a browser which points to the local URL of it's configuration screen.&lt;/p>
&lt;p>At that moment, it already is serving clients, but when you try to access it with the PS3, you will get a protocol error. This is because TwonkyMedia does not come with a default server name. The PS3 aparently can not handle an empty server name. After filling it in and restarting Twonky, I could access it with the PS3.&lt;/p>
&lt;p>TwonkyMedia does not look very Mac-like, and I don't like the looks of the webpage it is serving. The installer leaves two webloc files on your desktop which point to the configuration screens. It's a bit strange but it gets the job done.&lt;/p>
&lt;p>Potentially Twonky can do a bit more than CyberMediaGate. Twonky can do some transcoding and other streaming stuff, but I did not try that because I simply wanted to see my photo's and home video's on my TV.&lt;/p>
&lt;p>The trial version of Twonkymedia last for 30 days, but on the first day it already started acting up on me, and I had to restart it a few times while watching video. The look and feel, and the crashes didn't feel like it was worth the $40 to me, so I uninstalled it.&lt;/p>
&lt;p>Uninstalling TwonkyMedia requires you to kill the process from the Terminal, and then drag TwonkyMediaServer.app to your trashcan. Another way is dragging the app to the trashcan and then restarting your Mac (not mac-like but it works).&lt;/p>
&lt;p>&lt;strong>MediaLink&lt;/strong>
&lt;a href="http://www.nullriver.com/products/medialink">&lt;img src="printablelogo.png" alt="Nullriver Logo">
&lt;/a>The nullriver homepage looked very elegant, and promising. A simple page explains what it is, what it does, and what it costs. Nullriver also allows you to send requests and reports on their site without registering (in contract with TwonkyMedia, to which you have to &amp;quot;sell your soul&amp;quot;)&lt;/p>
&lt;p>Nullriver Medialink comes as a preference pane application, and has a beautifuly simple interface, with not many options. It integrates with your mac applications like iTunes, iPhoto and now even Aperture. It does not have all the fancy configuration options of TwonkyMedia. One of my small complaints is that your content is shared to all DLNA clients on your local network, which may not be what you want if you have more than one DLNA client.&lt;/p>
&lt;p>For me MediaLink is a perfect fit. I control my own network, my PS3 is my only DLNA client so I don't need the fancy stuff. Most people will be perfectly happy with Medialink. It's simple, transparent, drag-and-drop, has a &amp;quot;stop&amp;quot; button and is cheap. It does not have all the fancy features, but all the features that are in there work flawlessly.&lt;/p>
&lt;p>I played with it for more than a week now, and so far it hasn't crashed on me. I did need to buy a registration key, because the trial version only lasts you for about 30 minutes of watching content (which should be plenty to try it out, and it's not like the 20 bucks are going to kill you).&lt;/p>
&lt;p>&lt;strong>Conclusion&lt;/strong>
Once again, all DLNA servers I tried put together:&lt;/p>
&lt;table cellpadding="2" cellspacing="0" border="1" >
&lt;tbody >
&lt;tr >
&lt;td valign="top" >[CyberMediaGate](http://www.cybergarage.org/net/cmgate/java/index.html)
&lt;/td>
&lt;td valign="top" >Free
&lt;/td>
&lt;td valign="top" >Terrible, unable to install.
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td valign="top" >[TwonkyMedia](http://www.twonkyvision.de/)
&lt;/td>
&lt;td valign="top" >$40
&lt;/td>
&lt;td valign="top" >Works, lots of features, no GUI, buggy/ Crashed on me more than once.
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td valign="top" >[MediaLink](http://www.nullriver.com/products/medialink)
&lt;/td>
&lt;td valign="top" >$20
&lt;/td>
&lt;td valign="top" >Simple, stable, nice GUI, best value for money. Just works.
&lt;/td>
&lt;/tr>
&lt;/tbody>&lt;/table>
So if you have a PS3 and a Mac, it's a no-brainer. Buy Medialink!</description></item><item><title>Remote Desktop Connection updated</title><link>https://realrolfje.github.io/rolfje.com/2009/01/25/remote-desktop-connection-updated/</link><pubDate>Sun, 25 Jan 2009 01:00:37 +0000</pubDate><guid>https://realrolfje.github.io/rolfje.com/2009/01/25/remote-desktop-connection-updated/</guid><description>
&lt;p>&lt;img src="afbeelding-2.png" alt="Remote Desktop Connection icon">&lt;/p>
&lt;p>&amp;quot;Remote Desktop Connection.app&amp;quot; allows you to see the desktop of a remote Windows machine on your mac. This application will not update itself automatically, unless you have it installed as part of the Microsoft Office for Mac suite. If you've downloaded the 1.0.3 version you probably did not notice that &amp;quot;Remote Desktop Connection.app&amp;quot; was updated somewhere last year by microsoft.&lt;/p>
&lt;p>You can find the latest version of Remote Desktop Connection on the &lt;a href="http://www.microsoft.com/mac/products/remote-desktop/default.mspx">Microsoft Mactopia&lt;/a> site. Version 2 is an improvement over 1.0.3 (which I had). Notable differences are:&lt;/p>
&lt;pre>&lt;code> * Nicer configuration screens, makes configuring your resolution and shares easier.
* Now a Universal Binary, which should improve performance on Intel Macs. I have not noticed improvement, but that's probably because the network is the bottleneck.
* Supports the new RDC 6.0 protocol used by Vista.
* Can do authentication of the remote machine (if it's a Vista machine).
* Your Mac printer can be exposed to the Windows machine so you can print documents on your local printer.
&lt;/code>&lt;/pre>
&lt;p>I played with it for a while, and apart form the new looks I can not say it's very different from the 1.0.x version. It could load my old RDC 1.0.3 configuration files. If you need to connect to a Windows desktop from your Mac, this does the job just fine.&lt;/p></description></item><item><title>Automount network shares</title><link>https://realrolfje.github.io/rolfje.com/2009/01/18/automount-network-shares/</link><pubDate>Sun, 18 Jan 2009 01:00:33 +0000</pubDate><guid>https://realrolfje.github.io/rolfje.com/2009/01/18/automount-network-shares/</guid><description>
&lt;p>&lt;a href="http://www.macupdate.com/info.php/id/29844/bonjour-mounter">&lt;img src="29844.png" alt="Bonjour Mounter icon">
&lt;/a>There is a nice and clean way to automatically mount network shares each time you log into your Mac. It's called the &lt;a href="http://www.macupdate.com/info.php/id/29844/bonjour-mounter">&amp;quot;Bonjour Mounter&amp;quot;&lt;/a>, a simple application which runs on login, and mounts the drives you configured it to mount. No more, no less.&lt;/p></description></item><item><title>"Instruments" - Application monitor</title><link>https://realrolfje.github.io/rolfje.com/2009/01/02/instruments-application-monitor/</link><pubDate>Thu, 01 Jan 2009 23:00:55 +0000</pubDate><guid>https://realrolfje.github.io/rolfje.com/2009/01/02/instruments-application-monitor/</guid><description>
&lt;p>&lt;a href="afbeelding-3.png">&lt;img src="afbeelding-3.png?w=128" alt="Instruments">
&lt;/a>Did you know that your installation of Leopard comes with a built-in performance monitor? It's called &amp;quot;Instruments&amp;quot; and you can attach it to any process currently running. In the screenshot you see here I attached it to an instance of Eclipse while running some unittests.&lt;/p>
&lt;p>Instruments has some nice templates for you to choose from, and you can monitor CPU activity per thread, disk I/O, User Interface activity, Object allocations, and leaks. Just so you know, it might come in handy.&lt;/p></description></item><item><title>Wiimote Whiteboard</title><link>https://realrolfje.github.io/rolfje.com/2008/12/12/wiimote-whiteboard/</link><pubDate>Fri, 12 Dec 2008 21:28:39 +0000</pubDate><guid>https://realrolfje.github.io/rolfje.com/2008/12/12/wiimote-whiteboard/</guid><description>
&lt;p>&lt;a href="http://www.uweschmidt.org/wiimote-whiteboard">&lt;img src="wiimotewhiteboard_128.png" alt="WiimoteWhiteboard">
&lt;/a>For people wanting to have an interactive whiteboard but don't have the money, &lt;a href="http://www.cs.cmu.edu/~johnny/projects/wii/">Johnny Chung Lee&lt;/a> has found the solution. Using a Wiimote, he can track an infrared lightsource (like an LED) and use that to control the mousecursor. I tried some software on the Mac and the PC, and I actually got both to work without too much trouble.&lt;/p>
&lt;!-- more -->
&lt;p>&lt;strong>The infra-red pen&lt;/strong>
Please note that you need some kind of Infra-Red emitting device. In my first tests to see if the software works, I used a TV remote. This is a bit clunky, so next on my list is to build a simple infra-red pen this weekend.&lt;/p>
&lt;p>I noticed a lot of people building infra-red pens by directly connecting an LED to a battery, which will possibly ruin your LED very quickly because there's too much current running through it. An LED is a diode, and it needs to be limited in current. The only right way to do it is follow &lt;a href="http://www.cs.cmu.edu/~johnny/projects/wii/pen.jpg">Johnny's schematic&lt;/a>.&lt;/p>
&lt;p>&lt;strong>Whiteboard app on the Mac:
I was amazed about how well this worked. I was expecting a lot of experimental stuff, but instead, this is all you have to do:&lt;/strong>&lt;/p>
&lt;pre>&lt;code> 1. [![](afbeelding-21.png?w=47)
&lt;/code>&lt;/pre>
&lt;p>](afbeelding-21.png)Download &lt;a href="http://www.uweschmidt.org/files/WiimoteWhiteboard.dmg">WiimoteWhiteboard for the Mac&lt;/a> by Uwe Schmidt.
2. Enable bluetooth on your mac.
3. Start the WiimoteWhiteboard.app
4. On the Wiimote, press buttons 1 and 2 simultaniously to put it in &amp;quot;detectable&amp;quot; mode. If the Wiimote was already on, you may need to press the red button in the battery compartment.
5. After pairing is complete, press the &amp;quot;calibrate&amp;quot; button and follow the instructions.&lt;/p>
&lt;p>I did these steps on an intel  Mac mini and it worked beautifully. You can pair up to 2 Wiimotes to increase reliability.&lt;/p>
&lt;p>&lt;strong>Whiteboard app on the PC:
This is slightly more work, but does not include steps which are strange to regular Windows users:&lt;/strong>&lt;/p>
&lt;pre>&lt;code> 1. Download and install the [.Net framework version 3.5](http://www.microsoft.com/downloads/details.aspx?FamilyId=333325FD-AE52-4E35-B531-508D977D32A6&amp;amp;displaylang=en)
2. Download Boon Jin's [Smoothboard](http://www.boonjin.com/wp/2008/08/14/wiimote-smoothboard-045-beta) for Windows.
3. [![XP Bluetooth Wizard Screen 1](clipboard02.png)
&lt;/code>&lt;/pre>
&lt;p>](clipboard02.png)Install the .Net framework, and unpack the smoothboard zipfile in a convenient location. It has no setup.exe (thank god)
4. In the system tray on your Windows, right-click the bluetooth icon, and choose &amp;quot;Add a Bluetooth Device&amp;quot;
5. Click the &amp;quot;My device is set up and ready to be connected&amp;quot; checkbox.
6. &lt;a href="clipboard03.png">&lt;img src="clipboard03.png?w=124" alt="XP Bluetooth Wizard Screen 2">
&lt;/a>Press the red button of the Wiimote (in the battery compartement) to unpair it from anything else and get into &amp;quot;detecable&amp;quot; mode.
7. Click the &amp;quot;Next&amp;quot; button in the Wizzard
8. Select the &amp;quot;Nintendo RVL-CNT-01&amp;quot; device and click &amp;quot;Next&amp;quot;
9. &lt;a href="clipboard04.png">&lt;img src="clipboard04.png?w=124" alt="XP Bluetooth Wizard Screen 3">
&lt;/a>Select the &amp;quot;Don't use a passkey&amp;quot; radio button and DON'T press &amp;quot;Next&amp;quot;.
10. Press the little red button on the Wiimote again, so that all blue lights start flashing, and then press &amp;quot;Next&amp;quot; on the wizard.
11. In the tray, you should now see popups saying &amp;quot;Found new hardware&amp;quot; and something like &amp;quot;New HID device&amp;quot;. They will dissapear after a while. If the popups did not show, start the whole process again from step 4.
12. Press &amp;quot;Finish&amp;quot; in the Wizard, notice that the Wiimote keeps flashing all the lights.
13. Start Smoothboard. The Wiimote should stop flashing, and you can click on the &amp;quot;Calibrate&amp;quot; button to start the fun.&lt;/p>
&lt;p>&lt;a href="clipboard05.png">&lt;img src="clipboard05.png?w=33" alt="Smoothboard Screenshot">
&lt;/a>&lt;/p>
&lt;p>I've tested the Windows setup on a Dell 530 laptop with the built-in bluetooth device, and it works fine, although I did have to reboot once because the bluetooth stack got confused and refused to detect my Wiimote. Smoothboard also allows you to pair 2 Wiimotes to improve reliability. It also has many features which are tailored to controling Powerpoint and other software, but I haven't tried that yet.&lt;/p></description></item></channel></rss>