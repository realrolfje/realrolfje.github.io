<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Software on www.rolfje.com</title><link>https://realrolfje.github.io/categories/software/</link><description>Recent content in Software on www.rolfje.com</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><copyright>Copyright © rolfje.com</copyright><lastBuildDate>Wed, 01 Jul 2020 21:37:34 +0000</lastBuildDate><atom:link href="https://realrolfje.github.io/categories/software/index.xml" rel="self" type="application/rss+xml"/><item><title>Testing Kotlin extension functions</title><link>https://realrolfje.github.io/2020/07/01/testing-kotlin-extension-functions/</link><pubDate>Wed, 01 Jul 2020 21:37:34 +0000</pubDate><guid>https://realrolfje.github.io/2020/07/01/testing-kotlin-extension-functions/</guid><description>
&lt;p>&lt;figure class="float_right">&lt;a href="https://youtu.be/MKW8cxjBLa8">&lt;img src="83b0631f950fab03ac9854f0330baca2.jpg" width="120"/>&lt;/a>
&lt;/figure>
This might seem obvious for many Kotlin programmers but I did not realize that extension functions are also applied to mocks. This means that if you have a class you can not instantiate for some reason, like the constructor is private and in another package, or the class is abstract, you can still test your extension functions by simply mocking it.&lt;/p>
&lt;!-- more -->
&lt;p>Let's say I have an extension function on the &lt;code>com.sun.java.swing.action.ActionManager&lt;/code> which returns &lt;code>true&lt;/code> when the action manager contains a &lt;code>save&lt;/code> action. (Yes it is a silly example I know).&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="ln">1&lt;/span>&lt;span class="cm">/** Returns true if the actionManager has a &amp;#34;save&amp;#34; action */&lt;/span>
&lt;span class="ln">2&lt;/span>&lt;span class="k">fun&lt;/span> &lt;span class="nf">ActionManager&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">canSave&lt;/span>&lt;span class="p">():&lt;/span> &lt;span class="n">Boolean&lt;/span> &lt;span class="p">=&lt;/span>
&lt;span class="ln">3&lt;/span> &lt;span class="n">getAction&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;save&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="k">null&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Of course we want to test our extension function, but writing a complete subclass of ActionManager just to test the extension function would be silly. Instead you can simply mock it with mockk:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="ln">1&lt;/span>&lt;span class="k">import&lt;/span> &lt;span class="nn">io.mockk.coEvery&lt;/span>
&lt;span class="ln">2&lt;/span>&lt;span class="k">import&lt;/span> &lt;span class="nn">io.mockk.mockk&lt;/span>
&lt;span class="ln">3&lt;/span>&lt;span class="o">..&lt;/span>&lt;span class="p">.&lt;/span>
&lt;span class="ln">4&lt;/span>&lt;span class="nd">@Test&lt;/span>
&lt;span class="ln">5&lt;/span>&lt;span class="k">internal&lt;/span> &lt;span class="k">fun&lt;/span> &lt;span class="nf">testCanSaveExtensionFunction&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="ln">6&lt;/span> &lt;span class="k">val&lt;/span> &lt;span class="py">mockActionManager&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">ActionManager&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">mockk&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="ln">7&lt;/span> &lt;span class="n">coEvery&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">mockActionManager&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">getAction&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;save&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="n">answers&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">mockk&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">}&lt;/span>
&lt;span class="ln">8&lt;/span> &lt;span class="n">assertEquals&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">mockActionManager&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">canSave&lt;/span>&lt;span class="p">())&lt;/span>
&lt;span class="ln">9&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>This test will not only run your extension function, but you can even verify that the extension function calls the correct functions on the extended class because mockk lets you check invocations.&lt;/p>
&lt;p>It seems like a silly little tip, but I liked it so much when I found this out I thought I'd share it with you.&lt;/p>
&lt;p>Hope to be more active on the blog again, until then happy coding!&lt;/p></description></item><item><title>Reading an ISKRA AM550 P1 Port with a Pi</title><link>https://realrolfje.github.io/2020/01/18/reading-an-iskra-am550-p1-port-with-a-pi/</link><pubDate>Fri, 17 Jan 2020 22:00:21 +0000</pubDate><guid>https://realrolfje.github.io/2020/01/18/reading-an-iskra-am550-p1-port-with-a-pi/</guid><description>
&lt;p>&lt;figure class="float_right">&lt;a href="https://en.wikipedia.org/wiki/Smart_meter">&lt;img src="iskra-am550-gprs-meter.jpg" width="120"/>&lt;/a>
&lt;/figure>
Although I am the guy with a soldering iron and a bit of software development experience, I am not a fan of the &amp;quot;internet of things&amp;quot;, &amp;quot;smart meters&amp;quot; or smart anything really. Not because I don't like technology, but because of the potential security and privacy problems it brings with it. That said, because of some unfortunate events I now have a smart meter my home. So when life gives you lemons, you make Pi!&lt;/p>
&lt;p>I've got an &lt;a href="http://www.iskraemeco.com/en/portfolio/electricity-meters/residential-smart-meters/am550/">AM550 Smart meter&lt;/a> with a P1 port. Seeing all the online content and suggestions about reading your smart meter, I decided to have an hour of fun trying to read the P1 data. Here's how I did it:&lt;/p>
&lt;!-- more -->
&lt;p>The P1 port on the AM550 sends serial data, but the signal is inverted. It is possible to invert that in software, but it is a kludge that requires some &lt;a href="https://en.wikipedia.org/wiki/Bit_banging">bit banging&lt;/a>. Bringing the data in the right polarity and connecting it to the Rx serial input on the GPIO port is the cheapest and fastest way to go if you happen to have an RJ11 connenctor, a PNP transistor and a few resistors lying around. Here are my notes on how I wired the P1 to the Raspberry:&lt;/p>
&lt;p>&lt;a href="schematic-am550.jpg">&lt;img src="schematic-am550.jpg?w=450" alt="">
&lt;/a>&lt;/p>
&lt;p>All that was left is reading the data from the serial port. Pin 10 maps to GPIO15 and happens to also be the Rx pin on the Raspberry Pi's internal Serial adapter, which is available as a device at /dev/ttyAMA0 (I did not choose this pin by accident ;-). I wrote a simple Python script to read the serial port so I could change it to produce munin graphs later:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="ln"> 1&lt;/span>&lt;span class="kn">import&lt;/span> &lt;span class="nn">serial&lt;/span>
&lt;span class="ln"> 2&lt;/span>&lt;span class="n">ser&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">serial&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Serial&lt;/span>&lt;span class="p">(&lt;/span>
&lt;span class="ln"> 3&lt;/span> &lt;span class="n">port&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;/dev/ttyAMA0&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="ln"> 4&lt;/span> &lt;span class="n">baudrate&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">115200&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="ln"> 5&lt;/span> &lt;span class="n">parity&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">serial&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">PARITY_NONE&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="ln"> 6&lt;/span> &lt;span class="n">stopbits&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">serial&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">STOPBITS_ONE&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="ln"> 7&lt;/span> &lt;span class="n">bytesize&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">serial&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">EIGHTBITS&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="ln"> 8&lt;/span> &lt;span class="n">timeout&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span>
&lt;span class="ln"> 9&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="ln">10&lt;/span>&lt;span class="k">while&lt;/span> &lt;span class="kc">True&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="ln">11&lt;/span> &lt;span class="nb">print&lt;/span> &lt;span class="n">ser&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">readline&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>When running this program, you should see a whole blob of text scroll by about every second or so. It is readable ASCII and can be parsed by many libraries out there. I tried a few but they were sometimes buggy, or sometimes overengineered and requiring a lot of external resources. So I wrote my own, very crude, parsing. It is not like the meter will be updated every week with new software and ssl certificates.&lt;/p>
&lt;p>There are actually only a few lines in the output that interest me:&lt;/p>
&lt;ul>
&lt;li>Lines starting with &lt;strong>1-0:1.7&lt;/strong> contain the current power usage in Watts&lt;/li>
&lt;li>Lines starting with &lt;strong>1-0:1.8.1&lt;/strong> are the T1 (low tariff) meter reading in Watt-hours.&lt;/li>
&lt;li>Lines starting with &lt;strong>1-0:1.8.2&lt;/strong> are the T2 (high tariff) meter reading in Watt-hours.&lt;/li>
&lt;/ul>
&lt;p>A few lines of additional python gave me three separate munin plugins to produce the graphs I wanted. Here is a nice one showing the power usage of last week, split between high and low tariff.&lt;/p>
&lt;p>&lt;a href="smartmeter_totals_am550-week.png">&lt;img src="smartmeter_totals_am550-week.png" alt="">
&lt;/a>&lt;/p>
&lt;p>This nice graph also shows one of the problems with smart meters: Given enough resolution, you can see at which times devices and lights are switched on. This can provide some interesting patterns, and enables anybody with access to your meter data to determine when you are home or on vacation. Of course there are some tricks to create constant or confusing usage patterns, I'm sure you'll come up with something smart now that you can see the graphs.&lt;/p>
&lt;p>You can find all three munin plugins in my &lt;a href="https://github.com/realrolfje/munin-plugins">munin-plugin repository&lt;/a>, in the &amp;quot;plugin&amp;quot; folder. There may also be other interesting stuff there for you munin enthausiasts.&lt;/p>
&lt;p>Have fun!&lt;/p></description></item><item><title>Travis CI and Dependabot added to Anonimatron</title><link>https://realrolfje.github.io/2018/04/26/travis-ci-and-dependabot-added-to-anonimatron/</link><pubDate>Thu, 26 Apr 2018 20:38:12 +0000</pubDate><guid>https://realrolfje.github.io/2018/04/26/travis-ci-and-dependabot-added-to-anonimatron/</guid><description>
&lt;p>&lt;figure class="float_left">&lt;a href="https://www.youtube.com/watch?v=wEhu57pih5w">&lt;img src="travis-ci-anonimyzed.png" width="80"/>&lt;/a>
&lt;/figure>
With new &lt;a href="https://www.eugdpr.org/">European rules like the GDPR&lt;/a> and local variations like the &lt;a href="https://autoriteitpersoonsgegevens.nl/nl/onderwerpen/avg-nieuwe-europese-privacywetgeving">Dutch AVG&lt;/a>, interest in &lt;a href="https://realrolfje.github.io/anonimatron/">Anonimatron&lt;/a> is increasing. Although I do not keep track of who is using it and where, sometimes new requirements do pop up. Recently a feature was added to &lt;a href="https://github.com/realrolfje/anonimatron/releases">Anonimatron 1.9.2&lt;/a> to also anonymize files.&lt;/p>
&lt;p>In the wake of those additions, I planned to give &lt;a href="https://travis-ci.org/">Travis CI&lt;/a> a try to automate the builds. It turns out that Travis CI integrates beautifully with GitHub, and automatically builds branches and pull requests right out of the box.&lt;/p>
&lt;p>At the office, we had a discussion about keeping libraries up to date with the maven dependency plugin for our client projects. We came up with a system to use the maven dependency plugin on a separate branch to automatically do that on our buildserver. It turns out that there is a service called &lt;a href="https://dependabot.com/">Dependabot&lt;/a> which does nearly the same thing. Dependabot looks at your GitHub project, and creates &lt;a href="https://github.com/realrolfje/anonimatron/pull/10">pull requests for each library it upgrades&lt;/a>.&lt;/p>
&lt;p>All these services are free for Open Source projects, so Anonimatron would be a great candidate for testing them. I am pretty happy with the way it currently works, and getting this up and running was really simple:&lt;/p>
&lt;ol>
&lt;li>Make sure your Open Source project builds with any of the main stream build tools supported by Travis CI
like Maven or Gradle. Try to keep the build as simple as possible.&lt;/li>
&lt;li>Create an account with &lt;a href="https://travis-ci.org/">Travis CI&lt;/a> with your GitHub account. After registration,
Travis CI shows you a list of your projects. Select one and follow the steps. After a few mouse clicks
Travis CI should be building your project.&lt;/li>
&lt;li>Create an account with &lt;a href="https://dependabot.com/">Dependabot&lt;/a>. As in step 2, select your project and
follow the Dependabot guide to setting it up.&lt;/li>
&lt;li>After a while you should see pull request arriving in your GitHub project, one for each upgraded library.
Travis CI immediately builds those Pull Requests and a
&lt;a href="https://github.com/realrolfje/anonimatron/branches">green tickmark or red cross&lt;/a> shows next to the branch.&lt;/li>
&lt;/ol>
&lt;p>There you go, your project now has automatic builds and automatic version upgrades, like a pro. Please note that in order to confidently upgrade libraries, you need to have proper tests! Look at the
&lt;a href="https://github.com/realrolfje/anonimatron/tree/master/src/test/java/com/rolfje/anonimatron">Anonimatron Test Suite&lt;/a> to get an idea.&lt;/p>
&lt;p>Happy coding!&lt;/p></description></item><item><title>JSON alerts for Munin</title><link>https://realrolfje.github.io/2018/01/07/json-alerts-for-munin/</link><pubDate>Sun, 07 Jan 2018 18:18:59 +0000</pubDate><guid>https://realrolfje.github.io/2018/01/07/json-alerts-for-munin/</guid><description>
&lt;p>&lt;a href="https://math.stackexchange.com/a/54568">&lt;img src="munin-log.png" alt="">
&lt;/a>Munin is a great and easy way to monitor your servers. The documentation for Munin is kind of all over the place, and sometimes not all that clear.&lt;/p>
&lt;pre>&lt;code> * There is the recent [&amp;quot;Munin Guide&amp;quot;](https://munin.readthedocs.io/en/latest/) which is quite informative and well laid out.
&lt;/code>&lt;/pre>
&lt;ul>
&lt;li>Sometimes additional info and background can be found on the &lt;a href="http://munin-monitoring.org/wiki/Documentation">old munin wiki&lt;/a>.&lt;/li>
&lt;/ul>
&lt;p>Getting the standard mail alerts working on munin is simplest, but as soon as you want custom layouts or send alerts as a push message to a phone, it can take quite some work. Here's what I figured out to get the Munin alert available to you as JSON inside your own Python script so you can do anything you want with it.&lt;/p>
&lt;!-- more -->
&lt;p>On the munin master, create the file &lt;code>/etc/munin/munin-conf.d/alerts.conf&lt;/code> with the following contents:&lt;/p>
&lt;p>[sourcecode gutter=&amp;quot;false&amp;quot; language=&amp;quot;text&amp;quot;]
contact.python.command /etc/munin/scripts/alert.py
contact.python.text { &amp;quot;group&amp;quot;:&amp;quot;${var:group}&amp;quot;, &amp;quot;host&amp;quot;:&amp;quot;${var:host}&amp;quot;,&lt;br>
&amp;quot;graph_category&amp;quot;:&amp;quot;${var:graph_category}&amp;quot;,&lt;br>
&amp;quot;graph_title&amp;quot;:&amp;quot;${var:graph_title}&amp;quot;,&lt;br>
&amp;quot;warning&amp;quot;:[ &lt;br>
${loop&amp;lt;,&amp;gt;:wfields {&amp;quot;label&amp;quot;:&amp;quot;${var:label}&amp;quot;,&lt;br>
&amp;quot;value&amp;quot;:&amp;quot;${var:value}&amp;quot;,&lt;br>
&amp;quot;w&amp;quot;:&amp;quot;${var:wrange}&amp;quot;,&lt;br>
&amp;quot;c&amp;quot;:&amp;quot;${var:crange}&amp;quot;,&lt;br>
&amp;quot;extra&amp;quot;:&amp;quot;${var:extinfo}&amp;quot;} }&lt;br>
],&lt;br>
&amp;quot;critical&amp;quot;:[ &lt;br>
${loop&amp;lt;,&amp;gt;:cfields {&amp;quot;label&amp;quot;:&amp;quot;${var:label}&amp;quot;,&lt;br>
&amp;quot;value&amp;quot;:&amp;quot;${var:value}&amp;quot;,&lt;br>
&amp;quot;w&amp;quot;:&amp;quot;${var:wrange}&amp;quot;,&lt;br>
&amp;quot;c&amp;quot;:&amp;quot;${var:crange}&amp;quot;,&lt;br>
&amp;quot;extra&amp;quot;:&amp;quot;${var:extinfo}&amp;quot;} }&lt;br>
],&lt;br>
&amp;quot;unknown&amp;quot;:[ &lt;br>
${loop&amp;lt;,&amp;gt;:ufields {&amp;quot;label&amp;quot;:&amp;quot;${var:label}&amp;quot;,&lt;br>
&amp;quot;value&amp;quot;:&amp;quot;${var:value}&amp;quot;,&lt;br>
&amp;quot;w&amp;quot;:&amp;quot;${var:wrange}&amp;quot;,&lt;br>
&amp;quot;c&amp;quot;:&amp;quot;${var:crange}&amp;quot;,&lt;br>
&amp;quot;extra&amp;quot;:&amp;quot;${var:extinfo}&amp;quot;} }&lt;br>
]&lt;br>
}
[/sourcecode]&lt;/p>
&lt;p>This will make Munin output JSON to the &amp;quot;python&amp;quot; user, you can chose another name if needed. After this, you can create a Python script looking somewhat like this:&lt;/p>
&lt;p>[sourcecode gutter=&amp;quot;false&amp;quot; language=&amp;quot;python&amp;quot;]
#!/usr/bin/python&lt;/p>
&lt;h1 id="heading">&lt;/h1>
&lt;h1 id="save-as-etcmuninscriptsalertpy">Save as /etc/munin/scripts/alert.py&lt;/h1>
&lt;h1 id="chown-muninmunin-etcmuninscriptsalertpy">chown munin:munin /etc/munin/scripts/alert.py&lt;/h1>
&lt;h1 id="chmod-x-etcmuninscriptsalertpy">chmod +x /etc/munin/scripts/alert.py&lt;/h1>
&lt;h1 id="heading-1">&lt;/h1>
&lt;p>import sys
import os
import json&lt;/p>
&lt;p>def humanreadable( jsonalert ):
hascritical = (len(jsonalert['critical']) &amp;gt; 0)
haswarning = (len(jsonalert['warning']) &amp;gt; 0)
hasunknown = (len(jsonalert['unknown']) &amp;gt; 0)&lt;/p>
&lt;p>report = &amp;quot;&amp;quot;&lt;/p>
&lt;p>if hascritical:
for i in jsonalert['critical']:
report += &amp;quot;CRITICAL: {0} {1}: {2}={3}&amp;quot;.format(jsonalert['host'],
jsonalert['graph_title'], i['label'],i['value'])&lt;/p>
&lt;p>if haswarning:
for i in jsonalert['warning']:
report += &amp;quot;WARNING: {0} {1}: {2}={3}&amp;quot;.format(jsonalert['host'],
jsonalert['graph_title'], i['label'],i['value'])&lt;/p>
&lt;p>if hasunknown:
for i in jsonalert['unknown']:
report += &amp;quot;UNKNOWN: {0} {1}: {2}={3}&amp;quot;.format(jsonalert['host'],
jsonalert['graph_title'], i['label'],i['value'])&lt;/p>
&lt;p>if hascritical + haswarning + hasunknown == 0:
report += &amp;quot;OK: {0} {1}&amp;quot;.format(jsonalert['host'],jsonalert['graph_title'])&lt;/p>
&lt;p>return report&lt;/p>
&lt;h1 id="get-the-output-from-munin-stdout-and-print-it">Get the output from Munin stdout and print it.&lt;/h1>
&lt;p>for line in sys.stdin:
j = json.loads(line)
readable = humanreadable(j)
print readable
[/sourcecode]&lt;/p>
&lt;p>There is no debugging without testruns. To see if this works, you can run this command:&lt;/p>
&lt;p>[sourcecode gutter=&amp;quot;false&amp;quot; language=&amp;quot;bash&amp;quot;]
sudo -u munin /usr/share/munin/munin-limits --force
[/sourcecode]&lt;/p>
&lt;p>This should give you output which looks somewhat like this:&lt;/p>
&lt;p>[sourcecode gutter=&amp;quot;false&amp;quot; language=&amp;quot;text&amp;quot;]
WARNING: monitor.local Logged in users: pts=4.00
OK: monitor.local Inode usage in percent
OK: monitor.local eth0 errors
OK: monitor.local File table usage
OK: monitor.local Disk usage in percent
OK: monitor.local routerboard CPU usage
OK: monitor.local Disk latency per device :: Average latency for /dev/mmcblk0
[/sourcecode]&lt;/p>
&lt;p>Bingo! Munin sends JSON to your Python script! Now you can use your awesome Pyhton skills to change this into whatever you want or send. To get you inspired, here's a piece of code I use to send alerts to a Mattermost server:&lt;/p>
&lt;p>[sourcecode gutter=&amp;quot;false&amp;quot; language=&amp;quot;python&amp;quot;]
import requests&lt;/p>
&lt;p>mattermost_url = &amp;quot;https://&lt;your-server-here>/hooks/&lt;your-hook-here>&amp;quot;&lt;/p>
&lt;p>def sendmattermost( alerts ):
payload = '{&amp;quot;username&amp;quot;: &amp;quot;Monitor&amp;quot;, &amp;quot;text&amp;quot;: &amp;quot;'&lt;/p>
&lt;p>if &amp;quot;WARNING:&amp;quot; in alerts or &amp;quot;CRITICAL:&amp;quot; in alerts:
payload += ':rotating_light:\n'
else:
payload += &amp;quot;:pager:\n&amp;quot;&lt;/p>
&lt;p>payload += alerts
payload += '&amp;quot;}'&lt;/p>
&lt;p>print &amp;quot;Sending payload: '&amp;quot; + payload +&amp;quot;'.&amp;quot;
r = requests.post(mattermost_url, data=payload)
if r.status_code != 200:
print &amp;quot;PANIC &amp;quot; + r.reason +&amp;quot; : &amp;quot; + r.text
[/sourcecode]&lt;/p>
&lt;p>You can find this trick and other munin plugin stuff in my &lt;a href="https://github.com/realrolfje/munin-plugins">munin-plugins repository&lt;/a>.&lt;/p>
&lt;p>Happy alerting!&lt;/p></description></item><item><title>Fixing a Jenkins 1.5 Slave on Windows 2016</title><link>https://realrolfje.github.io/2018/01/01/fixing-a-jenkins-1-5-slave-on-windows-2016/</link><pubDate>Mon, 01 Jan 2018 17:27:43 +0000</pubDate><guid>https://realrolfje.github.io/2018/01/01/fixing-a-jenkins-1-5-slave-on-windows-2016/</guid><description>
&lt;p>&lt;a href="https://www.youtube.com/watch?v=FqNjugrRF7s">&lt;img src="jenkins-broken.png" alt="Jenkins is one funny butler.">
&lt;/a>&lt;/p>
&lt;p>When you configure a Jenkins 1.5x slave on a Windows 2016 machine according to &lt;a href="https://wiki.jenkins-ci.org/display/JENKINS/Installing+Jenkins+as+a+Windows+service?focusedCommentId=58916887">the instructions on wiki.jenkins-ci.org&lt;/a> you will probably get a warning that the .Net 2.0 is not available. This is reported as issue &lt;a href="https://issues.jenkins-ci.org/browse/JENKINS-21484?page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel&amp;amp;showAll=true">21484&lt;/a> and the fix is to upgrade, which sometimes can be a problem.&lt;/p>
&lt;p>If you can't upgrade to the latest version for whatever reason, you can easily fix the .Net problem by changing the jenkins-slave.exe.config file from:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;xml&amp;quot; gutter=&amp;quot;false&amp;quot;]
&lt;configuration>
&lt;runtime>
&lt;generatePublisherEvidence enabled="false"/>
&lt;/runtime>
&lt;/configuration>
[/sourcecode]&lt;/p>
&lt;p>To:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;xml&amp;quot; gutter=&amp;quot;false&amp;quot;]&lt;/p>
&lt;!-- see http://support.microsoft.com/kb/936707 -->
&lt;configuration>
&lt;runtime>
&lt;generatePublisherEvidence enabled="false"/>
&lt;/runtime>
&lt;startup>
&lt;supportedRuntime version="v2.0.50727" />
&lt;supportedRuntime version="v4.0" />
&lt;/startup>
&lt;/configuration>
[/sourcecode]
&lt;p>Hope this works for you. Cheers!&lt;/p></description></item><item><title>Mattermost Delete Channel "fixed"</title><link>https://realrolfje.github.io/2017/10/26/mattermost-delete-channel-fixed/</link><pubDate>Thu, 26 Oct 2017 15:58:01 +0000</pubDate><guid>https://realrolfje.github.io/2017/10/26/mattermost-delete-channel-fixed/</guid><description>
&lt;p>&lt;a href="delete-or-leave.jpg">&lt;img src="delete-or-leave.jpg" alt="">
&lt;/a>Users of Mattermost have probably noticed the less-than-optimal interface design where de Delete option is right above the Leave option in the Channel menu. On a busy server, you can imagine having quite a few incidents where people accidentally completely delete a channel.&lt;/p>
&lt;p>In the Open Source version of Mattermost, everybody van do anything, because there is &lt;a href="https://github.com/mattermost/mattermost-server/issues/6320">no sensible security model with roles&lt;/a>. Mattermost Inc. seems to think that the Open Source community is &lt;a href="https://github.com/mattermost/mattermost-server/issues/6320#issuecomment-302996954">not entitled to roles&lt;/a>, which I (and others with me) strongly disagree with.&lt;/p>
&lt;p>&lt;a href="https://github.com/realrolfje/mattermost-platform">Forking Mattermost&lt;/a>, learning Golang and enabeling security, improving &lt;a href="https://github.com/mattermost/mattermost-server/issues/6321">a few other issues&lt;/a> for the open source community along the way is a plan. But there is a simpler workaround for people running Mattermost inside &lt;a href="https://en.wikipedia.org/wiki/Nginx">Nginx&lt;/a>.&lt;/p>
&lt;!-- more -->Open _/etc/nginx/sites-enabled/mattermost_ and find the _"location"_ sections. Add the highlighted lines (this modifies one location, and adds a new one):
&lt;p>[sourcecode language=&amp;quot;text&amp;quot; highlight=&amp;quot;15-18, 20-50&amp;quot; padlinenumbers=&amp;quot;false&amp;quot; gutter=&amp;quot;false&amp;quot;]
location ~ /api/v[0-9]+/(users/)?websocket$ {
proxy_set_header Upgrade $http_upgrade;
proxy_set_header Connection &amp;quot;upgrade&amp;quot;;
client_max_body_size 50M;
proxy_set_header Host $http_host;
proxy_set_header X-Real-IP $remote_addr;
proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
proxy_set_header X-Forwarded-Proto $scheme;
proxy_set_header X-Frame-Options SAMEORIGIN;
proxy_buffers 256 16k;
proxy_buffer_size 16k;
proxy_read_timeout 600s;
proxy_pass http://127.0.0.1:8065;&lt;/p>
&lt;pre>&lt;code>if ($request_method = DELETE) {
return 403;
break;
}
&lt;/code>&lt;/pre>
&lt;p>}
location ~ /api/v[0-9]+/channels/[\d\w]*$ {
client_max_body_size 50M;
proxy_set_header Connection &amp;quot;&amp;quot;;
proxy_set_header Host $http_host;
proxy_set_header X-Real-IP $remote_addr;
proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
proxy_set_header X-Forwarded-Proto $scheme;
proxy_set_header X-Frame-Options SAMEORIGIN;
proxy_buffers 256 16k;
proxy_buffer_size 16k;
proxy_read_timeout 600s;
proxy_cache mattermost_cache;
proxy_cache_revalidate on;
proxy_cache_min_uses 2;
proxy_cache_use_stale timeout;
proxy_cache_lock on;
proxy_pass http://127.0.0.1:8065;&lt;/p>
&lt;pre>&lt;code># See https://stackoverflow.com/questions/4833238/nginx-conf-redirect-multiple-conditions#4939522
if ($request_method = DELETE) {
set $block_delete 1;
}
# Allow deletes originatig from this ip address.
if ($remote_addr = 44.137.37.17) {
set $block_delete 0;
}
if ($block_delete = 1) {
return 403;
break;
}
&lt;/code>&lt;/pre>
&lt;p>}
location / {
client_max_body_size 50M;
proxy_set_header Connection &amp;quot;&amp;quot;;
proxy_set_header Host $http_host;
proxy_set_header X-Real-IP $remote_addr;
proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
proxy_set_header X-Forwarded-Proto $scheme;
proxy_set_header X-Frame-Options SAMEORIGIN;
proxy_buffers 256 16k;
proxy_buffer_size 16k;
proxy_read_timeout 600s;
proxy_cache mattermost_cache;
proxy_cache_revalidate on;
proxy_cache_min_uses 2;
proxy_cache_use_stale timeout;
proxy_cache_lock on;
proxy_pass http://127.0.0.1:8065;
}
[/sourcecode]&lt;/p>
&lt;p>Restart nginx with the command &lt;em>&amp;quot;service nginx restart&amp;quot;&lt;/em>. After this modification, nobody can delete a channel. Crude but effective. If you have tips on how to parse the headers with nginx to allow certain users to access the DELETE methods, please let me know.&lt;/p>
&lt;p>&lt;strong>Background:&lt;/strong>
We run a chat server for (mostly Dutch) licensed HAM radio operators on our own &lt;a href="https://en.wikipedia.org/wiki/AMPRNet">44.x.x.x network segment&lt;/a> of the internet also known in the Netherlands as &lt;a href="https://www.hamnet.nl/">&amp;quot;hamnet&amp;quot;&lt;/a>. We wanted a modern chat service with mobile applications to spice up the HAM radio world, ping eachother on field days, share thoughts and links to information, and enable colaboration for the growing number &lt;a href="https://github.com/travisgoodspeed/md380tools">HAM radio programmers&lt;/a> working on &lt;a href="https://freedv.org/">open source&lt;/a> software.&lt;/p>
&lt;p>The server is paid for and run by people who care about sharing. Although Mattermost is not our focus area, we do try to contribute to Mattermost with bug reports, &lt;a href="https://github.com/42wim/matterbridge/pull/176">fixes&lt;/a> and running the beta chat clients. Our usergroup is almost 500 people, and growing. Depending on events or contests roughly 20% of our users are actively reading and contributing to one or more channels:&lt;/p>
&lt;table >
&lt;tbody >
&lt;tr >
&lt;td >[![](mattermost_users_hobbyscoop-month.png?w=150)
](mattermost_users_hobbyscoop-month.png)
&lt;/td>
&lt;td >[![](mattermost_sessions_hobbyscoop-week.png)
](mattermost_sessions_hobbyscoop-week.png)
&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
Mattermost did mention their ["monday license program"](https://about.mattermost.com/mattermost-mondays/) in their responses, but as you can see we are already halfway their 1000 user limit and growing. We have no intention of sending any legal documents or statutes to a company which then decides if we can access our own existing content.
&lt;p>From where we are standing, with the open source tools we use, Mattermost looks like an odd duck. Most of the open source tools we use and contribute to have common-sense safety and security built in, Linux, nginx, &lt;a href="http://www.haproxy.org/">haproxy&lt;/a> and &lt;a href="https://letsencrypt.org/">letsencrypt&lt;/a>  being a few strong examples. In contrast, the Mattermost team cripples the Open Source version with &lt;a href="https://github.com/mattermost/mattermost-server/issues/5935">weak passwords&lt;/a> and no implementation of even the most basic security roles. For a tool which pretends to be mature and safe enough to be exposed to the Internet, the workaround as described in this blogpost should not be needed.&lt;/p>
&lt;p>Please help us convince the Mattermost Team of the importance of security in all versions of their products. Making money with support and features is okay, but basic common sense security should be the default for any open source project. We even think that improving security and speed makes Mattermost a more viable competitor against Slack and Telegram, to name two.&lt;/p>
&lt;p>Open Source is about sharing, not about farting in the general direction of the very people contributing to it.&lt;/p></description></item><item><title>Installing GPG keys for Debian Backports</title><link>https://realrolfje.github.io/2017/06/09/installing-gpg-keys-for-debian-backports/</link><pubDate>Fri, 09 Jun 2017 20:02:28 +0000</pubDate><guid>https://realrolfje.github.io/2017/06/09/installing-gpg-keys-for-debian-backports/</guid><description>
&lt;p>&lt;a href="https://www.youtube.com/watch?v=agcRwGDKulw">&lt;img src="debian_logo.jpg" alt="">
&lt;/a>For &lt;a href="https://letsencrypt.org/getting-started/">Let's Encrypt&lt;/a> to automatically renew certificates on your Raspberry Pi, you probably want to install &lt;a href="https://certbot.eff.org/">certbot&lt;/a>. The installation instructions of certbot tell you to make use of the &lt;a href="https://backports.debian.org/">Debian Backports&lt;/a> packages. Following the instructions to install backports packages into apt-get on raspbian (which is a &lt;a href="https://www.debian.org/releases/jessie/">Debian Jessie&lt;/a>), you will probably run into the following error:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;text&amp;quot; light=&amp;quot;true&amp;quot; highlight=&amp;quot;1&amp;quot;]
$ sudo apt-get update
...
W: GPG error: &lt;a href="http://ftp.debian.org">http://ftp.debian.org&lt;/a> jessie-backports InRelease:
The following signatures couldn't be verified because the public
key is not available: NO_PUBKEY 8B48AD6246925553 NO_PUBKEY
7638D0442B90D010
[/sourcecode]&lt;/p>
&lt;!-- more -->For some reason the GPG keys (there are two listed above) of Debian Backports are not automatically fetched from the GPG keyservers. Using [this stackoverflow answer](https://stackoverflow.com/questions/1139127/how-to-trust-a-apt-repository-debian-apt-get-update-error-public-key-is-not-av#1139148), I fixed the GPG key problem as follows:
&lt;p>[sourcecode language=&amp;quot;text&amp;quot; light=&amp;quot;true&amp;quot; highlight=&amp;quot;1,3,4,15,18&amp;quot;]
$ sudo su -&lt;/p>
&lt;p>$ gpg --keyserver pgp.mit.edu --recv-keys &lt;br>
7638D0442B90D010 8B48AD6246925553
gpg: requesting key 2B90D010 from hkp server pgp.mit.edu
gpg: requesting key 46925553 from hkp server pgp.mit.edu
gpg: key 2B90D010: public key &amp;quot;Debian Archive Automatic Signing Key (8/jessie) &lt;a href="mailto:ftpmaster@debian.org">ftpmaster@debian.org&lt;/a>&amp;quot; imported
gpg: key 46925553: public key &amp;quot;Debian Archive Automatic Signing Key (7.0/wheezy) &lt;a href="mailto:ftpmaster@debian.org">ftpmaster@debian.org&lt;/a>&amp;quot; imported
gpg: 3 marginal(s) needed, 1 complete(s) needed, PGP trust model
gpg: depth: 0 valid: 1 signed: 0 trust: 0-, 0q, 0n, 0m, 0f, 1u
gpg: next trustdb check due at 2018-08-19
gpg: Total number processed: 2
gpg: imported: 2 (RSA: 2)&lt;/p>
&lt;p>$ gpg --armor --export 7638D0442B90D010 | apt-key add -
OK&lt;/p>
&lt;p>$ gpg --armor --export 8B48AD6246925553 | apt-key add -
OK
[/sourcecode]&lt;/p>
&lt;p>After importing the keys, exit from the root and try the usual update:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;text&amp;quot; light=&amp;quot;true&amp;quot; highlight=&amp;quot;1,2&amp;quot;]
$ exit
$ sudo apt-get update
Hit &lt;a href="http://ftp.debian.org">http://ftp.debian.org&lt;/a> jessie-backports InRelease
...
Reading package lists... Done
[/sourcecode]&lt;/p>
&lt;p>Presto! You can now proceeed with installing certbot, or any other package requiring debian backports.&lt;/p></description></item><item><title>Make the ESP8266 talk 9600 baud</title><link>https://realrolfje.github.io/2017/01/02/make-the-esp8266-talk-9600-baud/</link><pubDate>Mon, 02 Jan 2017 19:53:59 +0000</pubDate><guid>https://realrolfje.github.io/2017/01/02/make-the-esp8266-talk-9600-baud/</guid><description>
&lt;p>&lt;a href="https://youtu.be/0IRvtw22JIc">&lt;img src="b1262-0.jpg" alt="Surprise video">
&lt;/a>The default serial speed on the ESP8266 WiFi chip is 115200 baud. If you connect this chip to an Arduino and want to use SoftSerial to talk to it, it will not work. The SoftSerial library is limited to 9600 baud because of hardware limitations of the Arduino. If you want to talk to the ESP8266 with an Arduino at lower speeds, you need to tell the ESP8266 to slow down.&lt;/p>
&lt;!-- more -->[Remco.org](http://remco.org/) noted that sending 115200 baud with SoftSerial works just well enough to throw a command to the ESP8266. So below is a sketch that will do just that for you.
&lt;pre>&lt;code> 1. Load or copy/paste the sketch in your Arduino IDE.
2. Connect the ESP8266 board to the Arduino as follows:
&lt;/code>&lt;/pre>
&lt;ul>
&lt;li>ESP TX pin to Arduino softRX pin 4&lt;/li>
&lt;li>ESP RX pin to Arduino softTx pin 5
3. Open the Serial Monitor of the Arduino IDE and set it to 9600 bps and CR/LF.
4. Compile and upload this sketch to the  Arduino.
5. Wait for the Serial monitor to show:
AT
OK
-- Sketch stopped.&lt;/li>
&lt;/ul>
&lt;p>You can now use your ESP8266 at 9600 baud. The setting is stored in non-volatile memory, so you only need to do this once.&lt;/p>
&lt;p>Here's the sketch:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;cpp&amp;quot; gutter=&amp;quot;false&amp;quot;]
/*&lt;/p>
&lt;ul>
&lt;li>This sketch switches the ESP8266 from its&lt;/li>
&lt;li>factory-default setting of 115200 bps to&lt;/li>
&lt;li>9600 bps so that we can use SoftSerial to&lt;/li>
&lt;li>communicate with it.&lt;/li>
&lt;li>&lt;/li>
&lt;li>
&lt;ol>
&lt;li>Connect the ESP8266:&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>
&lt;ul>
&lt;li>ESP TX pin to Arduino softRX pin 4&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;ul>
&lt;li>ESP RX pin to Arduino softTx pin 5&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;ol start="2">
&lt;li>Open the Serial Monitor of the&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>Arduino IDE and set it to 9600 bps and&lt;/li>
&lt;li>CR/LF.&lt;/li>
&lt;li>
&lt;ol start="3">
&lt;li>Compile and upload this sketch to the&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>Arduino.&lt;/li>
&lt;li>
&lt;ol start="4">
&lt;li>Sit back and watch the magic.&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>
&lt;ol start="5">
&lt;li>If you see &amp;quot;AT OK&amp;quot;, it worked.&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>&lt;/li>
&lt;li>Settings are stored in Flash memory, you&lt;/li>
&lt;li>only need to execute this sketch once.&lt;/li>
&lt;li>&lt;/li>
&lt;li>Please note: Although softserial is used&lt;/li>
&lt;li>to transmit at 115200 bps, you'll notice&lt;/li>
&lt;li>we never wait for an answer. That is&lt;/li>
&lt;li>because SoftSerial is not built to receive&lt;/li>
&lt;li>at speeds above 9600 bps.&lt;/li>
&lt;li>You have been warned.
*/
#include &amp;lt;SoftwareSerial.h&amp;gt;&lt;/li>
&lt;/ul>
&lt;p>const long sourcebaudrate = 115200;
const long targetbaudrate = 9600;&lt;/p>
&lt;p>const int softRX = 4;
const int softTX = 5;&lt;/p>
&lt;p>SoftwareSerial softSerial(softRX, softTX);&lt;/p>
&lt;p>void setup() {
Serial.begin(targetbaudrate);&lt;/p>
&lt;p>Serial.println(&amp;quot;Tell the ESP8266 to switch from &amp;quot;
+ String(sourcebaudrate) + &amp;quot; to &amp;quot;
+ String(targetbaudrate) + &amp;quot; bps.&amp;quot;);&lt;/p>
&lt;p>softSerial.begin(sourcebaudrate);
softSerial.print(&amp;quot;AT+IPR=&amp;quot;
+ String(targetbaudrate)
+ &amp;quot;\r\n&amp;quot;);&lt;/p>
&lt;p>delay(500);&lt;/p>
&lt;p>Serial.println(&amp;quot;Talk to the ESP8266 at &amp;quot;
+ String(targetbaudrate) + &amp;quot; bps.&amp;quot;);
softSerial.begin(targetbaudrate);
softSerial.print(&amp;quot;AT\r\n&amp;quot;);&lt;/p>
&lt;p>delay(500);&lt;/p>
&lt;p>Serial.println(&amp;quot;Reply from the ESP8266:&amp;quot;);
while(softSerial.available() &amp;gt; 0 ) {
char a = softSerial.read();
if(a == '\0') continue;
if(a != '\r' &amp;amp;&amp;amp; a != '\n' &amp;amp;&amp;amp; (a &amp;lt; 32)) continue;
Serial.print(a);
}&lt;/p>
&lt;p>Serial.println(&amp;quot;-- Sketch stopped.&amp;quot;);
}&lt;/p>
&lt;p>void loop() {
}
[/sourcecode]&lt;/p></description></item><item><title>Solving the JAXB "unexpected element" problem</title><link>https://realrolfje.github.io/2015/06/08/solving-the-jaxb-unexpected-element-problem/</link><pubDate>Mon, 08 Jun 2015 21:43:22 +0000</pubDate><guid>https://realrolfje.github.io/2015/06/08/solving-the-jaxb-unexpected-element-problem/</guid><description>
&lt;p>&lt;a href="1.jpg">&lt;img src="1.jpg?w=135" alt="-1">
&lt;/a>If you are using &lt;a href="https://en.wikipedia.org/wiki/Java_Architecture_for_XML_Binding">JAXB&lt;/a> in a maven/java project to unmarshal an XML document and you get:&lt;/p>
&lt;blockquote>javax.xml.bind.UnmarshalException: unexpected element (uri:"urn:iso:std:somestuff:xsd:somestuff", local:"Document"). Expected elements are (none)&lt;/blockquote>
&lt;p>Or if you are using JAXB to marshal an XML document and you get:&lt;/p>
&lt;blockquote>com.sun.istack.internal.SAXException2: unable to marshal type "generated.somestuff.Document" as an element because it is missing an @XmlRootElement annotation&lt;/blockquote>
&lt;p>You have probably fallen victim of the fact that JAXB does not do &amp;quot;Simple Binding&amp;quot; by default. If your project is a maven project and you generated classes based on an xsd file, this is how you fix it (without changing the xsd file):&lt;/p>
&lt;!-- more -->Tell JAXB to do "simple binding". To do so, create a binding file called src/main/resources/jaxb/simple-binding.xml with the following contents:
&lt;p>[sourcecode language=&amp;quot;xml&amp;quot;]
&amp;lt;jaxb:bindings jaxb:extensionBindingPrefixes=&amp;quot;xjc&amp;quot; version=&amp;quot;2.1&amp;quot;
xmlns:jaxb=&amp;quot;http://java.sun.com/xml/ns/jaxb&amp;quot;
xmlns:xjc=&amp;quot;http://java.sun.com/xml/ns/jaxb/xjc&amp;quot;&amp;gt;
&lt;a href="jaxb:globalBindings">jaxb:globalBindings&lt;/a>
&lt;a href="xjc:simple/">xjc:simple/&lt;/a>
&amp;lt;/jaxb:globalBindings&amp;gt;
&amp;lt;/jaxb:bindings&amp;gt;
[/sourcecode]&lt;/p>
&lt;p>Then, add the following options to the execution of your jaxb2-maven-plugin (highlighted):&lt;/p>
&lt;p>[sourcecode language=&amp;quot;xml&amp;quot; highlight=&amp;quot;13,14,15&amp;quot;]
&lt;plugin>
&lt;groupId>org.codehaus.mojo&lt;/groupId>
&lt;artifactId>jaxb2-maven-plugin&lt;/artifactId>
&lt;version>1.5&lt;/version>
&lt;executions>
&lt;execution>
&lt;id>somestuff&lt;/id>
&lt;goals>
&lt;goal>xjc&lt;/goal>
&lt;/goals>
&lt;configuration>
&lt;clearOutputDir>false&lt;/clearOutputDir>
&lt;extension>true&lt;/extension>
&lt;bindingDirectory>${basedir}/src/main/resources/jaxb&lt;/bindingDirectory>
&lt;bindingFiles>simple-binding.xjb&lt;/bindingFiles>
&lt;staleFile>${project.build.directory}/jaxb2/.somestuff.StaleFlag&lt;/staleFile>
&lt;packageName>generated.somestuff&lt;/packageName>
&lt;schemaDirectory>${basedir}/src/main/resources/schemas&lt;/schemaDirectory>
&lt;schemaFiles>somestuff.xsd&lt;/schemaFiles>
&lt;/configuration>
&lt;/execution>
&lt;/executions>
&lt;/plugin>
[/sourcecode]&lt;/p>
&lt;p>You should be able to re-generate the jaxb code now, and parsing should work. In order to test if you have this problem, and to ensure that it does not come back after somebody changes your build file, create a unittest which marshals a java object into xml, and then unmarshalls the generated xml back into an object:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;java&amp;quot;]
// Create document objects (JAXB Generated classes)
Document sourceDocument = new Document();
sourcedocument.setSomeElement(new SomeElement());&lt;/p>
&lt;p>JAXBContext jaxbContext = JAXBContext.newInstance(Document.class);&lt;/p>
&lt;p>// Write Document
File file = File.createTempFile(&amp;quot;sometempstuff&amp;quot;, &amp;quot;.xml&amp;quot;);
FileWriter fileWr = new FileWriter(file);
XMLOutputFactory xml = XMLOutputFactory.newFactory();
XMLStreamWriter xmlStrWr = xml.createXMLStreamWriter(fileWr);
xmlStrWr.writeStartDocument(&amp;quot;UTF-8&amp;quot;, &amp;quot;1.0&amp;quot;);
Marshaller marshaller = jaxbContext.createMarshaller();
marshaller.setProperty(Marshaller.JAXB_FRAGMENT, true);
marshaller.marshal(sourceDocument, xmlStrWr);
xmlStrWr.writeEndDocument();
fileWr.close();&lt;/p>
&lt;p>// Read Document
FileInputStream fileInpStr = new FileInputStream(file);
Unmarshaller unm = jaxbContext.createUnmarshaller();
Document result = (Document) unm.unmarshal(fileInpStr);&lt;/p>
&lt;p>// Test the parsedDocument here if you like.
...&lt;/p>
&lt;p>// Cleanup
file.delete();
[/sourcecode]&lt;/p>
&lt;p>The reason for this blog is of course the fact that I expected this &amp;quot;Simple Binding&amp;quot; to be the default, as 80% of the people will want to do exactly this. I've found a lot of people suffering from this problem, and I found the documentation to be not very helpful.&lt;/p>
&lt;p>I hope this blog post helps you get on with more important stuff.&lt;/p>
&lt;p>Have fun!
Rolf&lt;/p></description></item><item><title>Import/export an Oracle Schema using JDBC</title><link>https://realrolfje.github.io/2015/01/02/importexport-an-oracle-schema-using-jdbc/</link><pubDate>Fri, 02 Jan 2015 09:51:16 +0000</pubDate><guid>https://realrolfje.github.io/2015/01/02/importexport-an-oracle-schema-using-jdbc/</guid><description>
&lt;p>&lt;a href="https://www.youtube.com/watch?v=3j3tj1kV1hs">&lt;img src="61c1ee2ce9d31c894d188b7b17cacee90ffdece8bc4c4798d10100b7515820de.jpg" alt="Everybody gets a database!">
&lt;/a>When doing integration testing or fixing a bug in a piece of Java code that uses Oracle as a database, being able to do quick exports and imports of your schema can be a big help. Sometimes just calling Oracle's imp/exp commandline tools from your code can be of help, but I was looking for something a bit more portable and less demanding on my local development machine. I found that Oracle's datapump functionality can be called from stored procedures, which in turn can be called from a normal JDBC statement.&lt;/p>
&lt;!-- more -->Combining Oracle's information and questions like this one on StackOverflow, I've come up with a solution that allows me to call Java methods to import and export a database schema to a dumpfile, like so:
&lt;p>[sourcecode language=&amp;quot;java&amp;quot; light=&amp;quot;true&amp;quot;]
import(&amp;quot;myschema&amp;quot;, &amp;quot;myschema.dmp&amp;quot;);
export(&amp;quot;myschema&amp;quot;, &amp;quot;myschema.dmp&amp;quot;);
[/sourcecode]&lt;/p>
&lt;p>These methods make use of regular JDBC calls, are implemented as follows:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;java&amp;quot;]
public static final String EXPORT_DIR = &amp;quot;/tmp&amp;quot;;&lt;/p>
&lt;p>public void export(String schema, String fileName)
throws SQLException, IOException {
String sql = getFileContents(&amp;quot;export.sql&amp;quot;);
pStmt pStmt = dataSource
.getConnection()
.prepareStatement(sql);
pStmt.setString(1, schema.toUpperCase());
pStmt.setString(2, EXPORT_DIR);
pStmt.setString(3, fileName);
pStmt.execute();
}&lt;/p>
&lt;p>public void import(String schema, String fileName)
throws IOException, SQLException {
String sql = getFileContents(&amp;quot;import.sql&amp;quot;);
pStmt pStmt = dataSource
.getConnection()
.prepareStatement(sql);
pStmt.setString(1, schemaName.toUpperCase());
pStmt.setString(2, EXPORT_DIR);
pStmt.setString(3, fileName);
pStmt.execute();
}&lt;/p>
&lt;p>private String getFileContents(String fileName)
throws IOException {
InputStream in = this.getClass()
.getResourceAsStream(fileName);
return IOUtils.toString(in, &amp;quot;UTF-8&amp;quot;);
}
[/sourcecode]&lt;/p>
&lt;p>As you can see in the code, I create prepared statements from two sql files which are located in the same Java package. The &amp;quot;export.sql&amp;quot; contains the following code:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;sql&amp;quot;]
DECLARE
schemaname VARCHAR2(200) := ?;
directoryname VARCHAR2(200) := ?;
dumpfilename VARCHAR2(200) := ?;&lt;/p>
&lt;p>directoryvariable VARCHAR(100)
:= 'EXPORT_DIR_' || schemaname;&lt;/p>
&lt;p>handle NUMBER;
status VARCHAR2(20);
BEGIN&lt;/p>
&lt;p>EXECUTE IMMEDIATE 'CREATE OR REPLACE DIRECTORY '
|| directoryvariable || ' AS '''
|| directoryname || '''';&lt;/p>
&lt;p>handle := DBMS_DATAPUMP.OPEN(
operation =&amp;gt; 'EXPORT',
job_mode =&amp;gt; 'SCHEMA',
job_name =&amp;gt; 'datapump export schema '
|| schemaname);&lt;/p>
&lt;p>DBMS_DATAPUMP.ADD_FILE(
handle =&amp;gt; handle,
filename =&amp;gt; dumpfilename,
directory =&amp;gt; directoryvariable,
reusefile =&amp;gt; 1);&lt;/p>
&lt;p>DBMS_DATAPUMP.ADD_FILE(
handle =&amp;gt; handle,
filename =&amp;gt; dumpfilename || '.export.log',
directory =&amp;gt; directoryvariable,
filetype =&amp;gt; DBMS_DATAPUMP.KU$_FILE_TYPE_LOG_FILE,
reusefile =&amp;gt; 1);&lt;/p>
&lt;p>DBMS_DATAPUMP.METADATA_FILTER(
handle =&amp;gt; handle,
name =&amp;gt; 'SCHEMA_EXPR',
value =&amp;gt; 'IN (''' || schemaname || ''')');&lt;/p>
&lt;p>DBMS_DATAPUMP.START_JOB(handle);
DBMS_DATAPUMP.WAIT_FOR_JOB(handle, status);&lt;/p>
&lt;p>EXECUTE IMMEDIATE 'DROP DIRECTORY '
|| directoryvariable;
END;
[/sourcecode]&lt;/p>
&lt;p>The &amp;quot;import.sql&amp;quot; looks very similar, containing the following code:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;sql&amp;quot;]
DECLARE
schemaname VARCHAR2(200) := ?;
directoryname VARCHAR2(200) := ?;
dumpfilename VARCHAR2(200) := ?;&lt;/p>
&lt;p>directoryvariable VARCHAR(100) := 'EXPORT_DIR_'
|| schemaname;&lt;/p>
&lt;p>handle NUMBER;
status VARCHAR2(20);
BEGIN&lt;/p>
&lt;p>EXECUTE IMMEDIATE 'CREATE OR REPLACE DIRECTORY '
|| directoryvariable || ' AS '''
|| directoryname || '''';&lt;/p>
&lt;p>handle := DBMS_DATAPUMP.OPEN(
operation =&amp;gt; 'IMPORT',
job_mode =&amp;gt; 'SCHEMA',
job_name =&amp;gt; 'datapump import schema '
|| schemaname);&lt;/p>
&lt;p>DBMS_DATAPUMP.ADD_FILE(
handle =&amp;gt; handle,
filename =&amp;gt; dumpfilename,
directory =&amp;gt; directoryvariable);&lt;/p>
&lt;p>DBMS_DATAPUMP.ADD_FILE(
handle =&amp;gt; handle,
filename =&amp;gt; dumpfilename || '.import.log',
directory =&amp;gt; directoryvariable,
filetype =&amp;gt; DBMS_DATAPUMP.KU$_FILE_TYPE_LOG_FILE,
reusefile =&amp;gt; 1);&lt;/p>
&lt;p>DBMS_DATAPUMP.SET_PARAMETER(
handle =&amp;gt; handle,
name =&amp;gt; 'table_exists_action',
value =&amp;gt; 'REPLACE');&lt;/p>
&lt;p>DBMS_DATAPUMP.METADATA_FILTER(
handle =&amp;gt; handle,
name =&amp;gt; 'SCHEMA_EXPR',
value =&amp;gt; 'IN (''' || schemaname || ''')');&lt;/p>
&lt;p>DBMS_DATAPUMP.START_JOB(handle);
DBMS_DATAPUMP.WAIT_FOR_JOB(handle, status);&lt;/p>
&lt;p>EXECUTE IMMEDIATE 'DROP DIRECTORY '
|| directoryvariable;
END;
[/sourcecode]&lt;/p>
&lt;p>I recommend reading the Oracle Datapump documentation (albeit dangerously enterprisey) to see what exactly happens when these scripts run. For instance, dumpfiles are reused (overwritten) without notice, and logfiles are created next to the dumpfile.&lt;/p>
&lt;p>In this example, I write the dumpfiles to the &amp;quot;/tmp&amp;quot; directory on the database server. You can change this to any directory you like, but please make sure that the directory exists, and that the oracle user or orainst group has write access in that directory. A good way to start is first make it work with the /tmp directory, as in this example. If Oracle can not (over)write a file for any reason, you will get incomprehensible error messages about incorrect parameters in the dbms.datapump.add_file() calls.&lt;/p>
&lt;p>Enjoy your Oracle-free development environment!&lt;/p></description></item><item><title>Arduino and the QVGA 2.2" TFT SPI screen</title><link>https://realrolfje.github.io/2014/11/17/arduino-and-the-qvga-2-2-tft-spi-screen/</link><pubDate>Mon, 17 Nov 2014 10:37:17 +0000</pubDate><guid>https://realrolfje.github.io/2014/11/17/arduino-and-the-qvga-2-2-tft-spi-screen/</guid><description>
&lt;p>&lt;a href="http://www.elecfreaks.com/store/22%C3%82%E2%80%99-tft-lcd-tft0122sp-p-672.html">&lt;img src="2-2sp_a.jpg" alt="QVGA SPI 2.2" 320x240 screen">
&lt;/a>I went through all the struggles everybody else seems to be going through to get this screen connected to my &lt;a href="http://arduino.cc/en/Main/arduinoBoardNano">Arduino Nano&lt;/a>. I had the 5V to 3.3V voltage conversion problem, and the &amp;quot;only works with software interrupts&amp;quot; problem which makes the display run slow. The solutions are not complicated but not very wel documented. Until now.&lt;/p>
&lt;!-- more -->
&lt;p>&lt;strong>Step 1: It's a 3.3V screen&lt;/strong>
Before connecting the screen to your Arduino, it's important to know that this screen uses 3.3V logic. That means that connecting your Arduino to it will likely ruin the screen. If you're not using the CF cardreader on the screen then the communication is one-way to the screen. Converting your 5V outputs to 3.3V is really simple, all you need is a couple of cheap 1N4148 diodes and a few resistors (for alternatives, see below). Connect your screen as follows:&lt;/p>
&lt;p>&lt;a href="foto-2.jpg">&lt;img src="foto-2.jpg" alt="Simple Level Conversion">
&lt;/a>&lt;/p>
&lt;p>Please make sure you wire &lt;em>all&lt;/em> connections in this schematic.&lt;/p>
&lt;p>&lt;strong>Step 2: Hidden pins in the code&lt;/strong>
The &lt;a href="https://github.com/adafruit/Adafruit_ILI9340">Adafruit ILI9340 library&lt;/a> contains some examples on how to get the screen running. You'll need the SPI and Adafruit_GFX libraries too, as shown in the header of the examples. Let's look at a little code that alternates the screen between black and white:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;cpp&amp;quot;]
/*&lt;/p>
&lt;ul>
&lt;li>Example code to make the TFT alternate&lt;/li>
&lt;li>between black and white using hardware SPI:
*/
#include &amp;quot;SPI.h&amp;quot;
#include &amp;quot;Adafruit_GFX.h&amp;quot;
#include &amp;quot;Adafruit_ILI9340.h&amp;quot;&lt;/li>
&lt;/ul>
&lt;p>// TFT pin mappings for UNO/NANO
#define _sclk 13
#define _miso 12
#define _mosi 11
#define _cs 10
#define _dc 9
#define _rst 8&lt;/p>
&lt;p>// Use hardware SPI
Adafruit_ILI9340 tft = Adafruit_ILI9340(_cs, _dc, _rst);&lt;/p>
&lt;p>void setup() {
tft.begin();
tft.fillScreen(ILI9340_GREEN);
}&lt;/p>
&lt;p>void loop() {
tft.fillScreen(ILI9340_BLACK);
tft.fillScreen(ILI9340_WHITE);
}
[/sourcecode]&lt;/p>
&lt;p>Note that there is something funny going on here. The constructor for the Adafruit_ILI9340 object only has _cs, _dc, and _rst as parameter. Initially I thought &amp;quot;Great, only 3 connections to the display!&amp;quot;. Alas, this is not the case. &lt;em>&lt;strong>You still need to wire the _sclk and _mosi port to the display&lt;/strong>&lt;/em>. The _miso port can be left out, but you can't use it for anything else on the Arduino side because the library seems to be accessing it.&lt;/p>
&lt;p>If you have your connections correct and upload the example above to your Arduino, you should see your screen continuously alternate between black and white. You will be able to see the drawing of the screen, but it should not take more than 1 second to fill the whole screen. If it takes more than a second to fill the screen, you're likely using the software SPI method. Check the code and the connections again.&lt;/p>
&lt;p>This is how the data on the _mosi pin looks on a &lt;a href="http://www.radiomuseum.org/r/tektronix_storage_oscilloscope_7623a.html">Tektronix 7623A oscilloscope&lt;/a> when drawing graphics on the TFT screen. It's not a perfect square because of the capacitance of the diodes, but the difference between high and low states is good enough and the slope is just fast enough so that the display sees all the bits that are sent to it:&lt;/p>
&lt;p>&lt;a href="foto.jpg">&lt;img src="foto.jpg" alt="MOSI data">
&lt;/a>&lt;/p>
&lt;p>&lt;strong>Alternative 5V to 3.3V conversions:&lt;/strong>
&lt;img src="foto-1.jpg" alt="Zener conversion">
If you don't have enough diodes, you can use zener diodes as shown on the right. I have not tested this on my screen but it should give you similar results, and saves you a few components.&lt;/p>
&lt;p>A much nicer, two-way level conversion enables you to connect the _miso port to talk to the CF Card Reader. You can make this
with an N-Channel MOSFET. Check Andrew's blog on &lt;a href="http://www.rocketnumbernine.com/2009/04/10/5v-33v-bidirectional-level-converter">how to use an N-channel FET to do the conversion&lt;/a>:&lt;/p>
&lt;p>&lt;a href="http://www.rocketnumbernine.com/2009/04/10/5v-33v-bidirectional-level-converter">&lt;img src="level-converter-mosfet.jpg" alt="level-converter-mosfet">
&lt;/a>&lt;/p>
&lt;p>If you need more speed or less components, you can also check out &lt;a href="http://www.maximintegrated.com/en/app-notes/index.mvp/id/3007">Maxim's range of level conversion ICs&lt;/a>.&lt;/p>
&lt;p>Have fun!&lt;/p>
&lt;p>&lt;a href="http://www.waterman.com/en/6-pens">&lt;img src="foto-3.jpg" alt="Waterman fountain pen">
&lt;/a>&lt;/p></description></item><item><title>Open a port in OSX Mavericks' Firewall</title><link>https://realrolfje.github.io/2014/05/10/open-a-port-in-osx-mavericks-firewall/</link><pubDate>Sat, 10 May 2014 13:57:49 +0000</pubDate><guid>https://realrolfje.github.io/2014/05/10/open-a-port-in-osx-mavericks-firewall/</guid><description>
&lt;p>&lt;a href="https://www.youtube.com/watch?feature=player_embedded&amp;amp;v=at6HrV5CTo8">&lt;img src="security.png" alt="Firewall">
&lt;/a>The new firewall in Mavericks is great. For the common user. For a developer, not so much. If you are a Java developer like me, and you just need to open one port (say, 8080) so that the web application you’re working on is accessable from another computer, you can’t. I disabled the Firewall altogether for a few days, but it didn't feel right.&lt;/p>
&lt;p>I googled around and to make a long story short, here’s how to open port 8080 on any interface to any application on your OSX Mavericks installation in 3 steps:&lt;/p>
&lt;p>&lt;code>sudo vim /etc/pf.conf&lt;/code>&lt;/p>
&lt;p>Then add the following lines at the end of the file:&lt;/p>
&lt;p>&lt;code># Open port 8080 for TCP on all interfaces pass in proto tcp from any to any port 8080&lt;/code>&lt;/p>
&lt;p>Test (and, according to the documentation, load) your edits with:&lt;/p>
&lt;p>&lt;code>sudo pfctl -vnf /etc/pf.conf&lt;/code>&lt;/p>
&lt;p>Reboot.&lt;/p>
&lt;p>(I have found at least 5 pieces of voodoo to make the Firewall restart and reload, but none of them seemed to work reliably, so pardon the reboot)&lt;/p>
&lt;p>You can close it by commenting out the lines in pf.conf and reboot again. If anybody knows of an easier way to do this, preferably in one terminal command, and without rebooting, let me know.&lt;/p>
&lt;p>Hope this helps.&lt;/p></description></item><item><title>There's life without Google. Or iCloud. Or Facebook.</title><link>https://realrolfje.github.io/2014/03/08/theres-life-without-google-or-icloud-or-facebook/</link><pubDate>Fri, 07 Mar 2014 22:41:13 +0000</pubDate><guid>https://realrolfje.github.io/2014/03/08/theres-life-without-google-or-icloud-or-facebook/</guid><description>
&lt;p>&lt;a href="https://threema.ch/en/">&lt;img src="appicon128.png" alt="Threema, the secure Whatsapp alternative">
&lt;/a>Regular readers of this blog already know that I am &lt;a href="http://rolfje.wordpress.com/2011/07/03/1355/">not using dropbox&lt;/a>, and I was an Evernote user, but recently decided it became to dangerous and &lt;a href="http://rolfje.wordpress.com/?s=evernote">replaced it with my own scripts&lt;/a>. I had an interesting discussion on Twitter which made me decide to show you how I run my digital life without the help of Google, Facebook, Dropbox, Whatsapp or iCloud, and still be able to have all the functionality these services offer.&lt;/p>
&lt;p>The search was hard and sometimes I need to reconsider some of the choices, but the last few years the selection of products was very stable and the setup has worked flawlessly. Searching for a secure replacement for Whatsapp or Google? It's in here.&lt;/p>
&lt;!-- more -->
&lt;table >
&lt;tbody >
&lt;tr >
Original
The Safer Alternative:
&lt;/tr>
&lt;tr >
&lt;td valign="top" >Whatsapp
&lt;/td>
&lt;td >[**Threema**](https://threema.ch/en/). Hands-down the best safe messaging service. Easy to use, group chats, image and video transfers. Under the hood it always uses true end-to-end encryption, and does not store any data about you or contacts your addressbook while still being able to find your friends. Threema costs a mere €1,70 for the iPhone and €1,60 for Android, and is very clear about their revenue model. Sending a message is free of charge. No I don't use Telegram.
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td valign="top" >Mail
&lt;/td>
&lt;td >**[Hushmail](https://www.hushmail.com/services/hushmail/)**. A Canadian email provider which at least claims it respects your privacy and is not bound to American legislation. I use their [Premium service](https://www.hushmail.com/premium/) which costs $35 a year. A bargain.
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td valign="top" >Google Search
&lt;/td>
&lt;td >**[DuckDuckGo](https://duckduckgo.com)**. Although there are some sceptics out there who argue that there is no way to verify how duckduckgo is any different than Google's search engine, I still think it is a better alternative. One of the most important ones is that they don't ["bubble"](http://dontbubble.us) you. Image searching is not possible yet. so I do fall back to Google for that every now and than, but only in a separate, private browser session with cleared cookies.
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td valign="top" >Google Maps
&lt;/td>
&lt;td >The Apple [**Maps**](http://appleinsider.com/articles/13/06/26/new-maps-app-in-os-x-mavericks-extends-tools-for-reporting-fixing-errors) app, or if you don't have a Mac or need to search online: [Mapquest](http://www.mapquest.com) provides a good alternative to Google maps. Not the prettiest interface, but any product other than a Google product gives them less data to harvest on me. Always remember: If you're not paying for the product, you're the product.
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td valign="top" >Calendar, Contacts
&lt;/td>
&lt;td >[**Owncloud**](http://owncloud.org). In my case, I have bought a $40 Raspberry Pi which is beautifully running Owncloud to sync Calendars over SSL between my iPhone and all my Macs. It requires a bit of Linux skills and isn't really safe "out of the box", but can be made pretty airtight. **Remember to close all ports and only access Owncloud over**** SSL** (most tutorials wrongly teach you otherwise), and don't expect high performance from the Raspberry when it comes to rendering browser pages. I've added a little script that sends backups to my file server via SMB.
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td valign="top" >File synching (Dropbox)
&lt;/td>
&lt;td >[**SpiderOak**](https://spideroak.com/signup/referral/4b01a22f64d398afbd846637080bd2b4/). A true zero-knowledge encrypted file storage. With the new ["Hive" feature](https://spideroak.com/hive/) it behaves exactly like Dropbox, but has additional features like a backup service. Choose a safe password and store it somewhere secure, because Spideroak can not recover your password or your files if you loose it. I started with the 2GB free for life account, but it soon grew to a 50GB account. Great stuff, very reliable, safe.
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td valign="top" >Evernote
&lt;/td>
&lt;td >**[SpiderNote](http://rolfje.wordpress.com/2014/03/02/replace-evernote-with-spidernote/)**. It may be a bit cobbled together, but as an old Evernote fan I needed a good alternative and it should be able to sync between all my Macs. So I save my notes in a SpiderOak folder and search them with Spotlight. Not as fancy as Evernote, but the price (risk) of storing my data unencrypted on an American server became too high. **
**
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td valign="top" >Facebook
&lt;/td>
&lt;td >[**Twitter**](https://twitter.com/rolfje#). I hate to dissapoint you, but Facebook is free of charge and they store your entire digital life. What do you think is Facebook's product precisely? Also, I see that you have 86.355 "friends" on Facebook. I hate to disappoint you but those are called "random strangers". Even if your account is *cough* private (except for Mark $uckeberg). I like to talk to people too, that's why I have this blog, and for the smaller chit-chat I use Twitter. My real friends are on Threema, or, if need be, I talk to them. It's very old-fashioned. I drive over and meet them in person. And sometimes they even come to my house. I know, crazy right? Old school.
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td valign="top" >LinkedIn
&lt;/td>
&lt;td >None. I could hold the same rant for Facebook and LinkedIn alike. They're not there for you. You're there for them. I did make the mistake of creating a LinkedIn account a long time ago because people said "you need this". After quite a few mails from LinkedIn requesting me to endorse people, update my profile or water their plants, I realized that I was working for them, not the other way around. I cancelled and deleted my account. Guess what? I'm still alive and well. If you're a developer, you're better off by gaining community based reputation on sites like **[Stackoverflow](https://stackoverflow.com/users/21134/rolf)**.
&lt;/td>
&lt;/tr>
&lt;tr valign="top" >
&lt;td >Local Backups
&lt;/td>
&lt;td >**[Encrypted TimeMachine](http://support.apple.com/kb/PH11102)** and Time Capsule volumes. My local drives are also full-disk encrypted using Apple's built-in [FileVault 2](http://support.apple.com/kb/HT4790?viewlocale=en_US&amp;locale=en_US). There is a Mac Mini file server in the house which holds all familiy photos  so that we can view them on the TV for example. The photos are on a read-only fileshare and are backed up using Time Machine locally.
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td valign="top" >Remote/Offsite Backups
&lt;/td>
&lt;td >[**Crashplan Free**](https://www.code42.com/store/), sending the data on the TimeMachine drive on the fileserver to another fileserver at my parents' house. His fileserver backs up on my machine and vice-versa. One house can completely burn down and we still have all data, without it ever being uploaded to some unencrypted company server.
&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
**Why not Telegram?**
A few words of advice on using Telegram: Whatever they tell you, the data is *not* (properly) encrypted and it is easy to tell: The data is [stored in their "cloud"](http://unhandledexpression.com/2013/12/17/telegram-stand-back-we-know-maths/) and provided to you on all your devices. Even worse: They are [showing your data to "potential friends"](http://mcleaver.blogspot.nl/2014/02/telegram-verses-whatsapp.html?m=1) who [do not have you in their contact](https://twitter.com/GVerbaan/status/436909531625697280) lists or may have never heard of you. They upload your complete address book to their servers. They also know the [geolocation of your phone](http://blog.hackapp.com/2013/12/telegram-secret-chat-geolocation-leak.html). Unencrypted. They have your data, and show it by leaking it. They can fix the leaks and tell you it's safe, but they still have your data. It's also fishy that they clearly [have money to pimp their server farm](https://twitter.com/telegram/status/437745646007631872), even when the app and the messages are free of charge. Who do you think is the product here?
&lt;p>&lt;a href="https://www.netmess.org/only-threema-rated-uncritical-telegram-rated-critical-for-privacy/">&lt;img src="telegram.png" alt=""Come in to the dark side. We have privacy"">
&lt;/a>&lt;/p></description></item><item><title>Replace Evernote with Spidernote</title><link>https://realrolfje.github.io/2014/03/02/replace-evernote-with-spidernote/</link><pubDate>Sun, 02 Mar 2014 19:30:22 +0000</pubDate><guid>https://realrolfje.github.io/2014/03/02/replace-evernote-with-spidernote/</guid><description>
&lt;p>&lt;a href="http://www.washingtonpost.com/wp-dyn/content/article/2010/07/28/AR2010072806141.html">&lt;img src="evernotensa.png" alt="Resistance is futile">
&lt;/a>&lt;/p>
&lt;p>In the past I have used Evernote extensively, it really helped me in my research for this blog and keeping track of meeting notes, todo lists and even making pictures of whiteboards at work searchable. As a product, there is no note taking app that can beat Evernote. But there is a little problem that has become a deal breaker for me, and that is basically the NSA and the way Americans, and particularly the American government seems to think about people's privacy and online security.&lt;/p>
&lt;p>Evernote is an American company, which sadly has to comply with whatever ridiculous request by the U.S. government to turn over data of innocent people all over the world (yes, even outside the U.S. border, I know, it’s amazing). This, combined with the fact that Evernote clearly can not use zero-knowledge encryption because of the services it provides, makes that all the data you and I put into Evernote are at NSA’s fingertips at all times. If you find that as scary as I do, and you have a Mac, there is a way to solve this.&lt;!-- more -->&lt;/p>
&lt;p>If you use Evernote to sync notes between multiple Macs, you have to solve the syncing problem first. Ofcourse Dropbox is a no-go, because that is an American company storing unencrypted data too. I’m &lt;a href="https://rolfje.wordpress.com/2011/07/03/1355/">using SpiderOak  since 2011&lt;/a>, and it is much better than Dropbox in many ways. Check it out.&lt;/p>
&lt;p>If you’re using Evernote on your iPhone I do not have a solution for you yet. But as for me, that is not a big deal, I thought the iPhone is not the ideal note taking platform anyway as this old man is not very fast on the touch keyboard.&lt;/p>
&lt;p>&lt;a href="spidy_5407spx_02.jpg">&lt;img src="spidy_5407spx_02.jpg" alt="Spidernote Icon">
&lt;/a>With all that out of the way, let’s migrate away from Evernote and replace it with a smart script and some synced Spideroak folders. I like to call it ”SpiderNote”.&lt;/p>
&lt;p>&lt;strong>1. Create a folder structure&lt;/strong>
Inside your Spideroak shared folder or Hive, create a ”Spidernote” folder, and in that folder, create a ”notes” folder.&lt;/p>
&lt;p>&lt;strong>2: Export all Evernote Notes&lt;/strong>
Start up your trusty Evernote client and select all your notes. From the ”File” menu, select ”Export Notes…” and store them in a folder called ”Evernote”, inside the ”notes” folder you just created. You should now have a folder called Spidernote/notes/Evernote somewhere inside your Spideroak folder, or somewhere locally on your Mac.&lt;/p>
&lt;p>&lt;strong>3: Getting Spotlight and Finder to work for you&lt;/strong>
Open the Finder and press Cmd-, or select ”Preferences…” On the ”Advanced” tab, under ”When performing a Search” select ”Search the current Folder”. After you do this, you will find that when you open the notes folder in Finder, you can type some text and your old Evernote notes will popup. Look ma, no hands! And no Evernote!&lt;/p>
&lt;p>&lt;a href="finder-search-settings.png">&lt;img src="finder-search-settings.png?w=450" alt="Finder Search Settings">
&lt;/a>&lt;/p>
&lt;p>&lt;strong>4: Create a new template note&lt;/strong>
OSX comes with a decent richtext editor, named ”TextEdit” which we are going to use for our note taking.Open TextEdit and save an empty file inside the notes folder which is called ”empty.rtf”. This will be your note template, the start of every new note. Remember you can set preferences that are stored with this file, like the default font and colors and tabs if you like.&lt;/p>
&lt;p>&lt;strong>5: Script to create a new note&lt;/strong>
Create a file called ”newnote.command” in the Spidernote folder and copy/paste the following contents into it:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;bash&amp;quot;]
#!/bin/bash
date=&lt;code>date +%Y%m%d-%H%M%S&lt;/code>
BASEDIR=$(dirname $0)
cd $BASEDIR&lt;/p>
&lt;p>notesdirectory=&amp;quot;notes/${date}&amp;quot;&lt;/p>
&lt;p>clear
echo &amp;quot;Note will be stored in ${BASEDIR}/${notesdirectory}.&amp;quot;
echo &amp;quot;Type title/filename for note (without extension):&amp;quot;
read filename&lt;/p>
&lt;p>if [[ X&amp;quot;&amp;quot; = X&amp;quot;$filename&amp;quot; ]]; then
filename=&amp;quot;note.rtf&amp;quot;;
fi&lt;/p>
&lt;p>mkdir &amp;quot;${notesdirectory}&amp;quot;
cp notes/empty.rtf &amp;quot;${notesdirectory}/${filename}.rtf&amp;quot;
rm -f lastnote.rtf
ln -s &amp;quot;${notesdirectory}/${filename}.rtf&amp;quot; latestnote.rtf
open -a TextEdit &amp;quot;${notesdirectory}/${filename}.rtf&amp;quot;
[/sourcecode]&lt;/p>
&lt;p>You should now have a folder structure which looks something like this:&lt;/p>
&lt;p>&lt;a href="folder-structure-1.png">&lt;img src="folder-structure-1.png" alt="Spidernote Folder Structure">
&lt;/a>&lt;/p>
&lt;p>&lt;strong>6: Add Spidernote to your Dock&lt;/strong>
Drag the Spidernote folder next to your Trashcan in the doc (not IN your Trashcan, of course). Change the settings to have it’s icon show as a folder, and it’s context as a list. All set!&lt;/p>
&lt;p>&lt;strong>7: Create your first note&lt;/strong>
From the Dock, click on the Spidernote folder and click on ”newnote.command”. A Terminal window will pop up, asking you for the (optional) title of your note (this will be the filename of the *.rtf file, so that it is easier to scan your search results later). After you press ”enter”, TextEdit will come up and you can type away.&lt;/p>
&lt;p>When you are done and close the editor, you can easily find your note by searching, or by the ”latest note” link which the script creates for you in the Spidernote folder, so that you always can return to what you were doing when you accidentally close that note.&lt;/p>
&lt;p>That’s it for now. I know it does not OCR scan your images, and it is really a poor-man’s Evernote, but these days your private has become a valuable asset to scrupules people and it has to be protected.&lt;/p>
&lt;p>I know that there are a lot of note taking apps out there but frankly none of them work for me. If you have any tips on how to solve the OCR and tagging/organizing stuff please let me know.&lt;/p>
&lt;p>Oh and don't forget to &lt;a href="https://evernote.com/contact/support/kb/#!/article/23403793">deactivate your Evernote account and remove all its data&lt;/a>. After all, that's what started all this sad stuff.&lt;/p></description></item><item><title>From the Finder to the Shell (and back)</title><link>https://realrolfje.github.io/2013/12/20/from-the-finder-to-the-shell-and-back/</link><pubDate>Fri, 20 Dec 2013 21:10:41 +0000</pubDate><guid>https://realrolfje.github.io/2013/12/20/from-the-finder-to-the-shell-and-back/</guid><description>
&lt;p>A quick tip for OSX users out there who frequently need to open a Terminal window for the current location in the finder, or the other way around:&lt;/p>
&lt;p>&lt;img src="open-folder.png" alt="Go2Shell and Back">&lt;/p>
&lt;p>Install the free application from the App Store: &lt;a href="https://itunes.apple.com/nl/app/go2shell/id445770608?l=en&amp;amp;mt=12">Go2Shell&lt;/a>. It will give you an icon on the toolbar of your Finder, and pressing it will open a Terminal window and automatically change it's directory to match the Finder's location.&lt;/p>
&lt;p>The other way around is easier; you can already do that on any Mac. Simply type &amp;quot;open .&amp;quot; (that's the word &amp;quot;open&amp;quot;, followed by a space and a period). This command will open a Finder window for the directory location your Terminal window is in.&lt;/p>
&lt;p>&lt;strong>Bonus tip:&lt;/strong> Also check the &amp;quot;open -t [filename]&amp;quot; command, it will open your system's default text editor with the given file.&lt;/p></description></item><item><title>Anonimatron: Quick Start</title><link>https://realrolfje.github.io/2013/11/03/anonimatron-quick-start/</link><pubDate>Sun, 03 Nov 2013 14:33:15 +0000</pubDate><guid>https://realrolfje.github.io/2013/11/03/anonimatron-quick-start/</guid><description>
&lt;p>&lt;a href="https://www.youtube.com/watch?v=opk4x7jzRS4">&lt;img src="homer.png" alt="Anonymous customer">
&lt;/a>After reading my last blogpost on Anonimatron, you must have asked yourself &amp;quot;Great, but how do I actually use Anonimatron to de-personalize my database&amp;quot;? I tried my best to make basic Anonimatron configuration as self-explanatory as possible, just start it without any command line arguments and it will tell you.&lt;/p>
&lt;p>Less adventurous or in a big hurry? This blogpost will show how simple it is to install and configure Anonimatron on an example MySQL database.&lt;/p>
&lt;!-- more -->**Setting up a test database**
&lt;p>To demonstrate what Anonimatron can do to your data, we will create a little test database to play with. Anonimatron connects to all kinds of databases, including MySQL, Postgress and Oracle. In this example, we use MySQL. Here are all the statements you need to create a little database with 2 tables, a user, and some &amp;quot;private&amp;quot; data:&lt;/p>
&lt;p>[code lang=&amp;quot;sql&amp;quot; gutter=&amp;quot;false&amp;quot;]
create database mydb;
create user myuser identified by 'mypassword';
grant all privileges on &lt;em>.&lt;/em> to 'myuser'@'localhost'
identified by 'mypassword' with grant option;&lt;/p>
&lt;p>create table mydb.userdata (
id int not null auto_increment primary key,
firstname varchar(20),
lastname varchar(20),
creditcardnr varchar(20)
);&lt;/p>
&lt;p>create table mydb.lastnames (
id int not null auto_increment primary key,
lastname varchar(20)
);&lt;/p>
&lt;p>insert into mydb.userdata
(firstname,lastname, creditcardnr)
values ('Homer', 'Simpson','1234'),
('Marge', 'Simpson','5678'),
('Ned', 'Flanders','3456'),
('Charles', 'Burns','3456');&lt;/p>
&lt;p>insert into mydb.lastnames (lastname)
values ('Simpson'), ('Flanders'), ('Burns');
[/code]&lt;/p>
&lt;p>After all the hard work, you should be able to connect to the database with 'myuser' and see the &amp;quot;private&amp;quot; data in there:&lt;/p>
&lt;p>[code language=&amp;quot;sql&amp;quot; light=&amp;quot;true&amp;quot;]
select * from mydb.userdata;
[/code]&lt;/p>
&lt;table >
&lt;tbody >
&lt;tr >
id
firstname
lastname
creditcardnr
&lt;/tr>
&lt;tr >
&lt;td >1
&lt;/td>
&lt;td >Homer
&lt;/td>
&lt;td >Simpson
&lt;/td>
&lt;td >1234
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td >2
&lt;/td>
&lt;td >Marge
&lt;/td>
&lt;td >Simpson
&lt;/td>
&lt;td >5678
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td >3
&lt;/td>
&lt;td >Ned
&lt;/td>
&lt;td >Flanders
&lt;/td>
&lt;td >3456
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td >4
&lt;/td>
&lt;td >Charles
&lt;/td>
&lt;td >Burns
&lt;/td>
&lt;td >3456
&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
[code language="sql" light="true"]
select * from mydb.lastnames;
[/code]
&lt;table >
&lt;tbody >
&lt;tr >
id
lastname
&lt;/tr>
&lt;tr >
&lt;td >1
&lt;/td>
&lt;td >Simpson
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td >2
&lt;/td>
&lt;td >Flanders
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td >3
&lt;/td>
&lt;td >Burns
&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
Let's pretend that this is a copy of a production database, and you want to de-personalize or anonymize it.
&lt;p>&lt;strong>Installing Anonimatron&lt;/strong>
To anonymize your data,  &lt;a href="http://http://anonimatron.sourceforge.net">download Anonimatron&lt;/a> and unzip it in a directory of your choice. You should find an &amp;quot;anonimatron.sh&amp;quot; and &amp;quot;anonimatron.bat&amp;quot; file there. Depending on your system, run it without arguments. If you have java installed on your system you should see something like this:&lt;/p>
&lt;p>[code light=&amp;quot;true&amp;quot;]
$ ./anonimatron.sh&lt;/p>
&lt;p>This is Anonimatron 1.7, a command line tool to consistently
replace live data in your database with data data which
can not be traced back to the original data.
You can use this tool to transform a dump from a production
database into a large representative dataset you can
share with your development and test team.
Use the -configexample command line option to get an idea of
what your configuration file needs to look like.&lt;/p>
&lt;p>usage: java -jar anonimatron.jar
-config The XML Configuration file describing what to
anonymize.
-configexample Prints out a demo/template configuration file.
-dryrun Do not make changes to the database.
-synonyms The XML file to read/write synonyms to. If the file
does not exist it will be created.
[/code]&lt;/p>
&lt;p>Victory! You've installed Anonimatron. Yes, life can really be that easy.&lt;/p>
&lt;p>&lt;strong>Configuring Anonimatron&lt;/strong>
Next, we need to tell Anonimatron how to connect to our database, and which tables and columns to process and how. The hardest part of this is probably figuring out how to create a jdbc connect string. Anonimatron can help you with that. If you start anonimatron with the &amp;quot;-configexample&amp;quot; parameter, it will scan the jdbcdrivers directory for available and supported drivers, and will show you how a jdbc URL for any of these should look:&lt;/p>
&lt;p>[code light=&amp;quot;true&amp;quot;]
$ ./anonimatron.sh -configexample&lt;/p>
&lt;p>Supported Database URL formats:
Jdbc URL format By Driver
jdbc:oracle:oci8:@[SID] oracle.jdbc.driver.OracleDriver
jdbc:oracle:thin:@[HOST]:[PORT]:[SID] oracle.jdbc.driver.OracleDriver
jdbc:oracle:oci:@[SID] oracle.jdbc.driver.OracleDriver
jdbc:postgresql://[HOST]:[PORT]/[DB] org.postgresql.Driver
jdbc:mysql://[HOST]:[PORT]/[DB] org.gjt.mm.mysql.Driver&lt;/p>
&lt;p>Anonimatron will try to autodetect drivers which are
stored in the lib directory. Add you driver there.&lt;/p>
&lt;p>...
[/code]&lt;/p>
&lt;p>In this example, we have just created a MySQL database, so we'll use that URL and fill in the blanks. We use the rest of the configuration example and with some copy-pasting we come up with the following configuration:&lt;/p>
&lt;p>[code language=&amp;quot;xml&amp;quot; gutter=&amp;quot;false&amp;quot;]&lt;/p>
&lt;?xml version="1.0" encoding="UTF-8"?>
&lt;p>&lt;configuration jdbcurl="jdbc:mysql://localhost:3306/mydb"
userid="mydata" password="mypassword">&lt;/p>
&lt;table name="userdata">
&lt;column name="firstname" type="ROMAN_NAME" />
&lt;column name="lastname" type="ELVEN_NAME" />
&lt;column name="creditcardnr" type="RANDOMDIGITS"/>
&lt;/table>
&lt;table name="lastnames">
&lt;column name="lastname" type="ELVEN_NAME" />
&lt;/table>
&lt;/configuration>
[/code]
&lt;p>This simple configuration file will tell Anonimatron the following things:&lt;/p>
&lt;pre>&lt;code> * How to connect to the mydb database
* The values in username.firstname should be processed with the ROMAN_NAME Anonymizer. Anonymizers are little plugins which are able to generate data with certain properties, sometimes based on the original data. This particular Anonymizer generates Roman Names by picking syllables from a builtin list.
* The values in username.lastname should be replaced by Elven names. This is almost identical to Roman names but with a different Syllable file.
* The userdata.creditcardnr should be replaced by a set of random digits of the same length. In our case, 4 digits will be replaced by 4 differnt digits. Should you really need numbers which are semantically correct credit card numbers, you could write your own Anonymizer plugin. We'll cover that in a later blogpost.
* The lastnames.lastname column is also an Elven name. Because of the way Anonimatron handles data, strings in this column will be processed exactly the same way as the userdata.lastname column, as we will see below.
&lt;/code>&lt;/pre>
&lt;p>&lt;strong>Anonymize!&lt;/strong>
Now that we have configured Anonimatron, it's time to start it up and tell it to use our configuration file and store synonyms. It will be finished in the blink of an eye, and your output should look somewhat like this:&lt;/p>
&lt;p>[code light=&amp;quot;true&amp;quot;]
$ ./anonimatron.sh -config config.xml -synonyms synonyms.xml&lt;/p>
&lt;p>Anonymization process started&lt;/p>
&lt;p>Jdbc url : jdbc:mysql://localhost:3306/mydb
Database user : mydata
To do : 2 tables.&lt;/p>
&lt;p>Anonymizing table 'lastnames', total progress [100%, ETA 11:36:56 PM]
Anonymization process completed.&lt;/p>
&lt;p>Writing Synonyms to synonyms.xml ...[done].
[/code]&lt;/p>
&lt;p>If Anonimatron complains or does not run, you might want to check out the &lt;em>anonimatron.log&lt;/em> file for clues. Most log entries will be pretty self-explanatory. If not, please register an issue and we'll see what we can do to fix that.&lt;/p>
&lt;p>Let's check the results. First, we can check what synonyms were generated by looking into the synonyms.xml file we told it to create:&lt;/p>
&lt;p>[code light=&amp;quot;true&amp;quot;]
$ cat synonyms.xml
[/code]
[code language=&amp;quot;xml&amp;quot; gutter=&amp;quot;false&amp;quot;]&lt;/p>
&lt;?xml version="1.0" encoding="UTF-8"?>
&lt;synonyms>
&lt;string type="ELVEN_NAME" from="QnVybnM=" to="RGhvZWxsaWFu"/>
&lt;string type="ELVEN_NAME" from="RmxhbmRlcnM=" to="QWhlbGhhbGRldGhlc3M="/>
&lt;string type="ELVEN_NAME" from="U2ltcHNvbg==" to="QWhkdWxlbGhhbGVs"/>
&lt;string type="ROMAN_NAME" from="SG9tZXI=" to="QmVudWxhdWJlbGl1cw=="/>
&lt;string type="ROMAN_NAME" from="TmVk" to="RWN1cw=="/>
&lt;string type="ROMAN_NAME" from="TWFyZ2U=" to="QWxudWxhdWN1cw=="/>
&lt;string type="ROMAN_NAME" from="Q2hhcmxlcw==" to="QWxudXM="/>
&lt;string type="RANDOMDIGITS" from="NTY3OA==" to="ODY5OA=="/>
&lt;string type="RANDOMDIGITS" from="MTIzNA==" to="NDM0Mw=="/>
&lt;string type="RANDOMDIGITS" from="MzQ1Ng==" to="NjEyNQ=="/>
&lt;/synonyms>
[/code]
&lt;p>You'll note that the &amp;quot;from&amp;quot; and &amp;quot;to&amp;quot; values look a bit garbled. This is because Anonimatron used Base64 encoding to store values of synonyms. This is so that we can store the values bit for bit, without worying about encodings. If you wanted to, you could easily decode these strings by writing a little program.&lt;/p>
&lt;p>Even without decoding we can see some interesting things about this file. Remember we had lastnames configured as Elven names? Although we have 4 entries in the username table, we see only 3 Elven names. That is because Homer and Marge have the same lastname. These same synonyms are also used by the lastnames.lastname column. The same goes for the creditcard numbers. As might have noticed that Ned Flanders and Charles Burns used the same credit card number in this system.&lt;/p>
&lt;p>Enough staring at XML. Let's get to what matters most: our database. First, let's see if the names and numbers have changed:&lt;/p>
&lt;p>[code language=&amp;quot;sql&amp;quot; light=&amp;quot;true&amp;quot;]
select * from mydb.userdata;
[/code]&lt;/p>
&lt;table >
&lt;tbody >
&lt;tr >
id
firstname
lastname
creditcardnr
&lt;/tr>
&lt;tr >
&lt;td >1
&lt;/td>
&lt;td >Benulaubelius
&lt;/td>
&lt;td >Ahdulelhalel
&lt;/td>
&lt;td >4343
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td >2
&lt;/td>
&lt;td >Alnulaucus
&lt;/td>
&lt;td >Ahdulelhalel
&lt;/td>
&lt;td >8698
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td >3
&lt;/td>
&lt;td >Ecus
&lt;/td>
&lt;td >Ahelhaldethess
&lt;/td>
&lt;td >6125
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td >4
&lt;/td>
&lt;td >Alnus
&lt;/td>
&lt;td >Dhoellian
&lt;/td>
&lt;td >6125
&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
That looks much better. The first and lastnames are (almost) pronounceable names which probably would look realistic in a screenshot or testcase, yet there is no trace left of the original data that was there. When we check the lastnames table we see that lastnames are being translated consistently with the userdata table:
&lt;p>[code language=&amp;quot;sql&amp;quot; light=&amp;quot;true&amp;quot;]
select * from mydb.lastnames;
[/code]&lt;/p>
&lt;table >
&lt;tbody >
&lt;tr >
id
lastname
&lt;/tr>
&lt;tr >
&lt;td >1
&lt;/td>
&lt;td >Ahdulelhalel
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td >2
&lt;/td>
&lt;td >Ahelhaldethess
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td >3
&lt;/td>
&lt;td >Dhoellian
&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
This consistent behavior makes sure that queries where the userdata table and the lastnames table are joined based on lastname will still work.
&lt;p>If you want to play some more with Anonimatron, recreate the original tables, add additional (overlapping) data and re-run anonimatron against it with the synonym file you just created. You'll notice that any &amp;quot;Simpson&amp;quot; lastname will be translated to &amp;quot;Ahdulelhalel&amp;quot; constently on each run. If you don't want that to happen, simply throw away the synonym file or don't tell Anonimatron to use it. You can also generate the synonym file first without doing anything to the database by using the -dryrun option, and later do the same run based on the synonyms generated earlier.&lt;/p>
&lt;p>Remember: The private data &amp;quot;moved&amp;quot; from the database into the synonyms.xml file we created. So that becomes the new data to watch. Store it in a safe place where nobody can access it.&lt;/p>
&lt;p>Have fun experimenting!&lt;/p></description></item><item><title>Anonimatron: Overview</title><link>https://realrolfje.github.io/2013/10/31/anonimatron-overview/</link><pubDate>Thu, 31 Oct 2013 20:42:28 +0000</pubDate><guid>https://realrolfje.github.io/2013/10/31/anonimatron-overview/</guid><description>
&lt;p>&lt;a href="http://anonimatron.sf.net/">&lt;img src="itsthelaw.png" alt="It's the Law">
&lt;/a>In every software project, there comes a time where a bug pops up, nobody knows how to reproduce it, and somebody says &amp;quot;I know, let's test this against a copy of the production database&amp;quot;. Even with the best intentions, once production data leaves the production machine with all its safeguards it becomes really hard to do access control on that data.&lt;/p>
&lt;p>Most of the time, it's not even needed to have that data. Developers just need a data set which resembles the production scenario close enough. Some brave souls have mixed succes with data generators, but those generators usually are tedious to maintain and die a slow death under the pressure of the daily grind.&lt;/p>
&lt;p>In some ambitious projects automated integration testcases are built on top of the data which was inserted by the data generators. As the generators die, so die the tests. If you recognize this pattern, &lt;a href="http://http://anonimatron.sourceforge.net">Anonimatron&lt;/a> might be the answer for you.&lt;/p>
&lt;!-- more -->
&lt;p>&lt;img src="1-dataindb.png" alt="Customer data in the database.">&lt;/p>
&lt;p>So let's say you're working on release 5 of a big webshop, and because of the succes of the shop, it runs into performance problems. There's no time or budget to build a data generator, and before you can say no, you have a copy of the production data on some development server, containing the creditcard data of your customers. What do you do?&lt;/p>
&lt;p>This is where Anonimatron comes in. Anonimatron can de-personalize or anonymize your data for you, give you total control over what gets anonymized, and how, and thinks of data types as &amp;quot;color&amp;quot; or &amp;quot;address&amp;quot; instead of &amp;quot;int&amp;quot; and &amp;quot;String&amp;quot;. Here's how that works:&lt;/p>
&lt;p>&lt;img src="2-anonimatron.png" alt="Anonimatron data flow">&lt;/p>
&lt;p>For every distinct, unique value A, Anonimatron creates a replacement value X, and writes that back to the database. It stores the A=X relation in a Synonym, and consistently applies those Synonyms throughout all tables in the database.&lt;/p>
&lt;p>By using synonyms, Anonimatron makes sure that your database is still statistically roughly the same as before anonymization, and also makes sure that if you have two tables with a &amp;quot;lastname&amp;quot; column, matching records will actually still match.&lt;/p>
&lt;p>Anonimatron (optionally) stores these synonyms for later use, so it can be consistent between different runs. New production data? No problem. Load it, tell Anonimatron to use the old synonyms, and the old data will be Anonymized exactly the same as the last time. Only new records will generate new synonyms, which of course will be added to the synonym file for the next run.&lt;/p>
&lt;p>This feature also enables you to write testscripts based on anonymized production data. Your scripts will not easily break, because new production copies are anonymized very consistently.&lt;/p>
&lt;p>&lt;img src="3-datainsynonims.png" alt="Data in Synonyms">&lt;/p>
&lt;p>After the anonymization process, the private data will be in the synonym file. This file needs to be put in a (very) safe place, and only the people that import production data and run Anonimatron should be able to access this file.&lt;/p>
&lt;p>After anonymization, developers can access the database without immediately being exposed to private addresses of customers, bank accounts, or whatnot. Of course this all depends on what you tell Anonimatron to do, and what to anonymize.&lt;/p>
&lt;p>Remember, with great power comes great responsibility. Try to stay away from customer data as much as you can, and handle it with deep respect when you get it, delete it or depersonalize it as soon as you can. Use &lt;a href="http://http://anonimatron.sourceforge.net">Anonimatron&lt;/a> wisely.&lt;/p>
&lt;h2 id="its-the-law">&lt;strong>It's the Law.&lt;/strong>&lt;/h2></description></item><item><title>Non-Java Binary Dependencies in Maven</title><link>https://realrolfje.github.io/2013/07/18/non-java-binary-dependencies-in-maven/</link><pubDate>Thu, 18 Jul 2013 20:48:18 +0000</pubDate><guid>https://realrolfje.github.io/2013/07/18/non-java-binary-dependencies-in-maven/</guid><description>
&lt;p>&lt;a href="http://http://www.thinkgeek.com/">&lt;img src="binary-pillow.jpg" alt="binary-pillow">
&lt;/a>Suppose you have a Java Server application, and some of the runtime binaries in that application are external to your application. Generated image files, compiled Silverlight components in your pages, or resource files which are managed by an external team.&lt;/p>
&lt;p>Much like the jar files used by your application, these external binaries can be seen as dependencies, with versions. This blogpost assumes your project is built with Maven 2, because the real world &lt;a href="http://rolfje.wordpress.com/2012/12/02/the-world-is-not-a-green-field/">isn't always a greenfield project&lt;/a>.&lt;/p>
&lt;p>Because Maven is designed around jar file dependencies, and a lot of it's internal decisions are based on file extensions, it looks like this problem can not be tackled with Maven. But there is a way to do this. It will decouple your sub-projects and make version and dependency management much better.&lt;/p>
&lt;!-- more -->**Uploading the binaries files in a remote repository**
&lt;p>The hardest part of this problem is getting the binary uploaded to your maven repository. It seems that there is no other way than disquising it as a jar file, which only leads to confusion. But it turns out that you can, actually upload a .exe file to the repository. To do so, place a pom.xml file in the root of the project from which you want to upload the binary file. You do not have to mavenize the whole project, we only use Maven to do the upload to the repository.&lt;/p>
&lt;p>Find the file you want to deploy. It can be placed anywhere but I prefer to use the target directory so it looks maven-esque. Make sure you choose the &amp;quot;pom&amp;quot; packaging type so maven does not generate a jar for you.&lt;/p>
&lt;p>[sourcecode language=&amp;quot;xml&amp;quot; autolinks=&amp;quot;false&amp;quot; highlight=&amp;quot;11,16,23,24&amp;quot; padlinenumbers=&amp;quot;true&amp;quot;]&lt;project>
&lt;groupId>com.rolfje.example&lt;/groupId>
&lt;artifactId>executablestuff&lt;/artifactId>
&lt;packaging>pom&lt;/packaging>
&lt;version>1.0-SNAPSHOT&lt;/version>
&lt;name>Some executable component&lt;/name>
&lt;build>
&lt;plugins>
&lt;plugin>
&lt;groupId>org.codehaus.mojo&lt;/groupId>
&lt;artifactId>build-helper-maven-plugin&lt;/artifactId>
&lt;version>1.8&lt;/version>
&lt;executions>
&lt;execution>
&lt;id>attach-artifacts&lt;/id>
&lt;phase>package&lt;/phase>
&lt;goals>
&lt;goal>attach-artifact&lt;/goal>
&lt;/goals>
&lt;configuration>
&lt;artifacts>
&lt;artifact>
&lt;file>${basedir}/target/myexecutable.exe&lt;/file>
&lt;type>exe&lt;/type>
&lt;/artifact>
&lt;/artifacts>
&lt;/configuration>
&lt;/execution>
&lt;/executions>
&lt;/plugin>
&lt;/plugins>
&lt;/build>
&lt;/project>
[/sourcecode]&lt;/p>
&lt;p>When you run &amp;quot;maven install&amp;quot;, your exe file will be pushed to your local repository (more on using a remote repository further down).&lt;/p>
&lt;p>&lt;strong>Downloading the binaries files from the remote repository&lt;/strong>
In the project that will depend on your binary file, you want to copy it from your repository into your target directory at the compile stage. You can do this by adding the following plugin configuration to your pom:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;xml&amp;quot; autolinks=&amp;quot;false&amp;quot; highlight=&amp;quot;14,15,16,17,18&amp;quot; padlinenumbers=&amp;quot;true&amp;quot;]
&lt;plugin>
&lt;groupId>org.apache.maven.plugins&lt;/groupId>
&lt;artifactId>maven-dependency-plugin&lt;/artifactId>
&lt;executions>
&lt;execution>
&lt;id>copy-dependency&lt;/id>
&lt;phase>compile&lt;/phase>
&lt;goals>
&lt;goal>copy&lt;/goal>
&lt;/goals>
&lt;configuration>
&lt;artifactItems>
&lt;artifactItem>
&lt;groupId>com.rolfje.example&lt;/groupId>
&lt;artifactId>executablestuff&lt;/artifactId>
&lt;type>exe&lt;/type>
&lt;overWrite>true&lt;/overWrite>
&lt;outputDirectory>target&lt;/outputDirectory>
&lt;/artifactItem>
&lt;/artifactItems>
&lt;/configuration>
&lt;/execution>
&lt;/executions>
&lt;/plugin>
[/sourcecode]&lt;/p>
&lt;p>&lt;strong>Multiple artifacts in a single dependency&lt;/strong>
When the non-java project produces multiple files with the same extension, you will notice that the trick I just described will not work because you can only specify one file with one extension. This is because maven uses the extension to locate the exact file.&lt;/p>
&lt;p>In order to deploy multiple files, it is best you bundle them in a zip and unpack them at the other end. In the non-java project, add the assembly plugin:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;xml&amp;quot; autolinks=&amp;quot;false&amp;quot; highlight=&amp;quot;2,15,17&amp;quot; padlinenumbers=&amp;quot;true&amp;quot;]
&lt;plugin>
&lt;artifactId>maven-assembly-plugin&lt;/artifactId>
&lt;version>2.2-beta-2&lt;/version>
&lt;executions>
&lt;execution>
&lt;id>generate-assembly&lt;/id>
&lt;phase>package&lt;/phase>
&lt;goals>
&lt;goal>single&lt;/goal>
&lt;/goals>
&lt;/execution>
&lt;/executions>
&lt;configuration>
&lt;descriptors>
&lt;descriptor>src/maven/descriptor.xml&lt;/descriptor>
&lt;/descriptors>
&lt;finalName>${artifactId}&lt;/finalName>
&lt;outputDirectory>target&lt;/outputDirectory>
&lt;/configuration>
&lt;/plugin>
[/sourcecode]&lt;/p>
&lt;p>We use so the zipfile will always have the same name in the target directory, which will make build-helper-maven-plugin configuration easier. It also makes it easier for non-maven scripts to find the file. Upon deploying to the repository, maven will fix the filename so don't worry about that too much.&lt;/p>
&lt;p>The contents of src/maven/descriptor.xml can look like this:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;xml&amp;quot; autolinks=&amp;quot;false&amp;quot; highlight=&amp;quot;21,22&amp;quot; padlinenumbers=&amp;quot;true&amp;quot;]&lt;/p>
&lt;?xml version="1.0" encoding="UTF-8"?>
&lt;p>&lt;assembly xmlns="http://maven.apache.org/POM/4.0.0"
xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
http://maven.apache.org/xsd/assembly-1.0.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">&lt;/p>
&lt;formats>
&lt;format>zip&lt;/format>
&lt;/formats>
&lt;p>&lt;includeBaseDirectory>false&lt;/includeBaseDirectory>&lt;/p>
&lt;fileSets>
&lt;fileSet>
&lt;directory>target/binaries&lt;/directory>
&lt;outputDirectory>&lt;/outputDirectory>
&lt;includes>
&lt;include>*.exe&lt;/include>
&lt;include>*.dll&lt;/include>
&lt;/includes>
&lt;/fileSet>
&lt;/fileSets>
&lt;/assembly>
[/sourcecode]
&lt;p>In the java project, you don't need to change much. Instead of &amp;quot;copy&amp;quot;, you tell the dependency plugin to unzip the file into a directory:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;xml&amp;quot; autolinks=&amp;quot;false&amp;quot; highlight=&amp;quot;3,9,16,18&amp;quot; padlinenumbers=&amp;quot;true&amp;quot;]
&lt;plugin>
&lt;groupId>org.apache.maven.plugins&lt;/groupId>
&lt;artifactId>maven-dependency-plugin&lt;/artifactId>
&lt;executions>
&lt;execution>
&lt;id>copy-dependency&lt;/id>
&lt;phase>compile&lt;/phase>
&lt;goals>
&lt;goal>unpack&lt;/goal>
&lt;/goals>
&lt;configuration>
&lt;artifactItems>
&lt;artifactItem>
&lt;groupId>com.rolfje.example&lt;/groupId>
&lt;artifactId>executablestuff&lt;/artifactId>
&lt;type>zip&lt;/type>
&lt;overWrite>true&lt;/overWrite>
&lt;outputDirectory>target/unpacked&lt;/outputDirectory>
&lt;/artifactItem>
&lt;/artifactItems>
&lt;/configuration>
&lt;/execution>
&lt;/executions>
&lt;/plugin>
[/sourcecode]&lt;/p>
&lt;p>&lt;strong>Deploying to a remote repository&lt;/strong>
If the two builds run on two different machines, you may need an external repository. For larger projects, I'd recommend an external, locally managed repository not just for disctribution, but also for speed. Your team will have almost instant access to libraries, speeding up your (initial) builds. Installing a local &lt;a href="http://www.jfrog.com/home/v_artifactory_opensource_overview">jFrog Artifactory&lt;/a> is a good choice.&lt;/p>
&lt;p>To make deployment to this external repository work, you need to add the following to your non-java pom file:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;xml&amp;quot; autolinks=&amp;quot;false&amp;quot; padlinenumbers=&amp;quot;true&amp;quot;]
&lt;distributionManagement>&lt;/p>
&lt;!-- final releases will be deployed to this repository -->
&lt;repository>
&lt;id>artifactory.releases&lt;/id>
&lt;name>Artifactory releases&lt;/name>
&lt;url>http://myartifactory.example.com/artifactory/libs-release-local&lt;/url>
&lt;/repository>
&lt;!-- snapshot releases will be deployed to this repository -->
&lt;snapshotRepository>
&lt;id>artifactory.snapshots&lt;/id>
&lt;name>Artifactory snapshots&lt;/name>
&lt;url>http://myartifactory.example.com/artifactory/libs-snapshots-local&lt;/url>
&lt;/snapshotRepository>
&lt;/distributionManagement>
[/sourcecode]
&lt;p>If you get an error like:&lt;/p>
&lt;blockquote>Error deploying artifact: Failed to transfer file: ://myartifactory.example.com/artifactory/libs-snapshots-local/com.rolfje.example/1.0-SNAPSHOT/executablestuff-1.0-20130604.103146-1.pom. Return code is: 401&lt;/blockquote>
&lt;p>Your artifactory is probably not configured to do anonymous deployments. Make sure you can access the artifactory with a userid and password, and add those to the ~/.m2/settings.xml of the machine which will deploy the binary artifacts.&lt;/p>
&lt;p>I advise to use a special &amp;quot;deployment user&amp;quot; to do this, so you can share this configuration between builds and not depend on a user changig his password. The correct way to store a password for the Artifactory is &lt;a href="http://wiki.jfrog.org/confluence/display/RTF20/Using+Secured+Passwords+in+Settings.xml">explained here&lt;/a>.  Using the DESede encrypted password on your Artifactory profile page, the maven settings.xml file of the buildserver user can look like this:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;xml&amp;quot; autolinks=&amp;quot;false&amp;quot; padlinenumbers=&amp;quot;true&amp;quot;]
&lt;settings>
&lt;server>
&lt;id>artifactory.releases&lt;/id>
&lt;username>your-repository-username&lt;/username>
&lt;password>{DESede}kIniw826kaluA1OPa865A==&lt;/password>
&lt;/server>
&lt;server>
&lt;id>artifactory.snapshots&lt;/id>
&lt;username>your-repository-username&lt;/username>
&lt;password>{DESede}kIniw826kaluA1OPa865A==&lt;/password>
&lt;/server>
&lt;/settings>
[/sourcecode]&lt;/p>
&lt;p>And then, of course, you need your java project to know where to download the dependencies so add this to the pom.xml file in your binary project:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;xml&amp;quot; autolinks=&amp;quot;false&amp;quot; padlinenumbers=&amp;quot;true&amp;quot;]
&lt;repositories>
&lt;repository>
&lt;id>central&lt;/id>
&lt;url>&lt;a href="http://myartifactory.example.com/repo">http://myartifactory.example.com/repo&lt;/a>&lt;/url>
&lt;releases>
&lt;enabled>true&lt;/enabled>
&lt;checksumPolicy>fail&lt;/checksumPolicy>
&lt;/releases>
&lt;snapshots>
&lt;enabled>true&lt;/enabled>
&lt;checksumPolicy>fail&lt;/checksumPolicy>
&lt;/snapshots>
&lt;/repository>
&lt;/repositories>
[/sourcecode]&lt;/p>
&lt;p>If you've reached the end of this blogpost without problems, you should now be able to build your binaries, have them uploaded with correct versions to your external repository, and your Maven/Java build server will download the correct versions of these dependencies at build time. Switching back and forth between tags on your Java project will automatically fetch the correct versions of the binaries, the same way as it does for your jar dependencies.&lt;/p>
&lt;p>Happy coding!&lt;/p></description></item><item><title>BaseCamp Import problem [fixed]</title><link>https://realrolfje.github.io/2013/05/03/basecamp-import-problem-fixed/</link><pubDate>Fri, 03 May 2013 19:38:21 +0000</pubDate><guid>https://realrolfje.github.io/2013/05/03/basecamp-import-problem-fixed/</guid><description>
&lt;p>&lt;a href="screen-shot-2013-05-03-at-20-32-43.png">&lt;img src="screen-shot-2013-05-03-at-20-32-43.png" alt="route.gdb not found">
&lt;/a>On Mac OSX, when installing Garmin BaseCamp 4.1.2 from the Appstore, there is a chance that importing downloaded routes in gdb or gpx files from your local machine will not work. The error you'll get is &amp;quot;[filename].gdb not found&amp;quot;, in a popup much like the one shown here. If you open the console app, you'll see the following error in the logfile:&lt;/p>
&lt;pre>&lt;code>sandboxd[28092]: ([27931]) Garmin BaseCamp(27931) deny file-read-data /Users/rolf/Desktop
&lt;/code>&lt;/pre>
&lt;p>This means that the OSX Sandbox mechanism does not allow Garmin BaseCamp to read files in that folder. I have briefly searched documentation on how to grant BaseCamp the rights to read files there, but I couldn't find anything that would work. I did find a way to work around this problem though: Garmin BaseCamp does have rights to read your Garmin device. So here we go:&lt;/p>
&lt;pre>&lt;code> 1. Temporarily copy the files you want to import in Garmin BaseCamp onto your device (or in my case: the extra SD card in the device).
2. Start Garmin BaseCamp, and select &amp;quot;File&amp;quot; -&amp;gt; &amp;quot;Import…&amp;quot;.
3. Browse to the Garmin SD card and select the gdb file to import. Voila. That will get it into BaseCamp.
4. Delete the gdb file from the Garmin. We don't need it anymore, the Garmin was just a place where BaseCamp could read the file.
&lt;/code>&lt;/pre>
&lt;p>From here on, everything should work as normal. This is just a workaround. If anybody finds out how to really fix this problem let me know.&lt;/p></description></item><item><title>Why you should not use SOAP Headers</title><link>https://realrolfje.github.io/2012/12/24/why-you-should-not-use-soap-headers/</link><pubDate>Mon, 24 Dec 2012 18:52:30 +0000</pubDate><guid>https://realrolfje.github.io/2012/12/24/why-you-should-not-use-soap-headers/</guid><description>
&lt;p>&lt;img src="container1.png" alt="container">&lt;/p>
&lt;p>In the project I am working on right now we use apache XCF and Spring to provide a SOAP service to our customers. As part of the messages, there is a userid/password combo telling the application which user sent the request. I struggled with that today because I think that userid/password info should actually be in the SOAP Header, cleaning up my API, enable me to implement different authentication techniques in the future and generally be more &amp;quot;compliant&amp;quot; to the SOAP standard. Boy was I wrong.&lt;/p>
&lt;!-- more -->First I needed to figure out how to get the userid/password info into the Header. Apache has [some information](https://cxf.apache.org/docs/ws-security.html) on this which is supposed to be "very good" according to the web but I had quite a bit of trouble because it misses quite a bit of context.
&lt;p>At first, it took me ages to find out that I need to add this to my maven pom.xml file to actually &amp;quot;get&amp;quot; the security stuff onto my classpath:&lt;/p>
&lt;p>[sourcecode type=&amp;quot;xml&amp;quot; gutter=&amp;quot;false&amp;quot;]
&lt;dependency>
&lt;groupId>org.apache.cxf&lt;/groupId>
&lt;artifactId>cxf-rt-ws-security&lt;/artifactId>
&lt;version>2.5.1&lt;/version>
&lt;/dependency>
[/sourcecode]&lt;/p>
&lt;p>I could find NO tutorial online telling me this, so I guess I saved you a good 20 minutes of searching right there.&lt;/p>
&lt;p>Then, I needed to change the Spring configuration to &lt;a href="http://www.benmccann.com/dev-blog/apache-cxf-tutorial-ws-security-with-spring/">include the mysterious &amp;quot;WSS4JInInterceptor&amp;quot;&lt;/a> of which nobody understands what it does because it is an overdesigned elephant which implements obscure standards nobody seems to be using:&lt;/p>
&lt;p>[sourcecode type=&amp;quot;xml&amp;quot; gutter=&amp;quot;false&amp;quot;]
&amp;lt;jaxws:endpoint id=&amp;quot;myCoolSOAPService&amp;quot; implementor=&amp;quot;#myCoolService&amp;quot; address=&amp;quot;/mycoolservice&amp;quot;&amp;gt;
&lt;a href="jaxws:inInterceptors">jaxws:inInterceptors&lt;/a>
&lt;ref bean="wss4jinterceptor"/>
&amp;lt;/jaxws:inInterceptors&amp;gt;
&amp;lt;/jaxws:endpoint&amp;gt;&lt;/p>
&lt;bean id="wss4jinterceptor" class="org.apache.cxf.ws.security.wss4j.WSS4JInInterceptor">
&lt;constructor-arg>
&lt;map>
&lt;entry key="action" value="UsernameToken" />
&lt;entry key="passwordType" value="PasswordDigest" />
&lt;entry key="passwordCallbackRef">
&lt;ref bean="myPasswordCallback" />
&lt;/entry>
&lt;/map>
&lt;/constructor-arg>
&lt;/bean>
[/sourcecode]
&lt;p>As you can see, the WSS4JInterceptor is configured to accept Usernames and passwords (albeit in deeply, convoluted nested elements adding humongous amounts of XML bloat to your Header).&lt;/p>
&lt;p>To be able to take the userid/password combo I dutifully started writing my password handler:&lt;/p>
&lt;p>[sourcecode type=&amp;quot;java&amp;quot; gutter=&amp;quot;false&amp;quot;]
public class UseridPasswordCallback implements CallbackHandler {&lt;/p>
&lt;pre>&lt;code> @Override
public void handle(Callback[] arg0)
throws IOException, UnsupportedCallbackException {
// Not implemented yet
}
&lt;/code>&lt;/pre>
&lt;p>}
[/sourcecode]&lt;/p>
&lt;p>You can see that my handle(Callback) method is not implemented. And there is a good reason for that.&lt;/p>
&lt;p>Just before implementing all the code, I checked the wiring of all this stuff. The application started up beautifully, and I pointed SOAPUI to the WSDL to generate some example requests. To my horror, SOAPUI did not generate example headers. For some reason, the whole CXF stack just &amp;quot;forgets&amp;quot; to put that info in the WSDL, or maybe the specs don't leave room to have that information in the WSDL, I don't know.&lt;/p>
&lt;p>So I set out to see how to build that Soap Security header. It was nuts. Not only did I need to figure this out from crude and incomplete examples, reverse engineer xsd's, and hand-craft it into the SOAPUI messages, I also had to deal with the awful error messages that gave me &amp;quot;Could not read XMReader&amp;quot; and the very helpful &amp;quot;ns1:InvalidSecurity&amp;quot;.&lt;/p>
&lt;p>After an afternoon of absolute madness on something that should actually be infinitesimally simple, I gave up. I added the userid/password back into the functional calls (as part of my method signatures). And for a couple of very good reasons:&lt;/p>
&lt;pre>&lt;code> 1. The first an most important one: If I as a developer have this much trouble wading to the poorly documented, underutilized, astrophysics-level complexity just to add a freakin' userid/password field to a SOAP message, how can I expect my users to ever accomplish this without rage-calling our helpline every 4 seconds?
2. By making the fields part of the API, they become part of the WSDL, which immediately makes it clear what to add and where. SOAPUI even generates nice placeholders for it.
3. I added an Aspect with an around advice intercepting the userid/password combo, use it to authenticate the user and immediately remove the password from memory. Simple, readable, effective and easily debuggable for any developer on the project.
4. The pom.xml and the Spring configuration immediately become much simpler and gets rid of a few idiot acronyms in the process.
&lt;/code>&lt;/pre>
&lt;p>So there. Want to do SOAP Security as it was intended? Do yourself and your customers a favor: Don't.&lt;/p>
&lt;p> &lt;/p></description></item><item><title>Make your buildserver talk</title><link>https://realrolfje.github.io/2012/12/16/make-your-buildserver-talk/</link><pubDate>Sun, 16 Dec 2012 16:52:50 +0000</pubDate><guid>https://realrolfje.github.io/2012/12/16/make-your-buildserver-talk/</guid><description>
&lt;p>&lt;img src="jenkins-bla.png" alt="Jenkins talking">
Have you ever started a shell script which takes a while and you keep monitoring that window because you really need those results? If you are working on a Mac, you can use the Mac's power of speech to tell you a command is finished. Here's how:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;bash&amp;quot; gutter=&amp;quot;false&amp;quot;]
./yourreallyslowbuild.sh; say &amp;quot;really long build is finished&amp;quot;
[/sourcecode]&lt;/p>
&lt;p>With a little curl and shell scripting magic, I told my Mac to constantly monitor our Jenkins buildserver, and bug everybody in the office when the hourly build is failing:&lt;/p>
&lt;!-- more -->
&lt;p>[sourcecode language=&amp;quot;bash&amp;quot; gutter=&amp;quot;false&amp;quot;]
#!/bin/sh&lt;/p>
&lt;h1 id="configuration">Configuration&lt;/h1>
&lt;p>jenkinsurl=http://my.jenkins.server/jenkins
voice=Vicki&lt;/p>
&lt;h1 id="the-function-that-does-the-trick">The function that does the trick&lt;/h1>
&lt;p>fnReportFailure() {
job=${1}
message=${2}
result=&lt;code>curl -s \ ${jenkinsurl}/job/${job}/lastBuild/api/xml?xpath=/*/result/text()&lt;/code>&lt;/p>
&lt;p>if  [ &amp;quot;${result}&amp;quot; == &amp;quot;XPath /*/result didn't match&amp;quot; ] &lt;br>
|| [ &amp;quot;${result}&amp;quot; == &amp;quot;ABORTED&amp;quot; ]; then
# ignore aborted or in-progress build. Ignore.
return 0
elif [ &amp;quot;${result}&amp;quot; != &amp;quot;SUCCESS&amp;quot; ]; then
echo &lt;code>date&lt;/code> ${job} : ${result}
say -v &amp;quot;${voice}&amp;quot; &amp;quot;${message}&amp;quot;
fi
}&lt;/p>
&lt;h1 id="loop-over-all-projects-and-shout-out-problems">Loop over all projects and shout out problems&lt;/h1>
&lt;p>clear
echo
echo &amp;quot;Monitoring ${jenkinsurl}&amp;quot;
echo
printf &amp;quot;===== &amp;quot;&lt;/p>
&lt;p>while [ true ]; do&lt;/p>
&lt;h1 id="add-as-many-jobs-as-you-want-here">Add as many jobs as you want here:&lt;/h1>
&lt;p>fnReportFailure &amp;quot;hourly_java_job&amp;quot; &amp;quot;The hourly java job is unstable.&amp;quot;
fnReportFailure &amp;quot;hourly_deploy_job&amp;quot; &amp;quot;The hourly deploy failed.&amp;quot;&lt;/p>
&lt;h1 id="tell-the-time-and-sleep-a-little">Tell the time and sleep a little&lt;/h1>
&lt;p>now=&lt;code>date +%H:%M:%S&lt;/code>
printf &amp;quot;\b\b\b\b\b\b\b\b\b${now} &amp;quot;
sleep 60
done
[/sourcecode]&lt;/p>
&lt;p>This script talks with the &amp;quot;Vicky&amp;quot; voice, because I let &amp;quot;Alex&amp;quot; read my iChat messages to me. Of course, the &amp;quot;Bad News&amp;quot; and &amp;quot;Zarvox&amp;quot; voices may be even more &amp;quot;motivating&amp;quot; to quickly fix the build. Now go and keep your eyes on youtube... err I mean your code.&lt;/p>
&lt;p>Enjoy.&lt;/p></description></item><item><title>Why developers are never on time</title><link>https://realrolfje.github.io/2012/06/28/why-developers-are-never-on-time/</link><pubDate>Wed, 27 Jun 2012 22:14:34 +0000</pubDate><guid>https://realrolfje.github.io/2012/06/28/why-developers-are-never-on-time/</guid><description>
&lt;p>&lt;a href="https://en.wikipedia.org/wiki/Daylight_saving_time">&lt;img src="alarmclock.jpg" alt="">
&lt;/a>If you have worked in IT as long as I do, you probably have noticed that developers have a tendency to not be on time. They are late for meetings, late for lunch, and on other days they are in at 6am or (and) they work until 3am the next morning. If you ever wondered why this is, I might have some answers for you.&lt;/p>
&lt;p>You might also find this post interesting if you are trying to figure out why you can't get your time zones working in MySQL.&lt;/p>
&lt;!-- more -->Today, a customer complained that my use of unix timestamps was unacceptable because it supposedly is not an exact representation of a single point in time. He concluded that after some research he did in the MySQL documentation, and quoted [this text](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_unix-timestamp) :
&lt;p>&lt;a href="screen-shot-2012-06-27-at-10-22-18-pm.png">&lt;img src="screen-shot-2012-06-27-at-10-22-18-pm.png" alt="Image">
&lt;/a>&lt;/p>
&lt;p>It says that converting a Date/Time to a Unix timestamp is lossy &lt;em>&amp;quot;due to conventions for local time zone changes&amp;quot;&lt;/em>. I am very curious as to what &lt;em>&amp;quot;conventions&amp;quot;&lt;/em> MySQL is referring to in an attempt to hide their buggy time zone implementation.&lt;/p>
&lt;p>The example in the MySQL documentation shows how the following two statements result in exactly the same Unix timestamp:&lt;/p>
&lt;p>&lt;code>SELECT UNIX_TIMESTAMP('2005-03-27 03:00:00'); SELECT UNIX_TIMESTAMP('2005-03-27 02:00:00'); &lt;/code>
If you have worked with Dates and Times for international customers before, you will immediately notice that these two examples are lacking a crucial part, namely the time zone component. In these two cases, MySQL will &amp;quot;guess&amp;quot; the correct time zone for you. Both timestamps represent the crossover between winter- and &lt;a href="https://en.wikipedia.org/wiki/European_Summer_Time">summer time&lt;/a>, depending on what time zone you put behind them (02:00 CEST = 03:00 CET). Apparently the MySQL algorithm for figuring out the &amp;quot;correct&amp;quot; time zone makes a pretty awful guess here.&lt;/p>
&lt;p>To be able for the client to query the database directly, I needed to come up with a solution. I did some research and found out that the MySQL development team, in their infinite wisdom, chose to not install time zone support by default in MySQL. They also decided that any date/time function you use not so much as peeps about missing time zone support. I will not start a rant on how wrong either of those is. No I will not. Will. Not... Must... not......&lt;/p>
&lt;p>&lt;strong>Solving the MySQL time zone problem.&lt;/strong>
When you connect to a MySQL instance, it is easy to check if the administrator has installed time zone support. Execute the following query:&lt;/p>
&lt;p>&lt;code>SELECT CONVERT_TZ('2004-01-01 12:00:00','GMT','MET');&lt;/code>&lt;/p>
&lt;p>If this query returns the very informative &amp;quot;null&amp;quot;, then time zone support is not installed on your server. Go to the server (or ask your administrator to do this) and execute the &lt;a href="http://dev.mysql.com/doc/refman/5.5/en/mysql-tzinfo-to-sql.html">following commands&lt;/a>:&lt;/p>
&lt;p>&lt;code>$ cd /usr/local/mysql/bin $ ./mysql_tzinfo_to_sql /usr/share/zoneinfo | \ mysql -u root mysql -p &lt;/code>
It will give you some useless warnings about unsupported time zones. They should have put that effort in warning us when we try to use time zones. (oops I did it again.. must... not...).&lt;/p>
&lt;p>(Tested on MySQL 5.5 on Mac OSX as well as MySQL 5.5 on CentOS Linux)&lt;/p>
&lt;p>If everything went smoothly, you should now be able to do a time zone conversion with the convert_tz() function. We need time zone support to be able to tell MySQL that our session will now use the GMT time zone. We choose this because Unix Time Stamps are (milli)seconds since 1970-1-1 00:00 &lt;strong>GMT&lt;/strong>. Also, MySQL can not correctly tell the difference between CET and CEST so we steer clear of any summer/wintertime problems it has.&lt;/p>
&lt;p>We can try our unix_timestamp conversion again:&lt;/p>
&lt;p>&lt;code>set time_zone='GMT'; SELECT @@session.time_zone; SELECT UNIX_TIMESTAMP('2005-03-27 03:00:00'); SELECT UNIX_TIMESTAMP('2005-03-27 02:00:00'); &lt;/code>
The first statements sets the time zone, and the second shows your time zone setting. If this does not say &amp;quot;GMT&amp;quot; then either you made a typo or time zone support is not enabled but MySQL &amp;quot;forgot&amp;quot; to tell you (oh dear, doing it again, am I?). The last two statements should return different Unix Time Stamps, and you should be able to convert back from those into the correct readable (but missing time zone information) timestamps again.&lt;/p>
&lt;p>So the whole problem comes down to MySQL &amp;quot;silently failing&amp;quot; when you use time zones it does not &amp;quot;understand&amp;quot;, and the consistent lack of time zones in the date/time representations, both in the application and in the documentation.&lt;/p>
&lt;p>It seems that a lot of developers on this world still have a hard time grasping that &amp;quot;yyyy-mm-dd HH:MM:ss&amp;quot; is never an exact representation of a point in time without a time zone component. Show me a date/time without a time zone and I show you software with time conversion bugs.&lt;/p>
&lt;p>In our software, we do all date and time conversions ourselves, and store them as Unix Timestamps in in the database as a Long. This way no driver, client or server database will be able to do &amp;quot;smart&amp;quot; conversions for us. It helped us develop applications for customers in over 12 countries, spanning a multitude of time zones. The MySQL handling of time zones has reinforced my belief that this is the only way to have total control over dates and times.&lt;/p></description></item><item><title>Distributed jMeter through VPN and SSL</title><link>https://realrolfje.github.io/2012/02/16/distributed-jmeter-through-vpn-and-ssl/</link><pubDate>Thu, 16 Feb 2012 21:49:49 +0000</pubDate><guid>https://realrolfje.github.io/2012/02/16/distributed-jmeter-through-vpn-and-ssl/</guid><description>
&lt;p>&lt;a href="http://knowyourmeme.com/memes/lolgraphs">&lt;img src="a-graph.png" alt="">
&lt;/a>This week I created a jMeter test setup for distributed testing. I thought it would be straight forward but I ran into some interesting things you might want to know if you are considering distributed testing using jMeter.&lt;/p>
&lt;p>In my case, I had to test an application which was inside our corporate network, while working from home through a VPN and a firewall. Normally that is no problem, but jMeter has this funny construction where the slave (jMeter server) wants to connect back to the master (jMeter gui). It took some fiddling with iptables, the jMeter configuration and ssh tunneling to get it to work. Here's my setup:&lt;/p>
&lt;!-- more -->
&lt;p>&lt;a href="network-setup.png">&lt;img src="network-setup.png" alt="">
&lt;/a>&lt;/p>
&lt;p>Getting this all to behave nicely wasn't trivial. All the information can be found, but it took me quite some time to piece it all together. If your setup looks like the one above, or if your setup involves having your jMeter master machine on a different subnet and/or behind a firewall, here's what you need to do.&lt;/p>
&lt;p>&lt;strong>Step 1: Configuring the slaves&lt;/strong>
In most jMeter setups, the slaves are Linux machines (any flavor will do, mine are redhat). Create a &amp;quot;jmeter&amp;quot; user on each of the machines so that you don't have to run the jMeter process as a root user.&lt;/p>
&lt;pre>&lt;code> 1. [Download jmeter](http://jmeter.apache.org/download_jmeter.cgi) as a zip file and unzip it on each of the jMeter slave machines. At the time of this writing I am using jMeter 2.6. Make sure that the files in the bin directory are executable with
chmod +x *.sh jmeter jmeter-server
2. On the first machine, edit the jmeter.properties file in the /bin folder of the unpacked jMeter installation and uncomment the line containing the server.rmi.localport setting. I changed mine to read:
server.rmi.localport=50000
3. Save the jmeter.properties file and copy it over to all the other machines (in the correct location).
4. As &amp;quot;root&amp;quot; user, edit the iptables configuration in /etc/sysconfig/iptables and add the following lines, just above the first &amp;quot;REJECT&amp;quot; line (the order is important here):
# Start jmeter ports
-A RH-Firewall-1-INPUT -p udp -m udp --dport 1099 -j ACCEPT
-A RH-Firewall-1-INPUT -p tcp -m tcp --dport 1099 -j ACCEPT
-A RH-Firewall-1-INPUT -p udp -m udp --dport 50000 -j ACCEPT
-A RH-Firewall-1-INPUT -p tcp -m tcp --dport 50000 -j ACCEPT
# End jmeter ports
5. Save the file and while still being root, restart iptables with
service iptables restart
&lt;/code>&lt;/pre>
&lt;p>This covers the work you need to do on the slaves. To test your setup, start the &amp;quot;jmeter-server&amp;quot; application on one of the slaves. Note the address and port the server reports listening to:&lt;/p>
&lt;pre>&lt;code>Created remote object: UnicastServerRef [liveRef: 
[endpoint:[&amp;lt;span style=&amp;quot;color:#993300;&amp;quot;&amp;gt;10.91.10.11:50000&amp;lt;/span&amp;gt;](local),
objID:[-24679ca9:13581440206:-7fff, -1472515273052223306]]]
&lt;/code>&lt;/pre>
&lt;p>From another slave, you can see if the iptables configuration works by telnetting to this slave on port 50000. You'll get connected to the jmeter-server process. Use Ctrl-] to exit telnet (there is nothing useful you could type here). If you get a &amp;quot;Connection refused&amp;quot;, your iptables configuration is not working. Check your steps again.&lt;/p>
&lt;p>For now, stop any running jMeter processes on the slaves.&lt;/p>
&lt;p>&lt;strong>Step 2: Configuring the master&lt;/strong>
The master is the system where your jMeter GUI will be running, and it is the system that tells the slaves what to do, and where to deliver their results. In order for the master to do that, it needs to be reachable by the slaves. In the network picture above you see a pesky firewall and a VPN server with mis-matching addresses. In order to make this work we're going to tell the master to listen at a fixed port for the slaves, and then do reverse port forwarding to the slaves so they can deliver content to a local port. Here's how:&lt;/p>
&lt;pre>&lt;code> 1. Take the same zipfile you used for the slaves. and unpack it on your master machine. In my case, this is a Macbook, running OSX 10.7.2
2. Edit the jmeter.properties file in the bin folder and list the ip addresses of the jMeter slaves in the remote_hosts property (remove the 127.0.0.1 address) so that it looks like:
remote_hosts=10.91.10.10,10.91.10.11,10.91.10.12,10.91.10.13
&lt;/code>&lt;/pre>
&lt;p>Then look for the client.rmi.localport line and change that into:&lt;/p>
&lt;pre>&lt;code>client.rmi.localport=51000
&lt;/code>&lt;/pre>
&lt;p>This is all the configuration you need to do on the master. The trick is in starting it all up, read on.&lt;/p>
&lt;p>&lt;strong>Step 3: Starting your tests&lt;/strong>
Now that your infrastructure is in place, let's put it to the test. First, from your jMeter master machine, connect to each of the machines using SSH, and setup a reverse tunnel to port 51000 on your master, like so:&lt;/p>
&lt;pre>&lt;code>ssh -R 51000:localhost:51000 jmeter@10.91.10.11
&lt;/code>&lt;/pre>
&lt;p>Keep each of these sessions open, as the jMeter slave needs to be able to deliver it's test results to your jMeter master. On your master machine, open a command prompt and type the following:&lt;/p>
&lt;pre>&lt;code>export JVM_ARGS=&amp;quot;-Djava.rmi.server.hostname=localhost&amp;quot;
&lt;/code>&lt;/pre>
&lt;p>By doing this, jMeter will tell the slaves to connect to &amp;quot;localhost:51000&amp;quot; for delivering their results. This of course ends up being tunneled back to your jMeter master machine.&lt;/p>
&lt;p>Then, on the master start jmeter.sh, load up your test script and use the &amp;quot;Run&amp;quot; Menu to run the script on one slave, or all slaves together. Remember that the master pushes your test script to each slave and tells it to run it. So if you have a script with a thread group running 10 threads, each slave will do 10 threads, resulting in 40 threads hitting your application.&lt;/p>
&lt;p>&lt;strong>Tips and Tricks&lt;/strong>
During this whole adventure I collected a few handy tips:&lt;/p>
&lt;pre>&lt;code> * Document the whole setup, cookbook style, and put that document in an easy to find spot. There will be a time you have to pass this on to a colleague, and it will help a great deal if he can pick up your document and hit the ground running.
* Put as much of the command line stuff you see above in scripts. In my setup, I have a &amp;quot;connect-slave.sh&amp;quot; script which contains the reverse tunnel trick, a &amp;quot;start-master.sh&amp;quot; which starts the jMeter master with the correct JVM arguments, and a &amp;quot;start-slave.sh&amp;quot; script which starts the slave with a bit more memory. Each slave has 2GB of heap, because I added the following line to the script:
export JVM_ARGS=&amp;quot;-Xmx2028m&amp;quot;
* As much as you need to pay attention to the performance of your application, also make sure that your test script is lean and mean. Some listeners are very expensive to use. The &amp;quot;View Results Tree&amp;quot; and &amp;quot;View Results in Table&amp;quot; are very memory intensive. Great for debugging a single thread, you'll quickly run out of memory for 100 Threads or longer tests. Once you've got your scripts working, disable as much of the listeners as possible.
* jMeter debugging is fidgety. When debugging your script, always do 1 thread and 1 iteration on 1 server. Once that works, you can scale up (don't forget to disable the &amp;quot;View Results Tree&amp;quot; listeners, see above).
* jMeter quickly runs out of memory. Increase the default heap sizes of the master and the slaves by using the [-Xmx JVM option](http://docs.oracle.com/javase/1.4.2/docs/tooldocs/windows/java.html).
&lt;/code>&lt;/pre>
&lt;p>Happy Testing!&lt;/p></description></item><item><title>Strange fix for SMB problems in Linux</title><link>https://realrolfje.github.io/2011/11/28/strange-fix-for-smb-problems-in-linux/</link><pubDate>Mon, 28 Nov 2011 21:09:13 +0000</pubDate><guid>https://realrolfje.github.io/2011/11/28/strange-fix-for-smb-problems-in-linux/</guid><description>
&lt;p>&lt;a href="http://lunduke.com/?p=429">&lt;img src="images.jpeg" alt="Linux Sucks.">
&lt;/a>Last week, the upgrade to Ubuntu 11 severely broke all carefully selected menu colors, graphics settings and icon sets. I gave up the fight after a few hours of effortless restoration work and switched to Linux Mint 11.&lt;/p>
&lt;p>While setting up my machine and restoring the links to the company Windows file servers I could not connect. The password window would re-appear without any feedback. The fix was even stranger than the problem.&lt;/p>
&lt;!-- more -->To analyze this strange problem, [@sastuvel](http://twitter.com/#!/sastuvel) took the keys and tried the following on the command prompt:
&lt;p>[sourcecode light=&amp;quot;true&amp;quot;]
$ smbclient //server/Share$ -U DOMAIN\rolf -d 2
rlimit_max: increasing rlimit_max (1024) to minimum Windows
 limit (16384)
added interface eth0 ip=fe80::5e26:aff:fe12:5a23%eth0
bcast=fe80::ffff:ffff:ffff:ffff%eth0
netmask=ffff:ffff:ffff:ffff::
added interface eth0 ip=172.17.100.74 bcast=172.17.255.255
netmask=255.255.0.0
Enter DOMAIN\rolf's password:
tdb(unnamed): tdb_open_ex: could not open file
/var/run/samba/gencache.tdb:
Permission denied
session setup failed: NT_STATUS_MORE_PROCESSING_REQUIRED
did you forget to run kinit?
[/sourcecode]&lt;/p>
&lt;p>Of course we did run kinit and everything was up and running. No level of debug logging came up with something useful. After staring at this problem of a while I noticed that my hostname was &lt;em>&amp;quot;rolf-Latitude-E6510&amp;quot;&lt;/em>, which seemed a bit long. In a strange last resort voodo-chicken action I edited &lt;em>/etc/hostname&lt;/em> to change it to &lt;em>&amp;quot;dellmint&amp;quot;&lt;/em> and rebooted the machine.&lt;/p>
&lt;p>Strangely, this solved the problem. So if you're running Linux (Mint) and have strange problems mounting SMB shares, check your hostname and change it to something simple and short. It might help.&lt;/p>
&lt;p>And while you're at it, you can also install &lt;a href="http://www.webupd8.org/2011/02/touchpad-indicator-now-automatically.html">touchpad indicator&lt;/a> to disable your touchpad when you plug in your mouse. Why this isn't standard in every Linux distribution baffles me just as much as the blinking wifi indicator.&lt;/p></description></item><item><title>Having fun at J-Fall 2011</title><link>https://realrolfje.github.io/2011/11/03/having-fun-at-j-fall-2011/</link><pubDate>Wed, 02 Nov 2011 22:09:14 +0000</pubDate><guid>https://realrolfje.github.io/2011/11/03/having-fun-at-j-fall-2011/</guid><description>
&lt;p>&lt;a href="img_2973-small.jpg">&lt;img src="img_2973-small.jpg?w=150" alt="J-Fall 2011">
&lt;/a>This year's Dutch Java Nerd event called &lt;a href="http://www.nljug.org/pages/events/content/jfall_2011/">J-Fall&lt;/a> was held in Nijkerk, in a beautiful location called &lt;a href="http://www.regardz.nl/locaties/event-centers/regardz-hart-van-holland-nijkerk.aspx?gclid=CK7bg8zwmKwCFUMm3godUFpdPQ">&amp;quot;Hart van Holland&amp;quot;&lt;/a> . With plenty of sessions by speakers from all over the world it promised to be a great day for Java enthusiasts, at a great location for meeting friends and colleagues. I took a day off from work and it was well worth it.&lt;/p>
&lt;p>&lt;strong>&lt;a href="http://www.nljug.org/pages/events/content/jfall_2011/sessions/00024/">&lt;!-- more -->Opening by Bert Ertman&lt;/a>&lt;/strong>
Bert starts the day by welcoming the 1000+ attendees in the main presentation room in &amp;quot;Hart van Holland&amp;quot;. After explaining what the day is going to bring and where to find rooms, food, drinks, and company booths, he goes on to tell how they tried to get better network coverage. All these nerds with their smartphones in one single place is asking for trouble. It turns out it's too expensive to get good data network so they didn't do that. Network connections proved to be spotty at best in the main building, but I had good 3G coverage outside the main building.&lt;/p>
&lt;p>The organizer of &lt;a href="http://www.devoxx.com/display/DV11/Home">Devoxx&lt;/a> came by to say hi, and also told us that the J-Fall presentations are being professionally captured and the most popular ones are going to be online soon at &lt;a href="http://www.parleys.com/">parleys.com&lt;/a>. He closed off with the hilarious &lt;a href="http://www.youtube.com/watch?v=b-Cr0EWwaTk">&amp;quot;Java Life&amp;quot; Rap Music Video&lt;/a> . By the way if you liked that, you certainly will like the &lt;a href="http://www.youtube.com/watch?v=2UFc1pr2yUU">&amp;quot;Whole foods Parking Lot&amp;quot; video&lt;/a>.&lt;/p>
&lt;p>&lt;strong>&lt;a href="http://www.nljug.org/pages/events/content/jfall_2011/sessions/00025/">Java 7 Directors Cut&lt;/a>&lt;/strong>
After the cool opening and videos the whole room was ready for some kick-ass sessions. Tomas Nilsson said that he would have a hard time topping the Java Life music video. And he did. Opening with a laughable slide containing a full page mandatory disclaimer text, the presentation was a terrible erratic drive through his very personal memory lane, and after 15 minutes he lost about 80% of the audience. I had absolutely no idea what point he was trying to make, and why nobody advised him to revise his presentation after he gave the same talk at JavaOne. The good thing was that because of the spotty network coverage, not all tweets during this presentation reached the twitter servers, and &lt;a href="http://twitter.com/#!/search/%23jfall">#jfall&lt;/a> was not trending.&lt;/p>
&lt;p>During the small coffee break we gather around to see what sessions each of us want to join. Scanning the company booths in the main lobby learns that the world didn't change: Booths luring you with pens, mints, stickers, iPads and nice ladies in the booth who are almost always never representing the companies' people or culture. I did score some nice ball pens though :-)&lt;/p>
&lt;p>&lt;strong>&lt;a href="http://www.nljug.org/pages/events/content/jfall_2011/sessions/00071/">Building Highly Scalable Java Applications on Windows Azure&lt;/a>&lt;/strong>
Microsoft being a big sponsor of this year's J-Fall, they have to have a keynote. And so they did. And it was a good one. Certainly after the below par presentation skills of Oracle, Microsoft has a nicely polished slides and a demo of Azure, a good story and good pace. During the demo the DNS switching is a bit slow and prevents some things to be shown. At the end of the talk, the speaker confidently retries and it now works. This results in a well-deserved warm applause from the audience. &lt;a href="http://twitter.com/#!/doortje123/status/131721454352998400">Well done Microsoft&lt;/a>.&lt;/p>
&lt;p>&lt;strong>&lt;a href="http://www.nljug.org/pages/events/content/jfall_2011/sessions/00050/">The Java EE7 Platform: Developing for the Cloud&lt;/a>&lt;/strong>
With &amp;quot;Cloud&amp;quot; being the new buzzword nowadays, &lt;a href="http://www.java.net/blogs/arungupta/">Arun Gupta&lt;/a> did a keynote on where Java 7 is going, and how applications would fit in this cloud structure. I never heard the term &amp;quot;tenants&amp;quot; being used in this respect, which was interesting. The whole talk was a bit erratic, and after Java EE 6 fixing all the EJB gripes of EJB 3, I couldn't help but feeling that all these &amp;quot;enterprisey&amp;quot; terms are re-introduced in Java 7. The whole idea that you build an application but other people configure the actual building blocks that your application will be instantiated with, is a proven failure to me. Administrators don't have developer knowledge. Changing configuration of key components in your application will severely break it.&lt;/p>
&lt;p>I came out of this session not feeling to hot about Java 7 and the whole components-in-the cloud and people renting instances idea. Too many roles, academic, over engineered, very Sun Enterprise EJB 2 feeling.&lt;/p>
&lt;p>&lt;strong>&lt;a href="http://www.nljug.org/pages/events/content/jfall_2011/sessions/00066/">Don't call us - we'll push&lt;/a>&lt;/strong>
A colleague advised be to go see &lt;a href="http://technology.amis.nl/blog/author/lucas">Lucas Jellema&lt;/a>. Lucas was the first speaker of the day who actually seemed to know what he was doing on stage. Although his slides were a bit crowded, he had a good story with many demos. It was a welcome change after Tomas and Arun, although Lucas didn't have any real new stuff. Polling, long-polls, asynchronus AJAX calls and the old request/response problem in http, and database triggers firing Java programs. Except for &lt;a href="http://en.wikipedia.org/wiki/WebSocket">Web Sockets&lt;/a> there was nothing new but nice to be reminded how these things actually work.&lt;/p>
&lt;p>After Lucas' talk we went to get our complimentary lunch. Because we were relatively early, we had no problems getting the lunch package, and enjoyed our tasty sandwiches, milk, apples and Mars. Another free coffee and we're recharged and ready for the afternoon sessions.&lt;/p>
&lt;p>&lt;strong>&lt;a href="http://www.nljug.org/pages/events/content/jfall_2011/sessions/00053/">Migrating Spring to Java EE 6&lt;/a>&lt;/strong>
&lt;a href="http://www.linkedin.com/in/paulb01">Paul Bakker&lt;/a> &lt;a href="img_2974-small.jpg">&lt;img src="img_2974-small.jpg?w=150" alt="">
&lt;/a>had clearly prepared his slides well, and insisted in giving his talk in English because it would be recorded. I thought this was a nice touch (in case you haven't noticed, I have this idea that everything you want to share with technical people should be in English). Paul explained the tactics to use when converting a Spring application to Java EE 6. Where to start, and how to keep your code compiling while doing the conversion.&lt;/p>
&lt;p>I have worked on some large projects and although Paul mentions that some parts of the conversion will take a bit more time than others, I am not looking forward to convert my current 250+ thousand lines of code to Java EE 6 just yet. A plain Spring application may be easy, but as soon as you have Spring AOP, interesting Proxy beans and Custom Factory beans, you'd have to rewrite that code in Java EE6, which could take quite some time.&lt;/p>
&lt;p>I predict converting to Java EE 6 will be much more expensive than upgrading to the next version of Spring for most serious enterprise level applications. I have a home project I'd try to convert first, maybe more on that later on this blog, who knows.&lt;/p>
&lt;p>&lt;strong>&lt;a href="http://www.nljug.org/pages/events/content/jfall_2011/sessions/00056/">Extreme performance with the Disruptor&lt;/a>&lt;/strong>
Although the title and the talk description in the schedule didn't hint too much about it, this talk was 100% about Queues. After some high level talk about Producers, Consumers and Queues, &lt;a href="http://blog.dutchworks.nl/author/allard/">Allard Buijze&lt;/a> drops a bomb and introduces some circle and the name &amp;quot;Disruptor&amp;quot;, without introduction. After a few slides everybody understands that this is some kind of &amp;quot;Circular Queue&amp;quot;.&lt;/p>
&lt;p>We had a bit of a laugh when Allard uses 4 slides to explain about dirty cache line reads at CPU level and how the &lt;a href="http://code.google.com/p/disruptor/">Disruptor&lt;/a> prevents all that, which he then dismisses with &amp;quot;but that doesn't help much&amp;quot;.&lt;/p>
&lt;p>The talk was entertaining and what I got from it is that the main reason why the &amp;quot;Disruptor&amp;quot; works faster than regular Queues, is that Producers and Consumers can inform each other about their position in the queue, which prevents Queue polling. I can't help but think that this can be done with regular Queue implementations as well, so maybe I missed something here.&lt;/p>
&lt;p>&lt;strong>&lt;a href="http://www.nljug.org/pages/events/content/jfall_2011/sessions/00058/">Java Tuning Puzzlers&lt;/a>&lt;/strong>
For the final session for today most of us decided to go to &amp;quot;Java Tuning Puzzlers&amp;quot;, because it looked like fun. And it was. The presentation by &lt;a href="http://twitter.com/#!/kjkoster">Kees Jan Koster&lt;/a> and &lt;a href="http://twitter.com/#!/jpinpointcom">Jeroen Borgers&lt;/a> was fast, funny, interactive, hands-on and very refreshing. They showed some real-life performance problems they encountered in their work, and asked the audience to solve them. All Java nerds lit up and started shouting answers and funny remarks. Jeroen and particularly Kees Jan were very good in answering questions and snarky comments from the audience.&lt;/p>
&lt;p>As the talk went into overtime and the organization was trying to cut it short, Jeroen and Kees Jan asked the audience &amp;quot;are we going to get beer, or are we going to finish this?&amp;quot;. The whole audience shouted &amp;quot;Finish it!&amp;quot; and we finished the last Puzzler.&lt;/p>
&lt;p>No fancy new frameworks, no buzzword bingo, just plain old dry-coding and a plug for one of my favorite tools, findbugs &lt;a href="http://findbugs.sourceforge.net/">http://findbugs.sourceforge.net/&lt;/a> . It was the best session I had all day, and I actually went back to Kees Jan and Jeroen to compliment them with their awesome talk.&lt;/p>
&lt;p>&lt;strong>Conclusion&lt;/strong>
I might sound a bit critical here and there, but I had a great day. Being amongst fellow-nerds, talking tech talk, sharing funny stories, listening to interesting new developments and hearing other people's views on things was really refreshing. Next thing on my list: Try to get Kees Jan Koster to do at least one big main-track keynote at J-Spring or J-Fall next year, about any subject. Because he will at least keep the audience awake.&lt;/p>
&lt;p>Thanks Bert and all of the NLJug people and sponsors who made this possible. See you all at J-Spring!&lt;/p>
&lt;p>&lt;a href="img_2978-small.jpg">&lt;img src="img_2978-small.jpg" alt="Oracle J-Fall flowers">
&lt;/a>&lt;/p></description></item><item><title>Gmail: Save an email to disk</title><link>https://realrolfje.github.io/2011/10/18/gmail-save-an-email-to-disk/</link><pubDate>Tue, 18 Oct 2011 21:00:28 +0000</pubDate><guid>https://realrolfje.github.io/2011/10/18/gmail-save-an-email-to-disk/</guid><description>
&lt;p>&lt;img src="gmail-save-to-disk.png" alt="Gmail save to disk">
Want to save a single email from gmail to disk, in a readable format for Outlook, Thunderbird or Apple Mail? Here's how:&lt;/p>
&lt;pre>&lt;code> 1. Open your browser and log into your gmail account.
2. Open the email you want to save.
3. On the top-right, there is a little triangle next to the &amp;quot;Reply&amp;quot; button. Click that, and select [&amp;quot;Show Original&amp;quot;](gmail-show-original.png).
4. The original, raw email opens in a new window or tab.
5. Right-click on this new window, and select [&amp;quot;Save as...&amp;quot;](gmail-save-as.png).
6. When saving the file, make sure the extension of the filename is &amp;quot;**eml**&amp;quot;. So for example [&amp;quot;MyEmail.eml&amp;quot;](gmail-name-it-eml.png).
&lt;/code>&lt;/pre>
&lt;p>All done. Now you dan open the file in Thunderbird, Outlook or whatever email viewer you have out there and see the original mail, in all it's marked-up glory.&lt;/p></description></item><item><title>Add some magic to Eclipse</title><link>https://realrolfje.github.io/2011/07/30/add-some-magic-to-eclipse/</link><pubDate>Sat, 30 Jul 2011 18:40:24 +0000</pubDate><guid>https://realrolfje.github.io/2011/07/30/add-some-magic-to-eclipse/</guid><description>
&lt;p>&lt;a href="http://nl.toonpool.com/gallery.php?user=406">&lt;img src="harry_potter_31795.jpg" alt="Templatus Expandum!">
&lt;/a>The top feature of the eclipse IDE is the very impressive refactoring possibilities. It makes code feel like play-doh, allowing you to knead it in any shape way or form you think fits the current situation. A close second to that is the impressive templates and code assist. Yes, Java is verbose, but I think 80% of the characters which make up a Java program was never actually typed. All the readability without the labour, brought to you by eclipse's powerful templates.&lt;/p>
&lt;p>What many people don't realize is that you can easily add to this magic by creating your own templates. One of the first templates I always add to the environment is the one which adds a private static final log4j logger. I thought it would be great example to share with you.&lt;/p>
&lt;!-- more -->
&lt;p>[sourcecode language=&amp;quot;java&amp;quot; gutter=&amp;quot;false&amp;quot;]
${imp:import(org.apache.log4j.Logger)}
private static final Logger LOG = Logger.getLogger(${enclosing_type}.class);
[/sourcecode]&lt;/p>
&lt;p>You can add and change existing templates in Eclipse -&amp;gt; Preferences -&amp;gt; Java -&amp;gt; Editor -&amp;gt; Templates. There are other great examples when you scroll through the list, and you can export the templates to a file in your &lt;a href="http://www.rolfje.com/2011/07/03/1355/">shared SpiderOak folder&lt;/a> to have them available on all your machines.&lt;/p>
&lt;p>&lt;a href="screen-shot-2011-07-30-at-20-18-00.png">&lt;img src="screen-shot-2011-07-30-at-20-18-00.png?w=300" alt="Templates configuration in Eclipse">
&lt;/a>Remember to give your templates an easy name so you can quickly invoke them by code completion. Great examples are the existing &amp;quot;sysout&amp;quot; and &amp;quot;foreach&amp;quot; templates. I called mine &amp;quot;llog&amp;quot; with a double-l because &amp;quot;log&amp;quot; collides with too many other code completion possibilities.&lt;/p>
&lt;p>Experiment and enjoy your increased productivity.&lt;/p></description></item><item><title>Replacing Dropbox with Spideroak</title><link>https://realrolfje.github.io/2011/07/03/1355/</link><pubDate>Sun, 03 Jul 2011 14:39:30 +0000</pubDate><guid>https://realrolfje.github.io/2011/07/03/1355/</guid><description>
&lt;p>&lt;a href="https://spideroak.com/">&lt;img src="spideroak-logo.gif" alt="">
&lt;/a>After lies about Dropbox Employees &lt;a href="http://www.businessinsider.com/dropbox-updates-security-terms-of-service-to-say-it-can-decrpyt-files-if-the-government-asks-it-to-2011-4?op=1">not being able to see your files&lt;/a>, then proving that they do &lt;a href="http://blog.dropbox.com/?p=821">not do regression testing&lt;/a> on their security, the latest &lt;a href="http://hardware.slashdot.org/story/11/07/02/0515218/Dropbox-TOS-Includes-Broad-Copyright-License">change in terms of service&lt;/a> really was the last drop. So I dropped dropbox.&lt;/p>
&lt;p>I had become dependent on Dropbox to transfer files between my private and work machines, having my notes, configuration files and (encrypted thank god) password databases handy at all times. Searching around, there is really no other service like it. Although lots of products claim to have the same functionality, the &amp;quot;share this folder between all my machines&amp;quot; feature which dropbox proviced is really unsurpassed.&lt;/p>
&lt;p>I had to find an alternative solution which would meet the following criterea:&lt;/p>
&lt;pre>&lt;code> 1. has to be a single, native folder, instantly syncing with all other machines
2. has to be free or *really* cheap, minimum 2GB
3. has to use an encryption technology where no one else can ever read my files, not even the hosting party, not even at gunpoint
4. has to have client software for Windows, Mac and Linux
5. accessing data on my iPhone would be a nice bonus.
&lt;/code>&lt;/pre>
&lt;p>After some browsing around, there are two solutions that come close, one is &lt;a href="http://www.wuala.com/">Wuala&lt;/a>, and the other is &lt;a href="https://spideroak.com/download/referral/4b01a22f64d398afbd846637080bd2b4">Spideroak&lt;/a>.&lt;/p>
&lt;blockquote>For **one additonal GB of storage for life, [use my referal link](https://spideroak.com/download/referral/4b01a22f64d398afbd846637080bd2b4)** to register at SpiderOak. Read the whole article to add another 5GB to that.&lt;/blockquote>
&lt;p>&lt;strong>&lt;!-- more -->Why not Wuala?&lt;/strong>
Wuala looked really cool at first. It looked like they had a native Mac app, and easy syncing between computers. As it turns out, it's nastier than that. The Mac client is effectively a slow Java program in which you need to drag and drop your files to get them uploaded/downloaded. That's not seemless. There is a MacFUSE client that comes with the download, but that affectively makes Wuala into a seperate drive (not a local folder), and the MacFUSE client is low on support, and not compiled as 64bit runtime.&lt;/p>
&lt;p>Scanning the Wuala forums, there seemed too much confusion and bugs around the whole software product. Being made by a hardware manufacturer, that doesn't really surprise me.&lt;/p>
&lt;p>Spideroak has native clients for all platforms, and ticks all the boxes in my requirements list, really &lt;a href="https://spideroak.com/engineering_matters#true_privacy">nailing it in the security department&lt;/a>. Spideroak even conforms to my &lt;a href="http://rolfje.com/2007/12/19/if-not-https-then-exit/">&amp;quot;https please&amp;quot;&lt;/a> blogpost. A bit of poking around revealed that it is written in Python, and knowing that you can spot some Qt UI elements.&lt;/p>
&lt;p>&lt;strong>Enough talk. How do I get my magically synced folder back?&lt;/strong>
Spideroak is really targeted at backup, and has &amp;quot;sync&amp;quot; as a feature. So in order to get only syncing working, you need to setup a backup for that folder. Don't worry, here are all the steps you need to take to migrate from dropbox to Spideroak:&lt;/p>
&lt;pre>&lt;code> 1. Cancel your dropbox account as described on the [dropbox help pages](http://www.dropbox.com/help/43).
2. Uninstall dropbox from all your machines. Please note that this will not remove your dropbox folder. Your data will be safe. We can only hope that dropbox will remove that data from their servers, but I wouldn't bet on it.
3. Rename your &amp;quot;dropbox&amp;quot; folder into &amp;quot;Spideroak&amp;quot; if you really want to remove all dropbox references.
4. [Sign up at Spideroak with this referal link](https://spideroak.com/download/referral/4b01a22f64d398afbd846637080bd2b4), and use the promocode &amp;quot;worldbackupday&amp;quot; to increase your storage for free to 5GB for one year, PLUS 1GB of free storage if you used my referal link. That's a total of 6 free GB!
5. Download the client for your platform(s) and install it on all machines where you had dropbox running (no reboot required).
6. After installation, click on the &amp;quot;backup&amp;quot; tab, click on the &amp;quot;advanced&amp;quot; button on the right, and select your Spideroak (former dropbox) folder. Click save. Spideroak should now start backing up that folder.
&lt;/code>&lt;/pre>
&lt;p>&lt;a href="1-backup-tab.png">&lt;img src="1-backup-tab.png?w=300" alt="Selecting the sync folder for backup">
&lt;/a>
7. Syncing this folder with other computers is a bit strange in Spideroak, since you need to &amp;quot;pair&amp;quot; folders. I choose to have one &amp;quot;central&amp;quot; computer, which is my Mac Mini, which is always on and will serve as the &amp;quot;center&amp;quot; of the synchronization setup. It does not have to be always on, it's just administrative convenience. You will not notice the difference later on, don't worry.
8. Repeat the installation process on any other computer you removed dropbox from.
9. Now for the crucial part: On one of your computers, click on the &amp;quot;Sync&amp;quot; tab and connect all the Spideroak folders on your machines in one sync job.
&lt;a href="spideroak-sync.png">&lt;img src="spideroak-sync.png" alt="How to synchronize multiple machines with Spideroak">
&lt;/a>&lt;a href="2-sync-tab.png">
&lt;/a> In the screenshot above I have four machines/devices. To add a fifth, I would have to click the little &amp;quot;+&amp;quot; to add a sync folder and select the folder on the fifth machine.
10. Once the backup is complete, Spideroak will start syncing all your synced folders to all machines.&lt;/p>
&lt;p>If everything went as planned,  Spideroak will now act as dropbox. You'll have a local folder where you can put stuff in, and it will get magically transferred in the background to all your devices. Please note that this will not be as fast as you were used to with dropbox.&lt;/p>
&lt;p>I've written a feature request to Spideroak to make a simple client which just syncs a folder to &lt;em>any&lt;/em> machine in the account, without exposing all this setup trickery to the end user. If you want to help promote that feature request, drop them a line and refer to ticket &lt;strong>[SOS #56358]&lt;/strong>. Because in the end, all the world wants is a safe, simple dropbox.&lt;/p>
&lt;p>From now on, you never have to worry about the brilliant people who invented dropbox, surrounded by the incompitent idiots and lawyers which will ruin the company for good.&lt;/p>
&lt;p>Goodbye dropbox, sorry to see you go.&lt;/p></description></item><item><title>Why Jenkins does not detect Failures</title><link>https://realrolfje.github.io/2011/06/20/why-jenkins-does-not-detect-failures/</link><pubDate>Mon, 20 Jun 2011 21:04:37 +0000</pubDate><guid>https://realrolfje.github.io/2011/06/20/why-jenkins-does-not-detect-failures/</guid><description>
&lt;p>&lt;a href="http://jenkins-ci.org/">&lt;img src="jenkinsnofail.png" alt="">
&lt;/a>Jenkins, the brilliant Continuous Integration build server, has a bit of a problem with the Maven surefire jUnit test plugin. Last sunday, I discovered that our Jenkins build server suddenly started ignoring test failures. While the logfile clearly states that the Unittests contain failures, Jenkins marks the builds as &amp;quot;stable&amp;quot;.&lt;/p>
&lt;p>After some digging around, I found that even though Jenkins explicitly tells you in the logfile that it will fail the build, it will not do so if the Surefire XML reports are not generated. In our case, somebody in the team decided that the generation of the XML Surefire reports was taking too long and had disabled them in the Maven pom.xml.&lt;/p>
&lt;p>In order to solve this, I re-enabled the XML reports and voila, Jenkins happily started reporting errors again. Here is the correct Surefire plugin configuration for you to use in your maven pom.xml file:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;xml&amp;quot; toolbar=&amp;quot;false&amp;quot; wraplines=&amp;quot;false&amp;quot; padlinenumbers=&amp;quot;true&amp;quot; gutter=&amp;quot;false&amp;quot; autolinks=&amp;quot;false&amp;quot; highlight=&amp;quot;10&amp;quot;]
&lt;plugin>
&lt;groupId>org.apache.maven.plugins&lt;/groupId>
&lt;artifactId>maven-surefire-plugin&lt;/artifactId>
&lt;version>2.8&lt;/version>
&lt;configuration>&lt;/p>
&lt;pre>&lt;code> &amp;lt;!-- Please note that Jenkins needs Surefire
XML reports in order for detection to work.
Keep this property set to false. --&amp;gt;
&amp;lt;disableXmlReport&amp;gt;false&amp;lt;/disableXmlReport&amp;gt;
&amp;lt;/configuration&amp;gt;
&lt;/code>&lt;/pre>
&lt;/plugin>
[/sourcecode]</description></item><item><title>^H(eaven) key binding in Eclipse</title><link>https://realrolfje.github.io/2011/06/19/heaven-key-binding-in-eclipse/</link><pubDate>Sun, 19 Jun 2011 19:21:49 +0000</pubDate><guid>https://realrolfje.github.io/2011/06/19/heaven-key-binding-in-eclipse/</guid><description>
&lt;p>&lt;a href="search-window.png">&lt;img src="search-window.png?w=150" alt="Eclipse File Search Window">
&lt;/a>As a long time user of Eclipse, I have never understood the any of the tabs of the Search panel in Eclipse. JavaScript search, Java Search, Remote Search, they all make no sense to a modern man who is used to a single search box which searches everything. So I always use the &amp;quot;File Search&amp;quot; Tab, which does exactly what I want 99% of the time.&lt;/p>
&lt;p>File Search always requires mouseclicks. To open the Search window and select the correct tab. It was not until recently that I realized that I could actually reassign the ^H (Control - H) key combination to pop up the File Search tab. If you are an avid Eclipse user you've probably already done this, or know how to do this. If you are new to eclipse, or lazy like me, read on to see how you can re-map this key binding.&lt;/p>
&lt;!-- more -->
&lt;p>To remap ^H to &amp;quot;File Search&amp;quot;, do the following:&lt;/p>
&lt;p>Open Eclipse preferences and go to &amp;quot;General -&amp;gt; keys&amp;quot;. You should see the following settings screen:&lt;/p>
&lt;p>&lt;a href="eclipse-settings-key-binding.png">&lt;img src="eclipse-settings-key-binding.png?w=300" alt="Eclipse Key Bindings Preference page">
&lt;/a>&lt;/p>
&lt;pre>&lt;code> * In the filter text, type &amp;quot;file search&amp;quot;. The command list should now contain only one entry, &amp;quot;File Search&amp;quot;.
* Highlight the &amp;quot;File Search&amp;quot; command
* Click in the &amp;quot;Binding&amp;quot; field and press ^H. You should now see that you've created a conflict with the &amp;quot;Open Search Dialog&amp;quot; in the &amp;quot;conflicts&amp;quot; list on the right.
* Select the conflict you want to remove, and empty the key binding field.
* Press the &amp;quot;Ok&amp;quot; button to close the preferences screen.
&lt;/code>&lt;/pre>
&lt;p>Now you're all done. When you're in an editor and want to see if selected text is present in other parts of your project&lt;/p>
&lt;p>Let's say you are looking at Java source of an Ibatis SqlMapClient and want to find the matching statement in any of the the SqlMap.xml files. You can now simply select the text in the Java file, hit ^H, Enter, and voila, you get a list of all files with that same text in it, anywhere in your enclosing project or workspace, without copy-pasting or even touching the mouse.&lt;/p>
&lt;p>Now go play with your new found piece of heaven.&lt;/p></description></item><item><title>Changing the Order of your UnitTests</title><link>https://realrolfje.github.io/2011/04/01/changing-the-order-of-your-unittests/</link><pubDate>Fri, 01 Apr 2011 21:17:17 +0000</pubDate><guid>https://realrolfje.github.io/2011/04/01/changing-the-order-of-your-unittests/</guid><description>
&lt;p>&lt;img src="toddler-shape-colour-sorting-puzzle.jpg" alt="">
A few months ago we had a problem where Eclipse could not automatically run all jUnit unit tests in a package if that package references a class called &amp;quot;enum&amp;quot;, which is a reserved word in Java 1.6. I'll spare you the details, but we were forced to create a TestSuite. Normally we avoid this construction because it's easy to create a new unit test and forget to add it to the correct TestSuit. So as a workaround we wrote some code which could build and return a TestSuite dynamically. Right-click in eclipse, select &amp;quot;Run as Unittest&amp;quot;, sit back and enjoy.&lt;/p>
&lt;p>Lately this piece of code came in handy while testing another application, which required the removal of data from a database. Yes I know, Unittests should maybe not depend on databases because it leans towards integration testing, but here we are, and I need to solve it. I used the old TestSuite code and changed it so that the TestCase I needed to run first was singled out, while still maintaining the functionality of auto-detecting testcases in the source folder.&lt;/p>
&lt;!-- more -->I've cleaned up the code and made an example implementation which sorts the test cases in alpabetical order. It's a simple starting point and definetely not the prettiest code I've ever written but it works, it helped me and it might help you. Copy/paste, and adjust to your own needs.
&lt;p>Have fun!&lt;/p>
&lt;p>[sourcecode language=&amp;quot;java&amp;quot; toolbar=&amp;quot;false&amp;quot; wraplines=&amp;quot;true&amp;quot; padlinenumbers=&amp;quot;true&amp;quot; gutter=&amp;quot;false&amp;quot; autolinks=&amp;quot;false&amp;quot;]
package com.rolfje.example;&lt;/p>
&lt;p>import java.io.File;
import java.lang.reflect.Modifier;
import java.util.ArrayList;
import java.util.Collections;
import java.util.Comparator;
import java.util.Iterator;
import java.util.List;&lt;/p>
&lt;p>import junit.framework.Test;
import junit.framework.TestSuite;&lt;/p>
&lt;p>/**&lt;/p>
&lt;ul>
&lt;li>Constructs a testsuite by dynamically scanning for&lt;/li>
&lt;li>classes ending in &amp;quot;*Test&amp;quot;, and allows for re-ordering of&lt;/li>
&lt;li>the Classes in the Suite.
*/
public class OrderedTestSuite {&lt;/li>
&lt;/ul>
&lt;p>public static Test suite() throws Exception {&lt;/p>
&lt;pre>&lt;code>// Find all test classes
List testClasses = findTestClasses();
// Custom test ordering example: Sort test classes in
// natural alphabetic order based on simple classname
Collections.sort(testClasses, new Comparator() {
@Override
public int compare(Class o1, Class o2) {
return o1.getSimpleName().compareTo(
o2.getSimpleName());
}
});
// Convert the Set to a TestSuite
TestSuite suite = new TestSuite(
&amp;quot;Custom ordered TestSuite&amp;quot;);
for (Class testClass : testClasses) {
suite.addTestSuite(testClass);
}
return suite;
&lt;/code>&lt;/pre>
&lt;p>}&lt;/p>
&lt;p>private static List findTestClasses()
throws Exception {
List testClasses = new ArrayList();&lt;/p>
&lt;pre>&lt;code>File testDir = getRootOfTestTree();
List files = new ArrayList();
getTestFiles(files, testDir);
int nameIdx = testDir.getAbsolutePath().length() + 1;
for (Iterator iterator = files.iterator(); iterator
.hasNext();) {
File file = (File) iterator.next();
String className = file.getAbsolutePath().substring(
nameIdx);
className = className
.replace(File.separatorChar, '.');
className = className.replaceAll(&amp;quot;.class&amp;quot;, &amp;quot;&amp;quot;);
Class testClass = Class.forName(className);
// Prevent recursion
if (OrderedTestSuite.class.equals(testClass)) {
continue;
}
if (isTestClass(testClass)) {
testClasses.add(testClass);
}
}
return testClasses;
&lt;/code>&lt;/pre>
&lt;p>}&lt;/p>
&lt;p>/**
*&lt;/p>
&lt;ul>
&lt;li>@param clazz Class to check&lt;/li>
&lt;li>@return &lt;code>true&lt;/code> if the given Class is a&lt;/li>
&lt;li>
&lt;pre>&lt;code> usable implementation of {@link Test}
&lt;/code>&lt;/pre>
&lt;/li>
&lt;/ul>
&lt;p>*/
private static boolean isTestClass(Class clazz)
throws Exception {
int modifiers = clazz.getModifiers();
if (Modifier.isAbstract(modifiers)
|| Modifier.isInterface(modifiers)
|| Modifier.isPrivate(modifiers)) {
return false;
}&lt;/p>
&lt;pre>&lt;code>return Test.class.isInstance(clazz.newInstance());
&lt;/code>&lt;/pre>
&lt;p>}&lt;/p>
&lt;p>/**&lt;/p>
&lt;ul>
&lt;li>@return The root directory of the Java Test sources.
*/
private static File getRootOfTestTree() {
String meAsClasspathResource = OrderedTestSuite.class
.getResource(
OrderedTestSuite.class.getSimpleName()
+ &amp;quot;.class&amp;quot;).getFile()
.replace('/', File.separatorChar);
String myLocation = OrderedTestSuite.class
.getCanonicalName();
myLocation = myLocation
.replace('.', File.separatorChar);&lt;/li>
&lt;/ul>
&lt;pre>&lt;code>if (meAsClasspathResource == null
|| !meAsClasspathResource.contains(myLocation)) {
throw new RuntimeException(
&amp;quot;Can not find the class resource for &amp;quot;
+ OrderedTestSuite.class.getCanonicalName());
}
meAsClasspathResource = meAsClasspathResource
.substring(0,
meAsClasspathResource.indexOf(myLocation));
File dir = new File(meAsClasspathResource);
if (!dir.exists()) {
throw new RuntimeException(&amp;quot;The directory &amp;quot;
+ dir.getAbsolutePath() + &amp;quot; does not exist.&amp;quot;);
}
if (!dir.isDirectory()) {
throw new RuntimeException(dir.getAbsolutePath()
+ &amp;quot; is not a directory.&amp;quot;);
}
return dir;
&lt;/code>&lt;/pre>
&lt;p>}&lt;/p>
&lt;p>/**&lt;/p>
&lt;ul>
&lt;li>Recursively iterates through the nextFiles array to&lt;/li>
&lt;li>find all test files. which it subsequently returns.&lt;/li>
&lt;li>&lt;/li>
&lt;li>@param allTestFilesSoFar&lt;/li>
&lt;li>
&lt;pre>&lt;code> new Files will be added to this List
&lt;/code>&lt;/pre>
&lt;/li>
&lt;li>@param nextDir&lt;/li>
&lt;li>
&lt;pre>&lt;code> The directory to scan for java Test files
&lt;/code>&lt;/pre>
&lt;/li>
&lt;/ul>
&lt;p>*/
private static void getTestFiles(
List allTestFilesSoFar, File nextDir) {
File[] files = nextDir.listFiles();
for (int t = 0; t &amp;lt; files.length; t++) {
File nextFile = files[t];
if (nextFile.isDirectory()) {
getTestFiles(allTestFilesSoFar, nextFile);
} else if (nextFile.getName().endsWith(&amp;quot;Test.class&amp;quot;)
|| nextFile.getName().endsWith(&amp;quot;Suite.class&amp;quot;)) {
allTestFilesSoFar.add(nextFile);
}
}
}
}
[/sourcecode]&lt;/p></description></item><item><title>Your Maven Java WEB project in Eclipse WTP</title><link>https://realrolfje.github.io/2011/01/29/your-maven-java-web-project-in-eclipse-wtp/</link><pubDate>Fri, 28 Jan 2011 22:51:10 +0000</pubDate><guid>https://realrolfje.github.io/2011/01/29/your-maven-java-web-project-in-eclipse-wtp/</guid><description>
&lt;p>&lt;a href="http://www.eclipse.org/webtools/">&lt;img src="wtp_logo_2010.png" alt="">
&lt;/a>&lt;/p>
&lt;p>In our company, all Java projects are setup with Maven configuration so that after a &amp;quot;mvn eclipse:eclipse&amp;quot; any developer is generally good to go. One of these projects was a web project but would not transform into a WTP project. By running &amp;quot;mvn eclispe:eclipse&amp;quot; it became a Java project, but could not be added to a Server in Eclipse. It was not a WTP project.&lt;/p>
&lt;p>I learned that the author of the project tried but never got the WTP plugin to work properly. Using the Google, I found more people who are having the same problem converting their existing Maven Java Web projects in Eclipse into a WTP project. There are even a few desperate articles describing how to edit your .project and .classpath files. Oh dear. This calls for an article on &lt;a href="http://www.rolfje.com">www.rolfje.com&lt;/a>.&lt;/p>
&lt;!-- more -->It all came down to the maven-eclipse-plugin which would just not configure my project properly. I soon learned that in their infinite wisdom, the development team decided that the maven-eclipse-plugin no longer uses a default value for the _&lt;wtpversion>_ setting. Even if you have the _&lt;wtpapplicationxml>true&lt;/wtpapplicationxml>_ element in your _pom.xml_, without the _&lt;wtpversion>_ tag the maven-eclipse-plugin will ignore all wtp project settings silently. So the solution was rather simple:
&lt;p>**Short answer
**The short answer to this fun evening full of Googling and reading is: Add the &lt;em>&lt;wtpversion>&lt;/em> tag to your maven-eclipse-plugin configuration, run &lt;em>&amp;quot;mvn clean eclipse:eclipse&amp;quot;&lt;/em> and refresh your project. That's it.&lt;/p>
&lt;p>**The long version
**For people who like to copy-paste (like me): Change your &lt;em>pom.xml&lt;/em> file in the root of your project to include the &lt;em>&lt;wtpapplicationxml>&lt;/em> and &lt;em>&lt;wtpversion>&lt;/em> tags as shown at the bottom of this example pom file:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;xml&amp;quot; toolbar=&amp;quot;false&amp;quot; wraplines=&amp;quot;true&amp;quot; padlinenumbers=&amp;quot;true&amp;quot; autolinks=&amp;quot;false&amp;quot; highlight=&amp;quot;46,47&amp;quot;]
&lt;project>
&lt;packaging>war&lt;/packaging>&lt;/p>
&lt;dependencies>
[...]
&lt;/dependencies>
&lt;build>
&lt;resources>
&lt;resource>
&lt;directory>src/main/java&lt;/directory>
&lt;includes>
&lt;include>**/*.xml&lt;/include>
&lt;include>**/*.xsd&lt;/include>
&lt;include>**/*.wsdl&lt;/include>
&lt;/includes>
&lt;/resource>
&lt;/resources>
&lt;pre>&lt;code>&amp;lt;testResources&amp;gt;
&amp;lt;testResource&amp;gt;
&amp;lt;directory&amp;gt;src/test/java&amp;lt;/directory&amp;gt;
&amp;lt;includes&amp;gt;
&amp;lt;include&amp;gt;**/*.xml&amp;lt;/include&amp;gt;
&amp;lt;/includes&amp;gt;
&amp;lt;/testResource&amp;gt;
&amp;lt;/testResources&amp;gt;
&amp;lt;plugins&amp;gt;
&amp;lt;plugin&amp;gt;
&amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
&amp;lt;artifactId&amp;gt;maven-compiler-plugin&amp;lt;/artifactId&amp;gt;
&amp;lt;configuration&amp;gt;
&amp;lt;source&amp;gt;1.6&amp;lt;/source&amp;gt;
&amp;lt;target&amp;gt;1.6&amp;lt;/target&amp;gt;
&amp;lt;/configuration&amp;gt;
&amp;lt;/plugin&amp;gt;
&amp;lt;plugin&amp;gt;
&amp;lt;artifactId&amp;gt;maven-war-plugin&amp;lt;/artifactId&amp;gt;
&amp;lt;version&amp;gt;2.1.1&amp;lt;/version&amp;gt;
&amp;lt;/plugin&amp;gt;
&amp;lt;plugin&amp;gt;
&amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
&amp;lt;artifactId&amp;gt;maven-eclipse-plugin&amp;lt;/artifactId&amp;gt;
&amp;lt;configuration&amp;gt;
&amp;lt;wtpapplicationxml&amp;gt;true&amp;lt;/wtpapplicationxml&amp;gt;
&amp;lt;wtpversion&amp;gt;2.0&amp;lt;/wtpversion&amp;gt;
&amp;lt;/configuration&amp;gt;
&amp;lt;/plugin&amp;gt;
&amp;lt;/plugins&amp;gt;
&lt;/code>&lt;/pre>
&lt;/build>
&lt;/project>
[/sourcecode]
&lt;p>Open a command prompt at the root of your project (where the_ pom.xml_ file is) and have maven re-fresh the project, like this:&lt;/p>
&lt;p>[sourcecode light=&amp;quot;true&amp;quot;]
mvn clean eclipse:eclipse
[/sourcecode]&lt;/p>
&lt;p>Open eclipse, right click on the root of your project and select &amp;quot;refresh&amp;quot; (or press F5).&lt;/p>
&lt;p>After you've done this, you should have &amp;quot;Web Project Settings&amp;quot; in the properties of the eclipse project. If you right-click on your defined servers in Eclipse, the project should show up in the &amp;quot;Add and Remove&amp;quot; dialog.&lt;/p>
&lt;p>Have fun!&lt;/p></description></item><item><title>Why some App Store apps won't install</title><link>https://realrolfje.github.io/2011/01/09/why-some-app-store-apps-wont-install/</link><pubDate>Sun, 09 Jan 2011 13:37:13 +0000</pubDate><guid>https://realrolfje.github.io/2011/01/09/why-some-app-store-apps-wont-install/</guid><description>
&lt;p>&lt;a href="http://pcweenies.com/tag/mac-app-store-comics/">&lt;img src="schermafbeelding-2011-01-09-om-12-28-53.png" alt="App Store Icon">
&lt;/a>I was happily playing around with the appstore, and came across this funny free game called &amp;quot;Hedgewars&amp;quot;. Originally a free Linux game, it apparently got ported to the Mac and put in the App Store, just as a slew of Flash-based games (yes, Steve has some 'splainin' to do).&lt;/p>
&lt;p>I tried to install Hedgewars on my trusty Mac Mini and got this message saying &amp;quot;This Application can not be installed on this machine&amp;quot;:&lt;/p>
&lt;p>&lt;a href="schermafbeelding-2011-01-08-om-16-45-40.png">&lt;img src="schermafbeelding-2011-01-08-om-16-45-40.png?w=300" alt="">
&lt;/a>&lt;/p>
&lt;!-- more -->There was no additional information on what was causing this. So the first thing I did was check out my computer information and the requirements for running this game, which seemed to check out fine:
&lt;table width="100%" class="aligncenter" >
&lt;tbody >
&lt;tr >
&lt;td >[![](schermafbeelding-2011-01-09-om-00-40-38.png?w=122)
](schermafbeelding-2011-01-09-om-00-40-38.png)
&lt;/td>
&lt;td >[![](schermafbeelding-2011-01-09-om-12-15-55.png)
](schermafbeelding-2011-01-09-om-12-15-55.png)
&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
I was running the correct version of OSX, so what was the problem here? My neighbor came over and I showed him this funny problem. He found out that Hedgewars could be downloaded from the developers site, and so we did. After opening the DMG, we were greeted with the funny Application Icon decoration show on the right:
&lt;p>&lt;a href="schermafbeelding-2011-01-09-om-12-18-25.png">&lt;img src="schermafbeelding-2011-01-09-om-12-18-25.png" alt="">
&lt;/a>Usually this means that the application is compiled for a different system than you're trying to run it on. This can happen when you have an older generation PowerPC processor and try to run a non-universal-binary Intel application. So we checked the properties on the application, and it looked like OSX had it wrong. It's an Intel app, and we're running an Intel Mac. So what gives?&lt;/p>
&lt;p>The next step was to open the Terminal so we could dissect this app on the command line, showing it's inner guts. Apps have all kinds of interesting XML and plist files telling the operating system what to do and how to start it up. Here's what we found:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;text&amp;quot; light=&amp;quot;true&amp;quot; highlight=&amp;quot;1,2,8&amp;quot;]
rolf@Mac-mini$ cd Hedgewars.app/Contents/MacOS/
rolf@Mac-mini$ ls -l
total 21344
-rwxr-xr-x 1 rolf admin 2627208 27 dec 21:39 hedgewars
-rwxr-xr-x@ 1 rolf admin 5913164 27 dec 21:37 hedgewars-server
-rwxr-xr-x@ 1 rolf admin 2381240 27 dec 21:37 hwengine&lt;/p>
&lt;p>rolf@Mac-mini$ file *
hedgewars: Mach-O 64-bit executable x86_64
hedgewars-server: Mach-O executable i386
hwengine: Mach-O universal binary with 1 architecture
hwengine (for architecture x86_64): Mach-O 64-bit executable x86_64
[/sourcecode]&lt;/p>
&lt;p>The Hedgewars package has 3 executables, one 64-bit x86, one i386, and one universal binary which only contains an executable for 64-bit x86. We guess the developers made a bit of a mess of this. As expected, we could start the i386 executable just fine:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;text&amp;quot; light=&amp;quot;true&amp;quot; highlight=&amp;quot;1&amp;quot;]
rolf@Mac-mini$ ./hedgewars-server
Listening on port 46631
^C
[/sourcecode]&lt;/p>
&lt;p>But the x86_64 executable and the universal binary would not start:&lt;/p>
&lt;p>[sourcecode language=&amp;quot;text&amp;quot; light=&amp;quot;true&amp;quot; highlight=&amp;quot;1,4&amp;quot;]
rolf@Mac-mini$ ./hedgewars
-bash: ./hedgewars: Bad CPU type in executable&lt;/p>
&lt;p>rolf@Mac-mini$ ./hwengine
-bash: ./hwengine: Bad CPU type in executable
[/sourcecode]&lt;/p>
&lt;p>Because this Mac Mini runs a Core Duo, we figured the x86 was okay, but we weren't sure about the 64-bit architecture. A quick peek at &lt;a href="http://en.wikipedia.org/wiki/Intel_Core">Wikipedia&lt;/a> confirmed our suspicion: The Intel Core Duo is not a 64 bit processor. In fact, 64-bit is the major difference between &amp;quot;Core Duo&amp;quot; and &amp;quot;Core 2 Duo&amp;quot;. Additional &amp;quot;Googling&amp;quot; showes that &lt;a href="http://support.apple.com/kb/ht3696">Apple Support knows that&lt;/a>, too.&lt;/p>
&lt;p>So there you have it. The Mac App Store does not tell you what the problem really is, but chances are that if you get the &amp;quot;Could not install this Application on this machine&amp;quot; error, you have 32-bit architecture (the Core Duo) and the developer compiled the application for 64-bit architecture (the Core 2 Duo).&lt;/p>
&lt;p>Why in god's name hedgewars has to be a 64-bit application beats me, but that's something I'm not going to change I'm afraid. It turns out that this as been &lt;a href="http://code.google.com/p/hedgewars/issues/detail?id=147&amp;amp;q=core%20duo">reported as a bug&lt;/a> to the Hedgewars team, which hasn't been picked up yet.&lt;/p>
&lt;p>The good news for older model Intel Mac Mini Core Duo owners out there: You can replace your CPU with a Core 2 Duo processor. You'll need one of these:&lt;/p>
&lt;ul>
&lt;li>Core 2 Duo T7200 (2.00Ghz)&lt;/li>
&lt;li>Core 2 Duo T7400 (2.16Ghz)&lt;/li>
&lt;li>Core 2 Duo T7600 (2.33Ghz).&lt;/li>
&lt;/ul>
&lt;p>The processors are quite pricey, our quick check showed that they're all above the $200 price mark, which may be a bit steep for a processor upgrade. We expected about half that, so that was a bummer. Should you want to upgrade your CPU, buy thermal paste, and follow a good howto. To get a feeling of what you're getting into, check out the &lt;a href="http://www.ifixit.com/Teardown/Mac-mini-Model-A1283-Teardown/659/1">iFixit teardown of the Mac Mini&lt;/a>.&lt;/p>
&lt;p>The other option would be to trade in your Core Duo Mac Mini for a Core 2 Duo Mac mini. It's safer and probably about as costly as buying one of the strangely priced Core 2 Duo processors.&lt;/p></description></item><item><title>Anonimatron featured on Softpedia</title><link>https://realrolfje.github.io/2010/09/26/anonimatron-featured-on-softpedia/</link><pubDate>Sun, 26 Sep 2010 19:08:47 +0000</pubDate><guid>https://realrolfje.github.io/2010/09/26/anonimatron-featured-on-softpedia/</guid><description>
&lt;p>&lt;a href="http://www.softpedia.com/progClean/anonimatron-Clean-170141.html">&lt;img src="softpedia_clean_award_f.gif" alt="100% CLEAN award granted by Softpedia">
&lt;/a>&lt;/p>
&lt;p>As you may know I started working on a little tool to anonymize databases. Nothing fancy, just a Java tool that uses jdbc to replace live data with fake generated data which still looks representative enough to do testing and make believable screenshots. Oh and did I mention that it is 100% free of charge? You can get the &lt;a href="http://sourceforge.net/projects/anonimatron/">latest version&lt;/a> from SourceForge.net.&lt;/p>
&lt;p>I recently received an email from Softpedia that &lt;a href="http://sourceforge.net/projects/anonimatron/">Anonimatron&lt;/a> has been added to their catalog. Their email states:&lt;/p>
&lt;blockquote>"anonimatron" has been tested in the Softpedia labs using several industry-leading security solutions and found to be completely clean of adware/spyware components. We are impressed with the quality of your product and encourage you to keep these high standards in the future.&lt;/blockquote>
&lt;p>Anonimatron is written in Java and will ron on Linux, OSX and Windows machines. The current version is 1.3, and it should be considered &amp;quot;beta&amp;quot; at this point.&lt;/p>
&lt;p>&lt;a href="http://sourceforge.net/projects/anonimatron/support">Let me know&lt;/a> what you think!&lt;/p></description></item><item><title>How to share Garmin routes with your friends</title><link>https://realrolfje.github.io/2010/06/30/how-to-share-garmin-routes-with-your-friends/</link><pubDate>Wed, 30 Jun 2010 21:19:29 +0000</pubDate><guid>https://realrolfje.github.io/2010/06/30/how-to-share-garmin-routes-with-your-friends/</guid><description>
&lt;p>&lt;img src="schermafbeelding-2010-06-16-om-20-40-16.png" alt="Recalculated route (green) does not match the original (pink)">
I've been struggling to get routes into my Garmin Zūmo® in such a way that it matches the plans of the original author, while at the same time setting the Garmin to &amp;quot;recalculate&amp;quot; so that when I take a wrong turn, it will send me back to the track. After reading a lot on the Garmin forums, and experimenting with this on my two recent road trips (one to Eifel and one to Sauerland in Germany) I can say I have found a way to do this. It's a bit of work, but it will make your trip a lot more trouble-free. Here's the recipe.&lt;/p>
&lt;p>&lt;strong>Needed:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Nice motorcycle route in a GPX or GDB file&lt;/li>
&lt;li>&lt;a href="http://www8.garmin.com/support/download_details.jsp?id=4435">Garmin BaseCamp&lt;/a> (BaseCamp 3.0.1.0 for OSX at time of writing)&lt;/li>
&lt;li>&lt;a href="https://buy.garmin.com/shop/shop.do?cID=135&amp;amp;pID=15000">Garmin Zūmo®&lt;/a> (model 660 at time of writing)&lt;/li>
&lt;/ul>
&lt;!-- more -->**Before you begin:**
&lt;p>Open &amp;quot;Preferences...&amp;quot; in Garmin BaseCamp on the Mac and make sure you selected &lt;em>&amp;quot;Shortest Dinstance&amp;quot;&lt;/em> on the routing tab. This is to prevent routing errors because of changed maximum speeds on different maps. Speeds may differ, but distances are always the same.
On the Zūmo, make sure you matched the BaseCamp routing settings as well as you can.&lt;/p>
&lt;p>&lt;strong>1. Import the route&lt;/strong>
You friend sends you a file with a great motorcycle route, in this case &lt;em>&amp;quot;Demo.GPX&amp;quot;&lt;/em>
You import the file into BaseCamp by clicking on &lt;em>&amp;quot;File&amp;quot; -&amp;gt; &amp;quot;Import...&amp;quot;&lt;/em> and selecting the file. Basecamp loads the route and it shows up as follows:&lt;/p>
&lt;p>&lt;a href="schermafbeelding-2010-06-16-om-20-26-19.png">&lt;img src="schermafbeelding-2010-06-16-om-20-26-19.png?w=450" alt="">
&lt;/a>&lt;/p>
&lt;p>&lt;strong>2. Copy the route&lt;/strong>
In order to make sure your Zūmo will re-calculate the route as your friend intended it, you may need to correct for mismatches in maps, software versions or settings influencing the calculation. To correct the route, we copy it. Select the imported route (it will highlight on the map), right click it and select &lt;em>&amp;quot;Duplicate&amp;quot;&lt;/em>. You should now have 2 routes in the List on the left side of the screen:&lt;/p>
&lt;p>&lt;a href="schermafbeelding-2010-06-16-om-20-33-11.png">&lt;img src="schermafbeelding-2010-06-16-om-20-33-11.png" alt="">
&lt;/a>&lt;/p>
&lt;p>Next, right click the copied route (in this case &lt;em>&amp;quot;Demo Route 1&amp;quot;&lt;/em>) and choose &lt;em>&amp;quot;Get Info&amp;quot;&lt;/em>. On the &lt;em>&amp;quot;Summary&amp;quot;&lt;/em> tab, choose a different color for the copied route, so we know what we are editing. In this case, I choose green.&lt;/p>
&lt;p>&lt;strong>3. Recalculate and fix the copy&lt;/strong>
Close the info screen and right-click the copied route again, this time choosing &lt;em>&amp;quot;Recalculate&amp;quot;&lt;/em>. To demonstrate what happens when settings differ, I exported the route with the (wrong) &lt;em>&amp;quot;Shortest Time&amp;quot;&lt;/em> setting, and imported/recalculated it with the (correct) &lt;em>&amp;quot;Shortest Distance&amp;quot;&lt;/em> setting. We see that the copied route is now recalculated and does not match the original:&lt;/p>
&lt;p>&lt;a href="schermafbeelding-2010-06-16-om-20-40-16.png">&lt;img src="schermafbeelding-2010-06-16-om-20-40-16.png" alt="Recalculated route (green) does not match the original (pink)">
&lt;/a>&lt;/p>
&lt;p>Because your friend will likely be riding the pink route, you want to correct your copy of the route so that both BaseCamp and the Zūmo will send you down the roads you intended to ride. You can do this by selecting the &lt;em>&amp;quot;Selector Tool&amp;quot;&lt;/em> and dragging the green route towards the purple one. Each time you do this, it will create a new waypoint in your copied route.&lt;/p>
&lt;p>&lt;a href="schermafbeelding-2010-06-16-om-20-42-51.png">&lt;img src="schermafbeelding-2010-06-16-om-20-42-51.png" alt="Selector tool">
&lt;/a>When placing a new waypoint, try to avoid placing waypoints on intersections. This will give both BaseCamp and the Zūmo more room to choose different routes, which you don't want. Think of it this way: You want to be driving on a certain road, not on a certain intersection.&lt;/p>
&lt;p>Once you think you are ready, zoom in to about 300m level, and carefully scan the route so that you can correct the final details of the route. Because we selected different colors, the differences are easy to spot, and it's easy to see how to correct them. This is what it looks like when making corrections, note that I'm dragging the new waypoint to the middle of the road, as mentioned earlier:&lt;/p>
&lt;p>&lt;a href="schermafbeelding-2010-06-16-om-20-49-20.png">&lt;img src="schermafbeelding-2010-06-16-om-20-49-20.png" alt="Dragging waypoint to correct route">
&lt;/a>&lt;/p>
&lt;p>&lt;strong>4. Fine-tune the waypoints&lt;/strong>
After the route looks as intented, you need to make sure that the waypoints are placed perfectly on the road. This is particularly important on 2-way highways, where a misplaced waypoint can make your Zūmo think you want to be riding in the other direction on this highway.&lt;/p>
&lt;p>Right-click the copied route and select &lt;em>&amp;quot;Get Info&amp;quot;&lt;/em>. If not already selected, choose the &lt;em>&amp;quot;Via Points&amp;quot;&lt;/em> tab and place a checkmark on the &lt;em>&amp;quot;Center on Selected&amp;quot;&lt;/em> option. Now click on the first waypoint, and see if it is placed exactly where you want it to be. If it is not, press the &lt;em>&amp;quot;alt&amp;quot;&lt;/em> (also called &lt;em>&amp;quot;option&amp;quot;)&lt;/em> key on your keyboard and use the Selector Tool to drag the waypoint to the correct location. Below you can see a misplaced waypoint that needs to be corrected:&lt;/p>
&lt;p>&lt;a href="schermafbeelding-2010-06-16-om-20-52-51.png">&lt;img src="schermafbeelding-2010-06-16-om-20-52-51.png?w=450" alt="Misaligned waypoint">
&lt;/a>&lt;/p>
&lt;p>&lt;strong>5. Export the route&lt;/strong>
If you placed the copied route in the same List as the original route (like in this example), you might want to delete the original route from the list (or from your Collection if you choose), and save the resulting list into a GPX file. This is an extra safety measure, giving you a backup of the route to take along on your trip on an SD card.&lt;/p>
&lt;p>You have 2 options in BaseCamp for transporting the route to the Zūmo. Either you send it directly to the device, or you save the exported GPX file onto the SD card in the &lt;em>/Garmin/GPX&lt;/em> folder. Doing the latter will enable you to recover from a crashing Zūmo, because you can re-import the route from the SD card.&lt;/p>
&lt;p>&lt;strong>6. Check the imported route in the Zūmo&lt;/strong>
Whether you exported it directly to the Zūmo, or you put it onto the SD card, a few seconds after booting the Zūmo will tell you that it found new user data. You choose &amp;quot;import&amp;quot; and select the route(s) you want to import. I did notice that selecting &amp;quot;&lt;em>Import all&amp;quot;&lt;/em> for larger routes, the Zūmo tells you after 5 routes or so that it failed. This is probably a memory problem. Importing them one-by-one nearly always works.&lt;/p>
&lt;p>When the route is imported and you're still behind your Mac, you might want to compare the route in the Zūmo with the one on your screen. In some cases the Zūmo is still stubborn enough to select a different route. Most of the time this is because of incorrect settings in the Zūmo, causing it to avoid ferries or take the faster route.&lt;/p>
&lt;p>&lt;strong>Have fun!&lt;/strong>
The most important thing of all this work is to have fun. No matter where Garmin sends you, remember that you're on your bike to have fun.&lt;/p></description></item><item><title>Simple Strict Date Parsing</title><link>https://realrolfje.github.io/2010/03/06/simple-strict-date-parsing/</link><pubDate>Fri, 05 Mar 2010 23:00:41 +0000</pubDate><guid>https://realrolfje.github.io/2010/03/06/simple-strict-date-parsing/</guid><description>
&lt;p>&lt;img src="calendar-icon2.png" alt="">
In Java, the &lt;em>DateFormat.parse()&lt;/em> method is a funny little critter. It helps you by trying to figure out what date you actually meant when you typed in &amp;quot;35/12/2O10&amp;quot; (note the letter &amp;quot;O&amp;quot; in 2O10). In this case, it will parse the date without errors or warnings, and returns the date &amp;quot;11/12/04&amp;quot; (November 12th, 0004). That's because it thinks &amp;quot;35&amp;quot; is a month, and &amp;quot;2&amp;quot; is the year, ignoring everything after the letter &amp;quot;O&amp;quot;.&lt;/p>
&lt;p>&lt;em>DateFormat&lt;/em> tries to convert the &amp;quot;35th month&amp;quot; into 2 years and 11 months, and correct the date accordingly. &lt;em>df.setLenient(false)&lt;/em> prevents this, but that still leaves the problem of the parsing stopping at the first wrong character without warning.&lt;/p>
&lt;p>I needed a much stricter way of parsing dates, and yesterday I found an elegant solution to this problem. It's so small I was able to &lt;a href="http://twitter.com/rolfje/status/9828355998">tweet it in less than 140 characters&lt;/a>, but I thought it deserved a decent blogpost so here it goes:&lt;/p>
&lt;p>`&lt;/p>
&lt;pre>&lt;code>public Date parseDateString(String inputDateString)
throws ParseException {
DateFormat df = DateFormat.getDateInstance(DateFormat.SHORT);
Date parsedDate = df.parse(inputDateString);
if (!inputDateString.equals(df.format(parsedDate))) {
throw new ParseException(&amp;quot;Invalid Date&amp;quot;, 0);
}
return parsedDate;
}
&lt;/code>&lt;/pre>
&lt;p>`&lt;/p>
&lt;p>The brilliance here is in the comparing of the formatted date with the original input. The method returns a normal ParseException so you can perfectly replace your original &lt;em>df.parse()&lt;/em> calls with it, making them more strict.&lt;/p>
&lt;p>Thanks to Bas for this elegant and simple solution.&lt;/p></description></item><item><title>Flow</title><link>https://realrolfje.github.io/2009/12/22/flow/</link><pubDate>Tue, 22 Dec 2009 21:34:04 +0000</pubDate><guid>https://realrolfje.github.io/2009/12/22/flow/</guid><description>
&lt;p>&lt;a href="left-right.jpg">&lt;img src="left-right.jpg" alt="">
&lt;/a>Being &amp;quot;in the flow&amp;quot;. The nicest state of mind known to mankind. You act without thinking, and everyone of your actions is the perfect response to the situation. Riding a motorcycle on a beautiful road without a destination can easily get you into this state. With an empty mind, you see the next 2 corners, feel your bike as your brakes hit the disc, smell the forest, and hear the wind as you start accelerating out of the first corner while naturally placing the bike into position for the next.&lt;/p>
&lt;!-- more -->Software developers also know "flow", and mentally it does not differ that much from riding a motorcycle. Coders call this "being in the zone". It's you, the code, and the next 2 unittests. You effortlesly write the perfect conditions for your loop, while noticing the log of the buildserver, and thinking about the solution you already have for the next problem.
&lt;p>In order to get into the flow, conditions need to be perfect. You have to be in the right mood. There should be no distractions. There needs to be rythm.&lt;/p>
&lt;p>Coding and biking is done by &amp;quot;enjoy the ride&amp;quot; people. They enjoy the thrill of that perfect corner, or that perfect try/catch block, without worrying to much about the destination. Destination is usually the worry of the &amp;quot;a-to-b&amp;quot; people. These are to people that need to get to their destination. Usually car drivers, they will talk about destinations, the bluetooth and stereo in their cars, but rarely enjoy the ride itself. When they get to &amp;quot;B&amp;quot;, a new destination is chosen and the race is on again.&lt;/p>
&lt;p>&amp;quot;A-to-b&amp;quot; people often don't understand &amp;quot;flow&amp;quot; or &amp;quot;being in the zone&amp;quot;. They also don't understand that it's hard to get &amp;quot;in the flow&amp;quot; and very easy to get out. Changing the end goal of a long project is not all that troublesome. But changing the next 2 corners will get your &amp;quot;enjoy the ride&amp;quot; team members out of the flow for sure. Do it too often, and your team will not even try to get into the flow, because there is nothing more frustrating than being yanked out of your flow.&lt;/p>
&lt;p>Programming seems dull and nerdy. But being &amp;quot;in the zone&amp;quot; or having &amp;quot;flow&amp;quot; can give you quite a rush, with some similarities to riding a bike on a sunny, twisty mountain road.&lt;/p></description></item><item><title>Sonar "Close Connection" warning workaround.</title><link>https://realrolfje.github.io/2009/10/06/sonar-close-connection-warning-workdaround/</link><pubDate>Tue, 06 Oct 2009 08:38:26 +0000</pubDate><guid>https://realrolfje.github.io/2009/10/06/sonar-close-connection-warning-workdaround/</guid><description>
&lt;p>When you use Spring and Ibatis and SQLTemplates, you could have code in your project which looks somewhat like this:&lt;/p>
&lt;pre>&lt;code>Connection connection = DataSourceUtils.getConnection(getDataSource());
...&amp;lt;do connection stuff here&amp;gt;...
DataSourceUtils.releaseConnection(connection, getDataSource());
&lt;/code>&lt;/pre>
&lt;p>Sonar will report that you did not close the connection, while in fact, Spring did that for you. You can not just add a &lt;em>&amp;quot;connection.close()&amp;quot;&lt;/em> to the code because the whole point of calling &lt;em>&amp;quot;releaseConnection()&amp;quot;&lt;/em> is to have Spring handle all the smart stuff on committing, closing, and returning the connection to the pool if needed.&lt;/p>
&lt;!-- more -->In our company, not closing the connection is a major blocking violation (and it should be). But in this case, there is no way to make the Jedi wave to Sonar, telling it that "this code will do just fine". So I added the following trick, albeit a bit dirty:
&lt;pre>&lt;code>if (connection.isClosed()){
// This code is only here to keep Sonar from
// warning us that the connection is not
// closed. Please note: Do not just close an
// unclosed connection, Spring should handle
// connection closing and returning to the pool.
connection.close();
}
&lt;/code>&lt;/pre>
&lt;p>Use it to your advantage, but use this responsibly. If you see any problems in my solution, or if there is a better way to do this I'd be happy to hear about it.&lt;/p>
&lt;p>&lt;strong>Edit (2009-12-01):&lt;/strong>&lt;/p>
&lt;p>There is a much better way to do this if you have Spring/Ibatis integration. In stead of DataSourceUtils.getConnection() you can create a new ConnectionCallback object, like so:&lt;/p>
&lt;pre>&lt;code>JdbcTemplate template = new JdbcTemplate(getDataSource());
Object resultObject = template.execute(new ConnectionCallback() {
public Object doInConnection(Connection conn) 
throws SQLException, DataAccessException {
// Do connection stuff here (can return object);
return null;
});
&lt;/code>&lt;/pre>
&lt;p>Please note that this code does NOT contain any Connection.close() references. The connection is passed to you, you can use it, and after your method completes, the framework will do whatever is needed to clean everything up. Sonar will not complain because the whole open/close handeling is done outside your method.&lt;/p></description></item><item><title>Transactions and Isolation levels</title><link>https://realrolfje.github.io/2009/08/29/transactions-and-isolation-levels/</link><pubDate>Sat, 29 Aug 2009 21:16:21 +0000</pubDate><guid>https://realrolfje.github.io/2009/08/29/transactions-and-isolation-levels/</guid><description>
&lt;p>&lt;a href="http://www.ahajokes.com/cartoon/bagjoke.jpg">&lt;img src="safety_goggles.gif" alt="Safety googles">
&lt;/a>At work, we have two applications which connect to the same database. For all kinds of business reasons, we need to make sure that only one of the applications accesses certain data at the same time. To do this, we use a row in a table as a &lt;a href="http://en.wikipedia.org/wiki/Semaphore_(programming)">semaphore&lt;/a>.&lt;/p>
&lt;p>While working on the locking mechanism, we had a closer look at the Transaction Management and the Isolation Levels we were using. There is a lot of good documentation on Transaction and Isolation, but it tends to be over complete, elaborate and therefore hard to read. I'll try to share our insights with you in a slightly more digestable form (I hope).&lt;/p>
&lt;p>&lt;strong>&lt;!-- more -->What is a Transaction&lt;/strong>
Every (proper) database uses Transactions. A Transaction is a unit of work which you can undo (roll back) or save (commit) to the database. Generally, database clients tend to &amp;quot;Auto Commit&amp;quot; which effectively means that each of your actions on the database are executed immediately and can not be rolled back.&lt;/p>
&lt;p>When you click through your client's settings, you can probably find an option to turn Auto Commit off. Now, at your first database write action (insert or update), a Transaction is started. The database will keep track of each of your write actions, and once you're finished, you can decide to keep the changes by &amp;quot;committing&amp;quot; the Transaction. You can also decide to revert all the changes you made and do a &amp;quot;rollback&amp;quot;, as long as the Transaction is not closed. Both Commit and Rollback close a transaction, so choose wisely.&lt;/p>
&lt;p>&lt;strong>What is an Isolation Level&lt;/strong>
Most databases allow more than one user to connect to the database. In order for you to do your work, you may require a stable database without changes. To protect yourself from seeing other peoples updates, you can set an &lt;a href="http://en.wikipedia.org/wiki/Isolation_(database_systems)">&amp;quot;Isolation Level&amp;quot;&lt;/a>. Generally, you set the isolation level at the time of starting a Transaction.&lt;/p>
&lt;p>Isolation levels come in many different flavours, from &amp;quot;liberal&amp;quot; to &amp;quot;strict&amp;quot;:&lt;/p>
&lt;pre>&lt;code> * _READ UNCOMMITTED_ - Allows you to see the database as it is right now. Doing he same query on a table twice is likely to produce different results as other people are updating the table, even if they haven't committed their transactions yet.
* _READ COMMITTED_ - The database will only show you changes to the table which are commited. Doing the same query twice can still produce different results, but you're sure that those changes will not be olled back by the authors.
* _REPEATABLE READ_ - The database will make sure that when you execute the same query twice, you will see the same data twice. It may have to lock the rows in the table to do this, which will prevent other people from updating them until you complete your transaction.
* _SERIALIZABLE_ - The database will not only make sure you see the same data, but it will also make sure that all updates in the system are done in such a way that it seems as if there was only 1 user connected to the database at a time. This is the most &amp;quot;expensive&amp;quot; isolation level, and tends to be relatively slow.
&lt;/code>&lt;/pre>
&lt;p>&lt;strong>Transaction is not Isolation.&lt;/strong>
Although a Transaction may suggest that your changes are not written to the database until after your commit, it will write all changes directly to the tables. That means that anybody can see what you are doing to the database, depending on their Isolation levels. Mind you: &lt;em>their&lt;/em> isolation levels, not yours.&lt;/p>
&lt;p>You can see a Transaction as your &amp;quot;undo buffer&amp;quot; if you will, and the &amp;quot;Isolation Level&amp;quot; as the filter through which you are looking at other people's actions to the database.&lt;/p>
&lt;p>&lt;strong>How about our semaphores?&lt;/strong>
Back to our semaphore problem. Reading about Transactions and Isolation Levels, we knew that both systems must do the &amp;quot;fetch&amp;quot; (a read and an update) of the semaphore within a single transaction, and both systems must use the &amp;quot;serializable&amp;quot; isolation level to make sure that it reads the correct, current value without having a chance of incorrectly fetching the smaphore.&lt;/p>
&lt;p>What's funny about the serializable isolation level however, is that it does not prevent you from overwriting other people's values without knowing. Our example:&lt;/p>
&lt;pre>&lt;code> 1. Application 1 reads the semaphore to be 0 and decides it can set it to 1.
2. Application 2 reads the semaphore to be 0 and also decides it can set it to 1.
3. Application 1 sets the semaphore to 1 and thinks it has the lock.
4. Application 2 also sets the semaphore to 1 and thinks is has the lock.
&lt;/code>&lt;/pre>
&lt;p>This is clearly a problem. We learned that:&lt;/p>
&lt;p>&lt;strong>Regardless of your isolation level or transaction usage, the last commit always wins.&lt;/strong>&lt;/p>
&lt;p>There is, however one database on the market which at least fails in this situation. It's Oracle. When you use the &amp;quot;Serializable&amp;quot; isolation level, Oracle will prevent you from overwriting a row which was changed without your knowing about it. This changes our scenario as follows:&lt;/p>
&lt;pre>&lt;code> 1. Application 1 reads the semaphore to be 0 and decides it can set it to 1.
2. Application 2 reads the semaphore to be 0 and also decides it can set it to 1.
3. Application 1 sets the semaphore to 1 and thinks it has the lock.
4. Application 2 tries to set the semaphore to 1, but Oracle notices that the row has changed since the last read, and will fail to do the update. An error (ORA-08177) is thrown at the application, allowing you to re-read the lock and discover it has been taken.
&lt;/code>&lt;/pre>
&lt;p>&lt;strong>Conclusion&lt;/strong>
Generally, you will have 1 application connecting to 1 database. The application will use the same Transaction granularity and Isolation levels throughout, and you will not notive these interesting behaviours. As soon as you have multiple applications with different isolation levels connecting to the same databases, you are likely to run into interesting, sporadic irreproducable problems. Try to think about your Isolation strategies.&lt;/p>
&lt;p>If I got you interested, I recommend reading &lt;a href="http://blog.xebia.com/2007/11/28/oracle-and-ora-08177/">this blogpost by Peter Veentjer&lt;/a> about this very same thing. Peter is a bit more technically correct than I am in this post.&lt;/p></description></item><item><title>Omniplan Progress Tracking Tip</title><link>https://realrolfje.github.io/2009/08/13/omniplan-progress-tracking-tip/</link><pubDate>Thu, 13 Aug 2009 20:41:00 +0000</pubDate><guid>https://realrolfje.github.io/2009/08/13/omniplan-progress-tracking-tip/</guid><description>
&lt;p>&lt;a href="http://www.omnigroup.com/applications/omniplan/">&lt;img src="opicon.jpg" alt="Omniplan">
&lt;/a>During one of my Omniplan sessions at work, I discovered that the resource leveling was acting a bit funny, where people were not planned to do any work for days. I played around with a fake planning and soon discovered the problem and several solutions to it.&lt;/p>
&lt;!-- more -->Imagine you have a 1-man project, with a couple of tasks. You want to keep track of the planning in Omniplan. So you set up a project as follows (sorry for the spelling error, discoverd it after taking all the screenshots):
&lt;p>&lt;a href="planning-constrained.png">&lt;img src="planning-constrained.png" alt="(over)constrained planning">
&lt;/a>&lt;/p>
&lt;p>Everything looks fine and you set out to do your job. While putting the dishes on the sink, you decide to run hot water into the sink and place the dishes directly in the water. That will gain you some time. To reflect that, you slide the progress bar of &amp;quot;wash dishes&amp;quot;. Now your planning looks as follows:&lt;/p>
&lt;p>&lt;a href="planning-constrained-progress.png">&lt;img src="planning-constrained-progress.png" alt="(over)constrained planning with progress">
&lt;/a>&lt;/p>
&lt;p>At first sight that might not look so strange. But when you look into your resource availability, you see that you are not 100% assigned to the project:&lt;/p>
&lt;p>&lt;a href="resources-gap.png">&lt;img src="resources-gap.png" alt="Gap in resources due to completion">
&lt;/a>&lt;/p>
&lt;p>How did this happen? Well, Omniplan says (or rather: you toold Omniplan) that the &amp;quot;wash dishes&amp;quot; task can only start after the &amp;quot;Put dishes on Sink&amp;quot; task was finished. It will hold you to that, wether or not you reported progress on that.&lt;/p>
&lt;p>&lt;strong>Solution 1&lt;/strong>
The first solution is also a golden rule. Only put constraints in your planning if you are absolutely 100% positive that they need to be there. Removing the constraints from this planning (because you can start washing before everything is in the sync) will result in correct progress and an earlier finish, like so:&lt;/p>
&lt;p>&lt;a href="planning-unconstrained.png">&lt;img src="planning-unconstrained.png" alt="unconstrained planning progress">
&lt;/a>&lt;/p>
&lt;p>And you will notice that the resource occupation is now also back at 100%:&lt;/p>
&lt;p>&lt;a href="resources-level.png">&lt;img src="resources-level.png" alt="100% filled, leveled resources (yay!)">
&lt;/a>&lt;/p>
&lt;p>&lt;strong>Solution 2&lt;/strong>
A collegue of mine has another phylosophy: only have work on your planning that you are going to do in the future. Completed tasks are removed, and existing tasks are shortened as you work on them. Don't use the progress sliders, and measure gain or loss against the baseline planning. This is what I used to do with MSProject until now.&lt;/p>
&lt;p>&lt;strong>Solution 3&lt;/strong>
Buy a dishwasher.&lt;/p></description></item><item><title>Starting Java app from Applescript</title><link>https://realrolfje.github.io/2009/06/11/starting-java-app-from-applescript/</link><pubDate>Thu, 11 Jun 2009 20:36:27 +0000</pubDate><guid>https://realrolfje.github.io/2009/06/11/starting-java-app-from-applescript/</guid><description>
&lt;p>Suppose you have a Java Swing application which you can start by typing the following on the command line:&lt;/p>
&lt;p>&lt;em>java -jar myTerrificSwingApp.jar&lt;/em>&lt;/p>
&lt;p>If you want to make that application start from the Finder in OSX, there are a lot of options which range from ugly to convoluted. If you need a quick fix, here's how to do it.&lt;/p>
&lt;!-- more -->Open ScriptEditor.app on your Mac, and copy paste:
&lt;blockquote>
&lt;blockquote>
&lt;p>-- Get path to this script using &amp;quot;/&amp;quot; in stead of &amp;quot;:&amp;quot; as seperators&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>&lt;strong>set&lt;/strong> myPath &lt;strong>to&lt;/strong> POSIX path &lt;strong>of&lt;/strong> (path to &lt;strong>me&lt;/strong> as string)&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;/blockquote>
&lt;blockquote>
&lt;p>-- Save text item delimiters and set it to &amp;quot;/&amp;quot;&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>&lt;strong>set&lt;/strong> delims &lt;strong>to&lt;/strong> AppleScript's text item delimiters&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>&lt;strong>set&lt;/strong> AppleScript's text item delimiters &lt;strong>to&lt;/strong> &amp;quot;/&amp;quot;&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;/blockquote>
&lt;blockquote>
&lt;p>-- Get the whole string except the last token, and add a &amp;quot;/&amp;quot;&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>&lt;strong>set&lt;/strong> myFolder &lt;strong>to&lt;/strong> (text 1 &lt;strong>thru&lt;/strong> text item -2 &lt;strong>of&lt;/strong> myPath) &amp;amp; &amp;quot;/&amp;quot; ¬&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>** as** Unicode text&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;/blockquote>
&lt;blockquote>
&lt;p>-- Restore default text item delimiters (being tidy)&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>&lt;strong>set&lt;/strong> AppleScript's text item delimiters &lt;strong>to&lt;/strong> delims&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;/blockquote>
&lt;blockquote>
&lt;p>-- Start java from this directory, as nohup and background&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>-- so this applescript can disapear from the Dock&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>do shell script ¬&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>&amp;quot;cd &amp;quot; &amp;amp; myFolder &amp;amp; ¬&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>&amp;quot;; nohup java -jar myTerrificSwingApp.jar &amp;amp;&amp;quot;&lt;/p>
&lt;/blockquote>
&lt;/blockquote>
&lt;p>Save the script as &amp;quot;Application Bundle&amp;quot; and don't forget to un-check the startup window option. If you have some extra time, you can open the package contents of the app, and replace the Contents/Resources/applet.icns with your own icon.&lt;/p>
&lt;p>There are a lot more ways to do this, for instance you can also put your jar file inside the app bundle, or build a double-clickable jar file, or bundle a complete application. You can find more info on all these options on the &lt;a href="http://developer.apple.com/documentation/Java/Conceptual/Java14Development/03-JavaDeployment/JavaDeployment.html">Apple developer website&lt;/a>.&lt;/p></description></item><item><title>Javascript Window Shake</title><link>https://realrolfje.github.io/2009/03/12/javascript-window-shake/</link><pubDate>Wed, 11 Mar 2009 22:54:53 +0000</pubDate><guid>https://realrolfje.github.io/2009/03/12/javascript-window-shake/</guid><description>
&lt;p>This evening I came accross the window.moveBy() JavaScript function and thought it would be cool to shake the browser window when a user fails to &lt;a href="http://rolfje.wordpress.com/2006/11/02/it-aint-what-you-do/">log in&lt;/a>. It turns out that I was not the only one thinking this, but none of the examples worked for me. Some had &lt;a href="http://javascript.internet.com/image-effects/shake-screen.html">no proper delays&lt;/a>, others only worked from the page header, and some were &lt;a href="http://www.permadi.com/tutorial/jsquake/index.html">plain unreadable&lt;/a>.&lt;/p>
&lt;p>I'm no Javascript guru, but I hacked this together which is working pretty nicely. It is in fact almost undistinguishable from the Apple login window shake at a login failure:&lt;/p>
&lt;pre>&lt;code>&amp;lt;script type=&amp;quot;text/javascript&amp;quot;&amp;gt;
if (window.moveBy) {
delay = 70;
shakes = 3;
window.moveBy(-10, 0);
for (j = shakes; j &amp;gt; 0; j--) {
setTimeout( &amp;quot;window.moveBy(20, 0)&amp;quot;, j*delay );
setTimeout( &amp;quot;window.moveBy(-20, 0)&amp;quot;,
j*delay+(delay/2));
}
setTimeout( &amp;quot;window.moveBy(10, 0)&amp;quot;, (shakes+1)*delay );
}
&amp;lt;/script&amp;gt;
&lt;/code>&lt;/pre>
&lt;p>In my case, I surrounded this code with a Tapestry @Conditional and made it into a reusable Tapestry component so that I can make any window shake as soon as it contains an error.&lt;/p>
&lt;p>The code will work anywhere on your page, but I advise you to put it at the bottom of the HTML. This will make sure that the content is shown in the browser before you shake it.&lt;/p>
&lt;p>It's visually much stronger than just adding an errortext to the page. If people log in a couple of times a day, they don't even notice extra text on the screen. This will &amp;quot;shake&amp;quot; them awake :-)&lt;/p>
&lt;p>Have fun!&lt;/p></description></item><item><title>DLNA on OSX, done right</title><link>https://realrolfje.github.io/2009/01/31/dlna-on-osx-done-right/</link><pubDate>Sat, 31 Jan 2009 21:23:15 +0000</pubDate><guid>https://realrolfje.github.io/2009/01/31/dlna-on-osx-done-right/</guid><description>
&lt;p>&lt;a href="http://en.wikipedia.org/wiki/PlayStation_3">&lt;img src="200x150_playstation3_logo1.jpg" alt="Sony PS3 Logo">
&lt;/a>My wife bought me a playstation 3 last year, and I've enjoyed many hours of gaming on it, finishing Tomb Raider underworld, and now making decent progress in Ratchet and Clank: Tools of Destruction.&lt;/p>
&lt;p>&lt;a href="http://www.dlna.org/home">&lt;img src="afbeelding-22.png" alt="DLNA logo">
&lt;/a>&lt;/p>
&lt;p>I was a bit sceptical about the DLNA capabilities of the PS3, because I read a lot of bad news on this fairly new  &amp;quot;Interoperability Guidelines&amp;quot; concept. It sounded like a lot of trouble to go through to simply watch the photos and home videos on a TV. For weeks, I was not able to find a single site telling me how to install a DLNA server on my Mac, or where to find a decent one.&lt;/p>
&lt;p>Altgough they're hard to find, there are a few OSX DLNA servers out there. One of them is actually very good. Here's what I found:&lt;/p>
&lt;!-- more -->**CyberMediaGate**
&lt;p>I found a DLNA server implemented in Java, and didn't get it to work. It misses a Xerces library and I can not seem to get the right version added to the classpath. I decided this was not very &amp;quot;Mac like&amp;quot; and dumped it. Not being able to install software &amp;quot;out of the box&amp;quot; may be normal on Linux, but is unaccepatble on a Mac.&lt;/p>
&lt;p>&lt;strong>TwonkyMedia&lt;/strong>
Then, I came across TwonkyMedia. This was the first DLNA server I actually got to work on my Mac, and had it serving video to my PS3. It is a strange (wonky?) piece of software, had no native GUI and only lives on your machine as a webapplication. The installer copies &amp;quot;TwonkyMediaServer.app&amp;quot; in your application folder, starts it, and then opens a browser which points to the local URL of it's configuration screen.&lt;/p>
&lt;p>At that moment, it already is serving clients, but when you try to access it with the PS3, you will get a protocol error. This is because TwonkyMedia does not come with a default server name. The PS3 aparently can not handle an empty server name. After filling it in and restarting Twonky, I could access it with the PS3.&lt;/p>
&lt;p>TwonkyMedia does not look very Mac-like, and I don't like the looks of the webpage it is serving. The installer leaves two webloc files on your desktop which point to the configuration screens. It's a bit strange but it gets the job done.&lt;/p>
&lt;p>Potentially Twonky can do a bit more than CyberMediaGate. Twonky can do some transcoding and other streaming stuff, but I did not try that because I simply wanted to see my photo's and home video's on my TV.&lt;/p>
&lt;p>The trial version of Twonkymedia last for 30 days, but on the first day it already started acting up on me, and I had to restart it a few times while watching video. The look and feel, and the crashes didn't feel like it was worth the $40 to me, so I uninstalled it.&lt;/p>
&lt;p>Uninstalling TwonkyMedia requires you to kill the process from the Terminal, and then drag TwonkyMediaServer.app to your trashcan. Another way is dragging the app to the trashcan and then restarting your Mac (not mac-like but it works).&lt;/p>
&lt;p>&lt;strong>MediaLink&lt;/strong>
&lt;a href="http://www.nullriver.com/products/medialink">&lt;img src="printablelogo.png" alt="Nullriver Logo">
&lt;/a>The nullriver homepage looked very elegant, and promising. A simple page explains what it is, what it does, and what it costs. Nullriver also allows you to send requests and reports on their site without registering (in contract with TwonkyMedia, to which you have to &amp;quot;sell your soul&amp;quot;)&lt;/p>
&lt;p>Nullriver Medialink comes as a preference pane application, and has a beautifuly simple interface, with not many options. It integrates with your mac applications like iTunes, iPhoto and now even Aperture. It does not have all the fancy configuration options of TwonkyMedia. One of my small complaints is that your content is shared to all DLNA clients on your local network, which may not be what you want if you have more than one DLNA client.&lt;/p>
&lt;p>For me MediaLink is a perfect fit. I control my own network, my PS3 is my only DLNA client so I don't need the fancy stuff. Most people will be perfectly happy with Medialink. It's simple, transparent, drag-and-drop, has a &amp;quot;stop&amp;quot; button and is cheap. It does not have all the fancy features, but all the features that are in there work flawlessly.&lt;/p>
&lt;p>I played with it for more than a week now, and so far it hasn't crashed on me. I did need to buy a registration key, because the trial version only lasts you for about 30 minutes of watching content (which should be plenty to try it out, and it's not like the 20 bucks are going to kill you).&lt;/p>
&lt;p>&lt;strong>Conclusion&lt;/strong>
Once again, all DLNA servers I tried put together:&lt;/p>
&lt;table cellpadding="2" cellspacing="0" border="1" >
&lt;tbody >
&lt;tr >
&lt;td valign="top" >[CyberMediaGate](http://www.cybergarage.org/net/cmgate/java/index.html)
&lt;/td>
&lt;td valign="top" >Free
&lt;/td>
&lt;td valign="top" >Terrible, unable to install.
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td valign="top" >[TwonkyMedia](http://www.twonkyvision.de/)
&lt;/td>
&lt;td valign="top" >$40
&lt;/td>
&lt;td valign="top" >Works, lots of features, no GUI, buggy/ Crashed on me more than once.
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td valign="top" >[MediaLink](http://www.nullriver.com/products/medialink)
&lt;/td>
&lt;td valign="top" >$20
&lt;/td>
&lt;td valign="top" >Simple, stable, nice GUI, best value for money. Just works.
&lt;/td>
&lt;/tr>
&lt;/tbody>&lt;/table>
So if you have a PS3 and a Mac, it's a no-brainer. Buy Medialink!</description></item><item><title>Remote Desktop Connection updated</title><link>https://realrolfje.github.io/2009/01/25/remote-desktop-connection-updated/</link><pubDate>Sun, 25 Jan 2009 01:00:37 +0000</pubDate><guid>https://realrolfje.github.io/2009/01/25/remote-desktop-connection-updated/</guid><description>
&lt;p>&lt;img src="afbeelding-2.png" alt="Remote Desktop Connection icon">&lt;/p>
&lt;p>&amp;quot;Remote Desktop Connection.app&amp;quot; allows you to see the desktop of a remote Windows machine on your mac. This application will not update itself automatically, unless you have it installed as part of the Microsoft Office for Mac suite. If you've downloaded the 1.0.3 version you probably did not notice that &amp;quot;Remote Desktop Connection.app&amp;quot; was updated somewhere last year by microsoft.&lt;/p>
&lt;p>You can find the latest version of Remote Desktop Connection on the &lt;a href="http://www.microsoft.com/mac/products/remote-desktop/default.mspx">Microsoft Mactopia&lt;/a> site. Version 2 is an improvement over 1.0.3 (which I had). Notable differences are:&lt;/p>
&lt;pre>&lt;code> * Nicer configuration screens, makes configuring your resolution and shares easier.
* Now a Universal Binary, which should improve performance on Intel Macs. I have not noticed improvement, but that's probably because the network is the bottleneck.
* Supports the new RDC 6.0 protocol used by Vista.
* Can do authentication of the remote machine (if it's a Vista machine).
* Your Mac printer can be exposed to the Windows machine so you can print documents on your local printer.
&lt;/code>&lt;/pre>
&lt;p>I played with it for a while, and apart form the new looks I can not say it's very different from the 1.0.x version. It could load my old RDC 1.0.3 configuration files. If you need to connect to a Windows desktop from your Mac, this does the job just fine.&lt;/p></description></item><item><title>Automount network shares</title><link>https://realrolfje.github.io/2009/01/18/automount-network-shares/</link><pubDate>Sun, 18 Jan 2009 01:00:33 +0000</pubDate><guid>https://realrolfje.github.io/2009/01/18/automount-network-shares/</guid><description>
&lt;p>&lt;a href="http://www.macupdate.com/info.php/id/29844/bonjour-mounter">&lt;img src="29844.png" alt="Bonjour Mounter icon">
&lt;/a>There is a nice and clean way to automatically mount network shares each time you log into your Mac. It's called the &lt;a href="http://www.macupdate.com/info.php/id/29844/bonjour-mounter">&amp;quot;Bonjour Mounter&amp;quot;&lt;/a>, a simple application which runs on login, and mounts the drives you configured it to mount. No more, no less.&lt;/p></description></item><item><title>"Instruments" - Application monitor</title><link>https://realrolfje.github.io/2009/01/02/instruments-application-monitor/</link><pubDate>Thu, 01 Jan 2009 23:00:55 +0000</pubDate><guid>https://realrolfje.github.io/2009/01/02/instruments-application-monitor/</guid><description>
&lt;p>&lt;a href="afbeelding-3.png">&lt;img src="afbeelding-3.png?w=128" alt="Instruments">
&lt;/a>Did you know that your installation of Leopard comes with a built-in performance monitor? It's called &amp;quot;Instruments&amp;quot; and you can attach it to any process currently running. In the screenshot you see here I attached it to an instance of Eclipse while running some unittests.&lt;/p>
&lt;p>Instruments has some nice templates for you to choose from, and you can monitor CPU activity per thread, disk I/O, User Interface activity, Object allocations, and leaks. Just so you know, it might come in handy.&lt;/p></description></item><item><title>How to add drivers to SQuirreLSQL.app</title><link>https://realrolfje.github.io/2008/12/30/how-to-add-drivers-to-squirrelsqlapp/</link><pubDate>Mon, 29 Dec 2008 23:00:38 +0000</pubDate><guid>https://realrolfje.github.io/2008/12/30/how-to-add-drivers-to-squirrelsqlapp/</guid><description>
&lt;p>&lt;img src="afbeelding-2-copy.png" alt="SQuireL SQL on OSX with Oracle drivers">
If you're a SQuirreL SQL fan like me, and you use a Mac, you probably also want to know how to add a driver to the OSX version of the application. Most people just point to an external jar file, but you can also add drivers to the application bundle.  There's not much to it, but it took me some time to discover that I actually had to edit the plist file in the bundle after adding the driver.&lt;/p>
&lt;p>As you can see on the left, my SQuireLSQL.app now comes with the Oracle OCI and Thin driver built in, and because they are part of the application bundle, I can't wreck my installation by misplacing jarfiles or reconfiguring classpaths. Nice.&lt;/p>
&lt;p>If you want to drivers to your SQuireLSQL.app yourself, here's what you need to do:&lt;/p>
&lt;!-- more -->
&lt;pre>&lt;code> 1. Download  and unpack SQuirreL SQL for OSX.
2. Verify that is starts up, and that your drivers are missing. Close SQuirreL again.
3. Right-click on SQuireLSQL.app and select &amp;quot;show package contents&amp;quot;.
4. Browse to the **Contents/Resources/Java/lib** folder. Copy the jar file of your driver into this folder (I used ojdbc14.jar in this example)
5. Double-click the **Contents/Info.plist** file. The default plist editor will show up.
6. In the plist editor, find the **&amp;quot;Information Property List&amp;quot;/ Java/ClassPath** property.
7. At the end of the value in this property, add a colon, and a reference to your copied library. In our example (see step 4) I had to add **&amp;quot;:$JAVAROOT/lib/ojdbc14.jar&amp;quot;**, excluding quotes, but including the colon (see other libraries in the path and use them as examples.
8. Save the plist file, and double-click SQuireLSQL.app. Your driver should now have a blue checkmark next to it.
&lt;/code>&lt;/pre>
&lt;p>Please note that now you've added proprietary drivers to the bundle, you can no longer freely distribute it. Usage and distribution of your version of SQuireLSQL.app is now &amp;quot;contaminated&amp;quot; by the licences of the driver(s) you installed.&lt;/p>
&lt;p>Happy SQL-ing!&lt;/p></description></item><item><title>Eclipse 3.4.1, OSX and Java 1.6</title><link>https://realrolfje.github.io/2008/12/28/eclipse-341-osx-and-java-16/</link><pubDate>Sun, 28 Dec 2008 14:05:19 +0000</pubDate><guid>https://realrolfje.github.io/2008/12/28/eclipse-341-osx-and-java-16/</guid><description>
&lt;p>&lt;img src="afbeelding-22.png" alt="Eclipse application icon">&lt;/p>
&lt;p>I recently downloaded &lt;a href="http://www.eclipse.org/downloads/download.php?file=/technology/epp/downloads/release/ganymede/SR1/eclipse-java-ganymede-SR1-macosx-carbon.tar.gz">Eclipse 3.4.1 for Mac OSX&lt;/a>, and tried starting it using the eclipse.app icon. It did not work, and I noticed a message in /var/log/system.log telling me that the JVM could not be loaded.&lt;/p>
&lt;!-- more -->After some Googling, I found out that Eclipse is not compatible with the new 64bit version of JDK 1.6 for the Mac. After switching back to 1.5 (luckaly Apple ships all JVM's with it's OS) it all worked. Here's how you switch back to JDK 1.5 on a Mac:
&lt;pre>&lt;code>cd /System/Library/Frameworks/JavaVM.framework/Versions
sudo ln -fhsv 1.5 CurrentJDK
&lt;/code>&lt;/pre>
&lt;p>This makes the CurrentJDK link to point to the 1.5 installation of the Java JDK.&lt;/p>
&lt;p>Bonus tip for today: While you're at it, increase the memory used by eclipse by opening the eclipse.app bundle (right click -&amp;gt; show package contents) and edit Contents/MacOS/eclipse.ini. Change the &amp;quot;-Xmx256m&amp;quot; line to read &amp;quot;-Xmx512m&amp;quot;, and eclipse should be much happier with you.&lt;/p>
&lt;p>Ofcourse there's &lt;a href="http://help.eclipse.org/stable/index.jsp?topic=/org.eclipse.platform.doc.user/tasks/running_eclipse.htm">lots more you can do there&lt;/a>, but I always say &amp;quot;keep it simple&amp;quot;.&lt;/p></description></item><item><title>Hex color picker for OSX</title><link>https://realrolfje.github.io/2008/12/24/hex-color-picker-for-osx/</link><pubDate>Wed, 24 Dec 2008 20:20:41 +0000</pubDate><guid>https://realrolfje.github.io/2008/12/24/hex-color-picker-for-osx/</guid><description>
&lt;p>&lt;a href="afbeelding-11.png">&lt;img src="afbeelding-11.png?w=182" alt="Hex Color Picker Screenshot">
&lt;/a>If you're working on some source code and you quickly need to insert a hexadecimal color code for a color you currently have on your screen, then here is a neat little trick I found:&lt;/p>
&lt;p>First, install &lt;a href="http://wafflesoftware.net/hexpicker/">Hex Color Picker&lt;/a> by Waffle software. It will add an extra option to the built-in OSX color picker to show you the selected color in Hex.&lt;/p>
&lt;p>To reach the color picker, you usually start up any application which uses the standard OSX color picker and just choose &amp;quot;choose color&amp;quot;. What you can also do, is have the OSX color picker behave as a &lt;a href="http://www.macosxhints.com/article.php?story=20060408050920158&amp;amp;lsrc=osxh">standalone application&lt;/a> in 3 simple steps:&lt;/p>
&lt;!-- more -->
&lt;pre>&lt;code> 1. Open &amp;quot;ScriptEditor&amp;quot;, the Applescript editor.
2. In the main window, type &amp;quot;choose color&amp;quot;
3. Save the script as an application.
&lt;/code>&lt;/pre>
&lt;p>The saved application will, you guessed it, show you the standard color picker. Add it to the dock and you will be a happy developer.&lt;/p>
&lt;p>&lt;strong>Please note&lt;/strong>**:** If you are really being a perfectionist, it is possible this will not work for you because the color profiles of you monitor and possibly the profiles which are applied by Safari will introduce errors, because the color picker shows you the color which is on the screen, not the original color coming from the application. There's a whole slew of documentation on color profiles and I do have a whole rant which I will save you from reading (for now).&lt;/p>
&lt;p>Merry Christmas!&lt;/p></description></item><item><title>Programmer Quotes</title><link>https://realrolfje.github.io/2008/12/19/programmer-quotes/</link><pubDate>Fri, 19 Dec 2008 19:45:09 +0000</pubDate><guid>https://realrolfje.github.io/2008/12/19/programmer-quotes/</guid><description>
&lt;p>On StackOverflow, there is a question asking for the &lt;a href="http://stackoverflow.com/questions/58640?sort=votes#sort-top">greatest programmer quotes&lt;/a> you know. In the top 3 quotes are the following two quotes which I think hold much truth:&lt;/p>
&lt;blockquote>_**"Always code as if the guy who ends up maintaining your code will be a violent psychopath who knows where you live."**_ - Rick Osborne&lt;/blockquote>
&lt;blockquote>**_"Debugging is twice as hard as writing the code in the first place. Therefore, if you write the code as cleverly as possible, you are, by definition, not smart enough to debug it."_** - Brian Kernighan&lt;/blockquote>
&lt;p>These two quotes are briliantly summing up the usual rant I always use. &amp;quot;if my phone rings at 3 a.m. for a prio 1 production issue, I want to be able to easily read the code. And I'm not going to be awake or cheerful at that time of night.&amp;quot; I guess at that time of night, it's easy to awaken the violent psychopath in me, and so it better not be &amp;quot;smart&amp;quot; code. &lt;a href="http://stuvel.eu/archive/42/blame-support-in-eclipse">CVS blame support&lt;/a> anybody?&lt;/p></description></item><item><title>Micro Victories</title><link>https://realrolfje.github.io/2008/12/11/micro-victories/</link><pubDate>Thu, 11 Dec 2008 20:26:29 +0000</pubDate><guid>https://realrolfje.github.io/2008/12/11/micro-victories/</guid><description>
&lt;p>&lt;img src="trophy_icon.gif" alt="Trophy">
The last few weeks I was frustrated about not being able to write any code for the project I am on at work. My days are filled with email, &lt;a href="http://discuss.joelonsoftware.com/default.asp?joel.3.276499.40">spreadsheets&lt;/a>, documents, discussions and distractions. All important stuff, I'm sure, but none of it has got to do with actual coding.&lt;/p>
&lt;p>I tried to write code during the evenings for that project, just to get my kicks. Two things happened:&lt;/p>
&lt;pre>&lt;code> 1. Frustration grew, because I feel that this is the kind of work I should be doing during the day. 
2. As I worked the late night hours, I realized I could never get it all done because the blocks of work were simply to large and required too much research to be done during a few evenings.
&lt;/code>&lt;/pre>
&lt;!-- more -->In the midst of this all, I held a presentation about Coding Quality at work. The presentation was all about taste, caring for a good product, and putting some love and care into your code. That, and the whole [continuous integration](http://clintshank.javadevelopersjournal.com/ci_build_game.htm) and [unittests](http://junit.sourceforge.net/doc/testinfected/testing.htm) stuff ofcourse. During the questions session, the [FindBugs](http://findbugs.sourceforge.net/) plugin for Eclipse came up. This is a plugin I have installed, but I rarely find/make the time for working through the warnings it genereates.
&lt;p>&lt;a href="http://video.google.de/videoplay?docid=7209282843949564567&amp;amp;q=insect+animation">&lt;img src="spider.jpg" alt="Bug and Spider">
&lt;/a>I did a small demo of Findbugs, and it sure worked. There they were, the stupid mistakes in my code, on the beamer, in front of all my collegues. Ofcourse Murphy says that any beamer will always be at it's sharpest and brightest when your slide has an error on it. In my case, even the people in the far back could clearly read the tiniest font in my edit window.&lt;/p>
&lt;p>Back home, I knew there is no way I can get these fixed during working hours, so I created a seperate Eclipse installation at home running Findbugs. As I started fixing some of the most humilliating little bugs, I found out that I couldn't stop. I spent the whole evening tinkering with the code, and it fealt great. Today I suddenly realized why.&lt;/p>
&lt;p>Findbugs presents me with little things I can do within 5 minutes each, and when done, there is that next one looking at me. Not surprising, this is also the recipe for &lt;a href="http://www.gamegirl.com/article/105406/top-7-addictive-video-games/">addictive video games&lt;/a>. You can pick the game up and get right in, and you can stop at any time, but you don't want to.&lt;/p>
&lt;p>Every 5 minutes, I solve a bug, run unittest, commit to CVS and feel good about having done that. It's a string of Micro Victories which are really thrilling and relaxing at the same time. There's &lt;a href="http://www.ted.com/index.php/talks/carl_honore_praises_slowness.html">no time pressure&lt;/a>, no requirements, just me, my good taste and a good feeling for each little bug solved.&lt;/p></description></item><item><title>J-Fall 2008</title><link>https://realrolfje.github.io/2008/11/13/j-fall-2008/</link><pubDate>Thu, 13 Nov 2008 21:56:02 +0000</pubDate><guid>https://realrolfje.github.io/2008/11/13/j-fall-2008/</guid><description>
&lt;p>&lt;a href="http://www.nljug.org/">&lt;img src="nljug-duke-small.png" alt="NLJUG small duke">
&lt;/a>Last wednesday I was at &lt;a href="http://www.nljug.org/jfall/">J-Fall 2008&lt;/a>, a fairly large event for Java programmers in the Netherlands. This event is organized by &lt;a href="http://www.nljug.org/">NLJUG&lt;/a>. You can read some of my notes on the different sessions in my &lt;a href="http://www.evernote.com/pub/rolfje/PublicNoteBook#7ddeb086-5064-42c1-99e9-83fc84e384f6">public evernote.&lt;/a>&lt;/p>
&lt;!-- more -->
&lt;p>Here's a one-minute impression of what J-Fall looked like this year:&lt;/p>
&lt;p>[youtube=http://nl.youtube.com/watch?v=Fy42_eX_QkA]&lt;/p></description></item><item><title>Transporting Oracle CHARs over a dblink</title><link>https://realrolfje.github.io/2008/11/04/transporting-oracle-chars-over-a-dblink/</link><pubDate>Tue, 04 Nov 2008 20:56:52 +0000</pubDate><guid>https://realrolfje.github.io/2008/11/04/transporting-oracle-chars-over-a-dblink/</guid><description>
&lt;p>&lt;img src="oracle_logo_small.gif" alt="Oracle Logo">
At work, we've got two Oracle databases and a Java web application. One of the tasks of the web application is to copy tables over from one database to the other. Last week we ran into a funny problem which turns out to be an Oracle bug.&lt;/p>
&lt;p>I've posted a question about this last week on &lt;a href="http://stackoverflow.com/questions/253971/why-does-char1-change-to-char3-when-copying-over-an-oracle-dblink">stackoverflow.com&lt;/a> but it seems that not many people are affected by this particular problem, or at least not many people know the answer to this particular little problem. We set out to tackle this and we did.&lt;/p>
&lt;p>**&lt;!-- more -->The Setup
** We have two databases, and want to transfer a complete table from the remote database to the local database, using a database link and a &amp;quot;create table as select&amp;quot;. For both databases, we can find the version and used character set with a few simple queries:&lt;/p>
&lt;p>select * from v$version where banner like 'Oracle%';&lt;/p>
&lt;p>select value from NLS_DATABASE_PARAMETERS
where parameter='NLS_CHARACTERSET';&lt;/p>
&lt;p>The results in our setup are:&lt;/p>
&lt;table border="0" >
&lt;tbody >
&lt;tr >
&lt;td > 
&lt;/td>
&lt;td >**Version**
&lt;/td>
&lt;td >**Character set**
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td >**Remote:**
&lt;/td>
&lt;td >Oracle 10g Release 10.2.0.3.0
&lt;/td>
&lt;td >WE8ISO8859P1
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td >**Local:**
&lt;/td>
&lt;td >Oracle 9i Release 9.2.0.6.0
&lt;/td>
&lt;td >AL32UTF8
&lt;/td>
&lt;/tr>
&lt;/tbody>&lt;/table>
As you see, we transfer data between different versions of Oracle, and different character sets. Add the CHAR datatype into the mix, and an annoying little bug pops up.
&lt;p>**The Test Data
** On the remote database, we create a table and fill it with some fake data, like so:&lt;/p>
&lt;p>create table foo
   (vcharbyte varchar2(1 byte),
    vcharchar varchar2(1 char),
    charbyte  char(1 byte),
    charchar  char(1 char));&lt;/p>
&lt;p>insert into foo
    values ('A', 'B', 'C', 'D');&lt;/p>
&lt;p>Let's check how the datatypes of our new table look:&lt;/p>
&lt;p>select column_name, data_type,
data_length as bytes,
char_length as chars
from user_tab_columns
where table_name like 'FOO';&lt;/p>
&lt;table cellpadding="1" cellspacing="0" border="1" >
&lt;tbody >
&lt;tr bgcolor="#dddddd" >
COLUMN_NAME
DATA_TYPE
BYTES
CHARS
&lt;/tr>
&lt;tr >
&lt;td >VCHARBYTE
&lt;/td>
&lt;td >VARCHAR2
&lt;/td>
&lt;td >1
&lt;/td>
&lt;td >1
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td >VCHARCHAR
&lt;/td>
&lt;td >VARCHAR2
&lt;/td>
&lt;td >1
&lt;/td>
&lt;td >1
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td >CHARBYTE
&lt;/td>
&lt;td >CHAR
&lt;/td>
&lt;td >1
&lt;/td>
&lt;td >1
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td >CHARCHAR
&lt;/td>
&lt;td >CHAR
&lt;/td>
&lt;td >1
&lt;/td>
&lt;td >1
&lt;/td>
&lt;/tr>
&lt;/tbody>&lt;/table>
Everything looks fine. In the remote database, the data types are 1 byte in size, and 1 character in length, as expected.
&lt;p>**Copying the table over
** Log on to the local database. Setup a link to the remote database and create a local table with a &amp;quot;create table as select&amp;quot; statement:&lt;/p>
&lt;p>create database link foo_link
connect to foodb
identified by foodb
using 'foo_tns_entry';&lt;/p>
&lt;p>create table bar as
select * from foo@foo_link;&lt;/p>
&lt;p>Everthing seems to be ok, and selecting the new data on the &amp;quot;bar&amp;quot; table seems to work. But there's a snag. When using JDBC to connect to the database, you might notice that the CHARBYTE column is padded with 2 spaces. Why? First we look at what happened to our data types:&lt;/p>
&lt;p>select column_name, data_type,
data_length as bytes,
char_length as chars
from user_tab_columns
where table_name like 'BAR'&lt;/p>
&lt;table cellpadding="1" cellspacing="0" border="1" >
&lt;tbody >
&lt;tr bgcolor="#dddddd" >
COLUMN_NAME
DATA_TYPE
BYTES
CHARS
&lt;/tr>
&lt;tr >
&lt;td >CHARBYTE
&lt;/td>
&lt;td >CHAR
&lt;/td>
&lt;td >**3**
&lt;/td>
&lt;td >**3**
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td >CHARCHAR
&lt;/td>
&lt;td >CHAR
&lt;/td>
&lt;td >4
&lt;/td>
&lt;td >1
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td >VCHARBYTE
&lt;/td>
&lt;td >VARCHAR2
&lt;/td>
&lt;td >**3**
&lt;/td>
&lt;td >**3**
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td >VCHARCHAR
&lt;/td>
&lt;td >VARCHAR2
&lt;/td>
&lt;td >4
&lt;/td>
&lt;td >1
&lt;/td>
&lt;/tr>
&lt;/tbody>&lt;/table>
You may notice something funny going on here. As mentioned earlier, the remote database uses the WE8ISO8859P1 character set, which uses 1 byte to store a character. The local database uses the AL32UTF8 character set, which uses 3 to 4 bytes to store a character. So in order to copy characters over Oracle reserves 4 bytes per character (see CHARCHAR and VCHARCHAR columns).
&lt;p>For the data types we defined the size in bytes in, Oracle reserves 3 bytes for some reason. This is strange, because the AL32UTF8 character set has some 4 byte characters in it which never can be stored in those columns. Suppose Oracle says &amp;quot;but you defined length in bytes&amp;quot;, it still doesn't make sense. Why would I not choose to do conversion, but still reserve 3 times as much space for each byte? But wait, that's not all.&lt;/p>
&lt;p>Lets look at the length of the datatypes in characters (which makes much more sense). When we define the length of the original column in characters, oracle converts the data properly, as you see for the &amp;quot;CHARCHAR&amp;quot; and &amp;quot;VCHARCHAR&amp;quot; columns. But, for the columns we defined size in bytes, Oracle screws up. Not only the the number of bytes gets scaled up, but the &lt;strong>number of characters also gets scaled up, and your content is padded with spaces&lt;/strong>. It seems as if Oracle has given us a 3 character column with the WE8ISO8859P1 character set in a AL32UTF8 database, but I did not do tests to prove this.&lt;/p>
&lt;p>Oracle decided to handle the datatypes differently depending on how you defined it's length. Although I find that very obscure, the only difference in behaviour I would expect is that if I define size in bytes, it should stay that size in bytes in the new character set, because I was &amp;quot;planning to store bytes&amp;quot;.&lt;/p>
&lt;p>So defining the size of character-based types in characters results in predictable behaviour. Defining the size of character-based types in bytes makes Oracle go &lt;a href="http://www.merriam-webster.com/dictionary/loopy">loopy&lt;/a>.&lt;/p>
&lt;p>&lt;strong>Conclusion:&lt;/strong>
Stay clear of the CHAR datatype, unless you really have to. If you want to use the CHAR type, make sure you always specify the size in characters, not in bytes. Not only will it prevent you from having this problem, it will also make your database scripts more concise and readable.&lt;/p>
&lt;p>_P.S.
Make sure you clean up both databases and the link:
_&lt;em>drop table bar;
drop database link foo_link;&lt;/em>&lt;/p>
&lt;p>&lt;em>And on the remote database
__ drop table foo;&lt;/em>&lt;/p></description></item><item><title>The Three Great Virtues of a Programmer</title><link>https://realrolfje.github.io/2008/10/05/the-three-great-virtues-of-a-programmer/</link><pubDate>Sun, 05 Oct 2008 11:02:31 +0000</pubDate><guid>https://realrolfje.github.io/2008/10/05/the-three-great-virtues-of-a-programmer/</guid><description>
&lt;p>I ran across &lt;a href="http://c2.com/cgi/wiki?LazinessImpatienceHubris">this wiki page&lt;/a> which has a nice piece on the virtues of a good programmer. I found it so recognizable that I decided to copy it over for you to enjoy:&lt;/p>
&lt;blockquote>_**"We will encourage you to develop the three great virtues of a programmer: laziness, impatience, and hubris."**_** **-- Larry Wall, Programming Perl (1st edition), O'Reilly and Associates
&lt;p>**Laziness
**The quality that makes you go to great effort to reduce overall energy expenditure. It makes you write labor-saving programs that other people will find useful, and document what you wrote so you don't have to answer so many questions about it. Hence, the first great virtue of a programmer. Also hence, this book. See also impatience and hubris. (p.609)&lt;/p>
&lt;p>**Impatience
**The anger you feel when the computer is being lazy. This makes you write programs that don't just react to your needs, but actually anticipate them. Or at least pretend to. Hence, the second great virtue of a programmer. See also laziness and hubris. (p.608)&lt;/p>
&lt;p>**Hubris
**Excessive pride, the sort of thing Zeus zaps you for. Also the quality that makes you write (and maintain) programs that other people won't want to say bad things about. Hence, the third great virtue of a programmer. See also laziness and impatience. (p.607)&lt;/blockquote>&lt;/p>
&lt;p>(The original context can be found at
&lt;a href="http://c2.com/cgi/wiki?LazinessImpatienceHubris">http://c2.com/cgi/wiki?LazinessImpatienceHubris&lt;/a>)&lt;/p></description></item><item><title>Attention to Detail</title><link>https://realrolfje.github.io/2008/09/14/attention-to-detail/</link><pubDate>Sun, 14 Sep 2008 08:54:51 +0000</pubDate><guid>https://realrolfje.github.io/2008/09/14/attention-to-detail/</guid><description>
&lt;p>As I explained earlier, I think it is really important to &lt;a href="http://rolfje.wordpress.com/2008/07/12/conform-specs-is-not-enough/">go beyond the specs&lt;/a>. It's really important to put care and attention in your product. The new version of iTunes has a great (little) example of what I mean. I use Itunes to play music through both the computer speakers and a stereo in the livingroom, connected to an Airport Express.&lt;/p>
&lt;p>In iTunes 7, when I added the Airport Express to the set of outputs while playing a song, the music stopped, and after a while resumed playing through all the selected outputs. I never minded the short silence, and was amazed at how Apple got all the outputs to play perfectly in sync.&lt;/p>
&lt;p>In iTunes 8 things changed a tiny bit. When I select the Airport Express, the music keeps on playing on my computer, and after a few seconds the music also starts playing from the speakers in the living room. An still, the music is in sync.&lt;/p>
&lt;p>It's these little things, the amazing attention to detail, that give Apple products a tremendous &amp;quot;perceived value&amp;quot;.&lt;/p>
&lt;p>That, and the Genius button ofcourse. :-)&lt;/p></description></item><item><title>A Bigger Time Machine without Changing History</title><link>https://realrolfje.github.io/2008/09/07/a-bigger-timemachine-without-changing-history/</link><pubDate>Sun, 07 Sep 2008 20:31:15 +0000</pubDate><guid>https://realrolfje.github.io/2008/09/07/a-bigger-timemachine-without-changing-history/</guid><description>
&lt;p>I had a 160GB drive holding my &lt;a href="http://rolfje.wordpress.com/2007/12/11/backup-guru-give-me-a-break/">Time Machine backups&lt;/a>. Because I wanted to backup external disks, and still wanted to be able to travel about a year back in time, I bought a &lt;a href="http://rolfje.wordpress.com/2008/09/07/osx-format-1tb-usb-drive/">1TB USB disk&lt;/a>. Stephen Foskett wrote a &lt;a href="http://blog.fosketts.net/2008/07/26/how-to-move-os-x-time-machine-backups-to-a-new-disk/">great article&lt;/a> about how he migrated his TimeMachine backup to a larger disk, but it's lengthy and misses one essential step.&lt;/p>
&lt;p>I decided to give you the short version, this blog post describes how I migrated Time Machine to the new disk without losing any data in 11 easy steps.&lt;/p>
&lt;!-- more -->
&lt;pre>&lt;code> 1. Get a new, big, empty drive with a single Mac Journaled partition on it. Give it a good name so you can keep it apart from the original Time Machine drive.
2. Open the Time Machine configuration screen, and turn off Time Machine.
3. Unmount and remount the Time Machine drive, it should show up as an ordinary orange drive on your desktop.
4. Open Disk Utility, and click the &amp;quot;Restore&amp;quot; Tab.
5. [![](copy-timemachine-drive.png)
&lt;/code>&lt;/pre>
&lt;p>](copy-timemachine-drive.png)Drag the &amp;quot;TimeMachine&amp;quot; partition which is on the old drive to the &amp;quot;Source&amp;quot; box.
6. Drag the large partition on the new drive to the &amp;quot;Target&amp;quot; box.
7. Select &amp;quot;Erase Target&amp;quot;. If you do not check this, the disc copy will fail. This is the essential step I mentioned earlier.
8. Click &amp;quot;Restore&amp;quot;, double check the popup warning to see if you are doing the right thing and press &amp;quot;Restore&amp;quot; again. After a number of hours, depending on the speed of your USB hub and the size of the disks, you will see 2 identical drives on your desktop. The new drive should have a lot more space available. In my case, it took 5 hours to migrate 160GB to the new drive.
9. Unmount the old Time Machine drive, physically disconnect it to be sure.
10. Open the Time Machine configuration screen, and turn on Time Machine.
11. In the Time Machine configuration screen, press &amp;quot;Change drive&amp;quot; and select the new drive. You will see the disk icon turn into the green TimeMachine drive icon. You're done.&lt;/p>
&lt;p>You can test Time Machine now by clicking the Time Machine icon in your dock and see that you still have all your history. Once you've verified that all your history is still there, you can use your old Time Machine drive for something else (reformat it).&lt;/p>
&lt;p>You might also want to check your spotlight settings to not include your Time Machine drive for searching. Because I did not touch the volume name on the new drive, I didn't have to change any settings, but I checked to be sure.&lt;/p>
&lt;p>&lt;strong>Bonus tip:&lt;/strong>
Now that you've got a large backup drive, maybe it's time to think about backing up your external drives. Make sure all the drives you want to backup are connected, and open the Time Machine configuration screen. Click on &amp;quot;Options...&amp;quot; and remove the drives you want to back up from that list.&lt;/p></description></item><item><title>OSX: Formatting a 1TB USB Drive</title><link>https://realrolfje.github.io/2008/09/07/osx-format-1tb-usb-drive/</link><pubDate>Sun, 07 Sep 2008 11:50:20 +0000</pubDate><guid>https://realrolfje.github.io/2008/09/07/osx-format-1tb-usb-drive/</guid><description>
&lt;p>I just bought a Maxtor Basics 1TB drive, and found that I could not seem to format it using the Leopard Diskutility. Then, I found &lt;a href="http://en.kioskea.net/forum/affich-4848-wd-my-book-formattin">this page&lt;/a> which contained the golden tip. I'll save you some reading:&lt;/p>
&lt;pre>&lt;code> 1. Open Apple's Disk Utility
2. Click on the drive (not the partition in it, if there is any), and select &amp;quot;Partitioning&amp;quot;.
3. Select &amp;quot;1 partition&amp;quot; and then press &amp;quot;Options&amp;quot;.
4. You'll see that &amp;quot;MBR&amp;quot; is the default, which is what's causing the problem. Select the middle option &amp;quot;Apple Partition&amp;quot; and you're good to go.
&lt;/code>&lt;/pre>
&lt;p>&lt;a href="afbeelding-2.png">&lt;img src="afbeelding-2.png" alt="">
&lt;/a>&lt;a href="afbeelding-3.png">&lt;img src="afbeelding-3.png" alt="">
&lt;/a>&lt;/p>
&lt;p>Screenshots included. It's in Dutch, but the location of the buttons are identical for all languages.&lt;/p></description></item><item><title>Remove formatting from clipboard</title><link>https://realrolfje.github.io/2008/09/05/remove-formatting-from-clipboard/</link><pubDate>Fri, 05 Sep 2008 19:29:58 +0000</pubDate><guid>https://realrolfje.github.io/2008/09/05/remove-formatting-from-clipboard/</guid><description>
&lt;p>In Windows, there is a great tool called &lt;a href="http://www.stevemiller.net/puretext/">&amp;quot;PureText&amp;quot;&lt;/a> which sits in your tray, and can remove formatting from copy/paste actions if you want to. In stead of pasting into notepad, and then copying it again, you now can use the Windows-V combination to paste without formatting. It works in any program, and I'm a fond user of this little gem at work.&lt;/p>
&lt;p>In OSX, you can do this with a key combination, Option-Shift-Command-V. Besides being the silliest and most awkward key combination ever to do a simple paste-action, it does not always do the job properly. I found this &lt;a href="http://homepage.mac.com/simx/technonova/C488455530/E20071125225334/index.html">great tip&lt;/a> where a simple applescript removes formatting from the items in your clipboard.&lt;/p>
&lt;!-- more -->If you don't know how to save this script, do the following:
&lt;pre>&lt;code> 1. Open the Apple Script Editor (use Spotlight if you don't know where to look for it)
2. In the editor window, paste the following text:set the clipboard to «class ktxt» of ((the clipboard as text) as record)
&lt;/code>&lt;/pre>
&lt;p>beep
3. Click &amp;quot;Compile&amp;quot; and then select &amp;quot;Archive -&amp;gt; Save As...&amp;quot;
4. Save the script as an application (anywhere you think is appropriate)
5. Drag the resulting app into your dock to have it handy.&lt;/p>
&lt;p>It looks like a lot of work, but these are the absoluut smallest steps I can help you with. It's really simple. When you're done, select any text you want to copy, and press Command-C to copy it. Then, before pasting, start the app you just made. You'll here the system beep indicating that it's ready. Now you can use Command-V and presto, plain text, no formatting!&lt;/p>
&lt;p>I use this a lot to copy text from mails and documents into my Evernote, and it works fine. The only small irritation is the extra mouseclick.&lt;/p></description></item><item><title>Macbook Pro Screen update issues</title><link>https://realrolfje.github.io/2008/08/18/macbook-pro-screen-update-issues/</link><pubDate>Mon, 18 Aug 2008 18:54:16 +0000</pubDate><guid>https://realrolfje.github.io/2008/08/18/macbook-pro-screen-update-issues/</guid><description>
&lt;p>My wife has this great Macbook Pro 15&amp;quot;, and I &amp;quot;don't mind&amp;quot; using it every now and then. I noticed that when running on batteries, screen updates are a bit strange:&lt;/p>
&lt;pre>&lt;code> * When scrolling down a webpage, the page get garbled. Scrolling the garbled piece out of the window and in again sometimes fixes it.
* When resizing a Finder window, the icons in the window flicker a lot, you can see them being cleared and redrawn.
&lt;/code>&lt;/pre>
&lt;p>I noticed more people having these problems on several forums, and I also read that resetting the PRAM could fix it. Well, I just reset the PRAM and it seems to have fixed it, indeed.&lt;/p>
&lt;p>I used the method mentioned on &lt;a href="http://support.apple.com/kb/HT1379">Apple's support page&lt;/a>, which tells you to shut the computer down, and boot it up holding the command, option, P and R keys. As soon as you see it shutting down after you've started it up, release the keys.&lt;/p>
&lt;p>This is all I did, and it seems to have fixed it.&lt;/p></description></item><item><title>Turn your iPhone into a Drive</title><link>https://realrolfje.github.io/2008/08/10/turn-your-iphone-into-a-drive/</link><pubDate>Sun, 10 Aug 2008 06:00:02 +0000</pubDate><guid>https://realrolfje.github.io/2008/08/10/turn-your-iphone-into-a-drive/</guid><description>
&lt;p>My &lt;a href="http://rolfje.wordpress.com/2008/04/27/homezone-start-isync-automatically/">Nokia 6300&lt;/a> behaves like a flash or thumb drive when I connect it to a computer using an USB cable. I think this should be standard functionality nowadays. Cellphones are replacing the Filofax and MP3 players. I can read mail on my cellphone, take pictures and movies. It contains an 4GB memory stick, sometimes even more. So why do I need to carry this silly thumbdrive with me?&lt;/p>
&lt;!-- more -->If you have an iPhone with the 2.0 firmware, unlimited dataplan, and maybe even [MobileMe](http://www.apple.com/mobileme/), you may already have found a solution for carrying all kinds of data with you. If you haven't, maybe [DataCase](http://www.veiosoft.com/) is something for you. It will allow you to turn your iPhone into a (network) drive and put stuff on there to take with you.
&lt;p>Please note that at the time of this writing, DataCase is in closed Beta testing.&lt;/p></description></item><item><title>Cowbell++;</title><link>https://realrolfje.github.io/2008/08/07/cowbell/</link><pubDate>Thu, 07 Aug 2008 06:00:27 +0000</pubDate><guid>https://realrolfje.github.io/2008/08/07/cowbell/</guid><description>
&lt;p>&lt;a href="http://www.pocketpicks.co.uk/latest/index.php/2008/07/17/iphone-app-of-the-day-3-more-cowbell/">&lt;img src="cowbell.jpg" alt="">
&lt;/a>I just came across this great post about &lt;a href="http://www.copyblogger.com/more-cowbell/">creating captivating content&lt;/a>. The punchline: It's not about getting the scoop, it's about finding the cowbell and amplifying it.&lt;/p>
&lt;p>More funny cowbell references:&lt;/p>
&lt;pre>&lt;code> * Alex Johnson's version the popular [playstation game](http://i44.photobucket.com/albums/f14/AlexJohnson123/cowbell-hero.jpg).
* The [wikipedia page](http://en.wikipedia.org/wiki/More_cowbell) on the cowbell sketch
* The [Cowbell project](http://www.geekspeakweekly.com/cowbell/)
* And... The More [Cowbell app for your iPhone](http://phobos.apple.com/WebObjects/MZStore.woa/wa/viewSoftware?id=285559215&amp;amp;mt=8) (rock on!)
&lt;/code>&lt;/pre>
&lt;p>If you'll excuse me, I'm going to &amp;quot;explore the studio space&amp;quot;. No, really. :-)&lt;/p></description></item><item><title>Apple I Basic Reconstructed</title><link>https://realrolfje.github.io/2008/08/05/apple-i-basic-reconstructed/</link><pubDate>Tue, 05 Aug 2008 06:00:23 +0000</pubDate><guid>https://realrolfje.github.io/2008/08/05/apple-i-basic-reconstructed/</guid><description>
&lt;p>Feast your eyes on this:&lt;/p>
&lt;pre>&lt;code>0000000 4c b0 e2 ad 11 d0 10 fb ad 10 d0 60 8a 29 20 f0
0000010 23 a9 a0 85 e4 4c c9 e3 a9 20 c5 24 b0 0c a9 8d
0000020 a0 07 20 c9 e3 a9 a0 88 d0 f8 a0 00 b1 e2 e6 e2
0000030 d0 02 e6 e3 60 20 15 e7 20 76 e5 a5 e2 c5 e6 a5
&lt;/code>&lt;/pre>
&lt;p>&lt;img src="apple1basic.jpg" alt="">
It is the first 64 bytes of the &lt;a href="http://en.wikipedia.org/wiki/Apple_I">Apple I&lt;/a> Basic, as reconstructed from tape by Michael Steil. You can read all about how he did this on his blog. A nice read for the people out there who can still remember putting tapes with strange sounds on it into the computer.&lt;/p></description></item><item><title>Laptop Stolen? See who did it...</title><link>https://realrolfje.github.io/2008/08/04/laptop-stolen-see-who-did-it/</link><pubDate>Mon, 04 Aug 2008 06:00:40 +0000</pubDate><guid>https://realrolfje.github.io/2008/08/04/laptop-stolen-see-who-did-it/</guid><description>
&lt;p>In this strange world, people can't seem to leave your stuff alone. All the electronic gadgets of today are too attractive to the lowlife of this world. So what do you do if somebody swipes your laptop? You take a few pictures of him, and trace his IP address!&lt;/p>
&lt;!-- more -->This kind of software has been around for a while, and a few companies have made good money of of it. The closed source solutions are also feeding information to those companies when you don't want it to, and you're also not sure what information is send to the company.
&lt;p>There is now a solution for the more paranoid geeks amongst us. It's called &lt;a href="http://adeona.cs.washington.edu/index.html">&amp;quot;Adeona&amp;quot;&lt;/a>, and it is the first Open Source system for tracking the location of your lost or stolen laptop. The software does not rely on a proprietary and/or central service, and is entirely free.&lt;/p>
&lt;p>What's also nice is that only the owner (that's you) can access the machine should you want to trace it. If you don't trust me, and don't trust Adeona, you can always check the sourcecode yourself.&lt;/p>
&lt;p>A laptop is the most logical target of the casual thief, so it makes sence to install it on there. A casual thief is usually not tech savvy, so before he discoveres that Adeona (or any other similar program) you will have usually traced him.&lt;/p>
&lt;p>Burglars also tend to take your desktop machine, so you might aswel install Adeona on there, too. And since Adeona comes as an OSX, Linux and Windows program, most of the computers out there will be covered.&lt;/p>
&lt;p>I only wish that I could live in a world where people could appreciate other people's toys without touching or stealing them.&lt;/p></description></item><item><title>No Exclamation Please</title><link>https://realrolfje.github.io/2008/08/01/no-exclamation-please/</link><pubDate>Fri, 01 Aug 2008 21:36:58 +0000</pubDate><guid>https://realrolfje.github.io/2008/08/01/no-exclamation-please/</guid><description>
&lt;p>&lt;figure class="float_left">&lt;a href="http://en.wikipedia.org/wiki/Exclamation_mark">&lt;img src="no-exclamation.png" width="80"/>&lt;/a>
&lt;/figure>
Some developers nowadays still think that putting an exclamation mark in their log entries adds to the visibility of their entry. When other developers notice this, they will add even more exclamation marks so their log entries are even more visible. I compiled a few examples of bad log entries and some pointers for you to improve your log entries.&lt;/p>
&lt;!-- more -->
&lt;p>In my current project, I've seen log lines like:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="ln">1&lt;/span>&lt;span class="n">Logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">warn&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;No null allowed here !!!&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Or the &amp;quot;I really stand out&amp;quot; tricks like:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="ln">1&lt;/span>&lt;span class="n">Logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">debug&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;-&amp;gt;-&amp;gt;-&amp;gt;-&amp;gt; Reached this line !&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Writing log entries like this really show your inability to use your &lt;a href="http://en.wikipedia.org/wiki/Integrated_development_environment">IDE&lt;/a> for setting breakpoints and stepping through code,  while also showing your poor comunication skills. If I encounter these kind of log entries, I try to see if I can improve them, and/or adjust their level. Here are some pointers I use for writing log entries:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Be informative.&lt;/strong> Try to include all information in the log entry which could help the reader determine the reason or cause for this log entry.&lt;/li>
&lt;li>&lt;strong>Use full sentences.&lt;/strong> Write your log entries like a novel. It will make them easier to read, and will also allow system administrators to litteraly copy/paste the text into a mail when sharing information about problem analysis. They will thank you for it.&lt;/li>
&lt;li>&lt;strong>Refrain from using &amp;quot;search strings&amp;quot;.&lt;/strong> Lots of stars, dashes or quotes do not improve readability of the log file, and it will make it look unprofessional. Searching for a bunch of stars is just as fast as searching for a word, given the right tools.&lt;/li>
&lt;li>&lt;strong>Don't overdo it.&lt;/strong> Try to have at most 1 log statement per method. Don't spoil it on trivial information, it will devaluate the rest of the entries in the logfile.&lt;/li>
&lt;/ul>
&lt;p>Using these guidelines, the log entries I showed you could be rewritten as:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="ln">1&lt;/span>&lt;span class="n">Logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">warn&lt;/span>&lt;span class="o">(&lt;/span>
&lt;span class="ln">2&lt;/span> &lt;span class="s">&amp;#34;The method &amp;#39;storeUser&amp;#39; doesn&amp;#39;t accept &amp;#39;null&amp;#39; as it&amp;#39;s parameter.&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>and&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="ln">1&lt;/span>&lt;span class="n">Logger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">debug&lt;/span>&lt;span class="o">(&lt;/span>
&lt;span class="ln">2&lt;/span> &lt;span class="s">&amp;#34;The user with id &amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getId&lt;/span>&lt;span class="o">()+&lt;/span>&lt;span class="s">&amp;#34; was stored in the database.&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Comparing these new versions with the earlier examples, I think you will find that there is much more information in these, and you can now even guess that these entries are from a storage method in a &lt;a href="http://en.wikipedia.org/wiki/Data_Access_Object">DAO&lt;/a> for storing users.&lt;/p>
&lt;p>Another important thing to think about when writing log entries is the level at which you log. For Log4J log messages, I use the following definitions to choose log levels:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>FATAL&lt;/strong> - The system has encountered such a severe error that it needs to shut down completely. No user can access the system after this log message. &amp;quot;&lt;a href="http://en.wikipedia.org/wiki/Core_dump">Core dump&lt;/a>&amp;quot; and &amp;quot;&lt;a href="http://en.wikipedia.org/wiki/Crash_%28computing%29">Crash&lt;/a>&amp;quot; come to mind.&lt;/li>
&lt;li>&lt;strong>ERROR&lt;/strong> - A serious error prevented the action from completing. Although the application is still running, the user session is probably terminated or in an awkward state. Examples of ERROR are temporarily inaccessable databases or remote systems which prevent the current action from completing succesfuly. A few error messages should be enough to call second level support in the middle of the night.&lt;/li>
&lt;li>&lt;strong>WARN&lt;/strong> - The user session is still usable, and the system encountered an abnormality which should possibly be analyzed by a system administrator or level 1 support guy to see if corrective actions need to be planned.&lt;/li>
&lt;li>&lt;strong>INFO&lt;/strong> - Info to the system administrator about interesting events. These events are &amp;quot;The application started up and is now ready for use&amp;quot; or &amp;quot;The application will use server XYZ for database access&amp;quot;. Informative or confirmative messages.&lt;/li>
&lt;li>&lt;strong>DEBUG&lt;/strong> - Everything else. Stuff you don't really need to see in a production environment. In some rare cases, you can set the visibility of the log levels to &amp;quot;debug&amp;quot; in a production environment if you have a really strange problem and are willing to sacrifice some system speed and storage to analyze. System administrators will (should) not want to see this information.&lt;/li>
&lt;/ul>
&lt;p>The last tip I am going to give you, which does not only apply to coding, but also writing mails and documentation in general:&lt;/p>
&lt;center>&lt;br/>&lt;span style="font-weight: bold; font-size: 1.5rem;">Never, ever use exclamation marks in professional texts!&lt;/span>&lt;br/>&lt;br/>&lt;/center>
&lt;p>Exclamation marks are a poor mans way of expressing the inability to indicate the importance of a sentence, while at the same time insulting the reader. Why do you assume that the reader does not get the importance of your words?&lt;/p>
&lt;p>If you ever wonder why I didn't answer your mail immediately, see if there are exclamation marks in there. And no, adding some will not help.&lt;/p></description></item><item><title>The Process</title><link>https://realrolfje.github.io/2008/08/01/the-process/</link><pubDate>Fri, 01 Aug 2008 13:55:18 +0000</pubDate><guid>https://realrolfje.github.io/2008/08/01/the-process/</guid><description>
&lt;p>When working at a Software Company, every now and then you need to do requirements workshops. You can't imagine how close the following video comes to the truth. Thanks to &lt;a href="http://sethgodin.typepad.com/seths_blog/2008/07/weekend-reading.html">Seth's blog&lt;/a>.&lt;/p>
&lt;p>[youtube=http://www.youtube.com/watch?v=kU9YeOQm3Y0]&lt;/p></description></item><item><title>Spring SystemPropertyInitializingBean</title><link>https://realrolfje.github.io/2008/07/23/spring-systempropertyinitilizingbean/</link><pubDate>Tue, 22 Jul 2008 22:37:29 +0000</pubDate><guid>https://realrolfje.github.io/2008/07/23/spring-systempropertyinitilizingbean/</guid><description>
&lt;p>When using POI in any of your projects, and the application you're building is a web application, you probably have it running on a Windows machine. If not, you know all about the struggle with the &lt;a href="http://java.sun.com/developer/technicalArticles/J2SE/Desktop/headless/">&amp;quot;headless mode&amp;quot;&lt;/a> environment setting to tell the JVM how to handle graphics rendering.&lt;/p>
&lt;p>I always like to keep my applications as clean as possible to the users. The system administrator is also a user of the software (during installation at least). So I wanted the application to set the environment properties itself, In this case, I built a nice little Spring bean to handle this. The solution is so simple, that it is almost a brilliant display of what Spring can solve for you. Suddenly, all these environment setting problems turned into a simple Spring configuration problem. Here's how:&lt;/p>
&lt;!-- more -->In the Spring configuration, the whole "headless mode" problem got reduced to this bean definition:
&lt;pre>&lt;code>&amp;lt;bean id=&amp;quot;systemproperty_initializer&amp;quot; 
   class=&amp;quot;com.rolfje.SystemPropertyInitiliazingBean&amp;quot;&amp;gt;
   &amp;lt;property name=&amp;quot;systemProperties&amp;quot;&amp;gt;
      &amp;lt;map&amp;gt;
         &amp;lt;!-- Set headless mode to true, 
              for POI sheet.autoSizeColumn See 
&amp;lt;span&amp;gt;              &amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;http://poi.apache.org/hssf/quick-guide.html&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt; 
         --&amp;gt;
         &amp;lt;entry key=&amp;quot;java.awt.headless&amp;quot; value=&amp;quot;true&amp;quot;/&amp;gt;
     &amp;lt;/map&amp;gt;
   &amp;lt;/property&amp;gt;
&amp;lt;/bean&amp;gt;&amp;lt;/span&amp;gt;
&lt;/code>&lt;/pre>
&lt;p>The code for the SystemPropertyInitilizingBean is really a simple list iterator which walks though the map and sets everything as a system property:&lt;/p>
&lt;pre>&lt;code>/**
 * Bean for automatically initializing System 
 * properties from within a Spring context. 
 */
public class SystemPropertyInitializingBean 
       implements InitializingBean {
        /** Properties to be set */
        private Map systemProperties;
        /** Sets the system properties */
        public void afterPropertiesSet() 
               throws Exception {
                if (systemProperties == null || 
                       systemProperties.isEmpty()) {
                        // No properties to initialize
                        return;
                }
                Iterator i = systemProperties.keySet().iterator();
                while (i.hasNext()) {
                        String key = (String) i.next();
                        String value = (String) systemProperties.get(key);
                        System.setProperty(key, value);
                }
        }
        public void setSystemProperties(Map systemProperties) {
                this.systemProperties = systemProperties;
        }
}
&lt;/code>&lt;/pre>
&lt;p>In my opinion this is a nice and clean solution, which does not impact any of the application code, hides the setting of obscure system properties from the administrator, is simple to the developer, gives room to add comments (see Spring xml above)and is reusable. All in a few lines of code. You can even easily have it parese settings from a config file, and put that into system environment variables without changing a line of code. All in Spring XML.&lt;/p>
&lt;p>Sometimes it's the small things that make you feel nice :-)&lt;/p></description></item><item><title>Tomcat, UTF-8 and the RequestDumperValve</title><link>https://realrolfje.github.io/2008/07/20/tomcat-utf-8-and-the-requestdumpervalve/</link><pubDate>Sat, 19 Jul 2008 22:30:11 +0000</pubDate><guid>https://realrolfje.github.io/2008/07/20/tomcat-utf-8-and-the-requestdumpervalve/</guid><description>
&lt;p>A week ago, we encountered a funny problem where our Tapestry 3.0 application seemed to screw up the encoding of form posts. Every time we tried to post a form with diacritics in the input fields, the data got mangled before reaching the application code.&lt;/p>
&lt;p>As it turned out, somebody had turned on the RequestDumperValve in the Tomcat configuration file. The request dumper does not only dump the request, but is also kind enough to mangle the data before handing it over to the servlet for further processing:&lt;/p>
&lt;p>&lt;em>&lt;!-- more -->&amp;quot;Enabling the RequestDumperValve in both 5.5.12 and 5.0.16 (!) messes up the parsing of other-than-ISO-8859-1 incoming parameters.
After using a rather huge bunch of hours, this came down as the result: when this &amp;quot;debug valve&amp;quot; is turned on, it seems to default to ISO-8859-1 when it parses and log-outputs the incoming parameters, thus also implicitly setting the entire Request-object to this enc, so any subsequnt setting to UTF-8 doesn't matter at all. At least this is true for POST parameters.
For GET parameters, the situation is a little different. Here an explicit setting of URIEncoding to UTF-8 seems to work as it should, while useBodyEncodingForURI doesn't - it picks up the wrong already implicitly set encoding. (For 5.0.16 I can't seem to get the latter version to work, and have to use the explicit setting.)
Sorry if my analysis doesn't hold water, but at least the bug seems to be very consistent.&amp;quot;&lt;/em>&lt;/p>
&lt;p>(quoted from a post by Endre Stølsvik found in the &lt;a href="http://www.mail-archive.com/users@tomcat.apache.org/msg04008.html">mail archive&lt;/a>)&lt;/p>
&lt;p>So if you have strange UTF-8 problems with Tomcat, see if the following line is in your server.xml file:&lt;/p>
&lt;pre>&lt;code>   &amp;lt;Valve className=&amp;quot;org.apache.catalina.valves.RequestDumperValve&amp;quot;/&amp;gt;
&lt;/code>&lt;/pre>
&lt;p>If this line is in, comment it out, restart and try again. Chances are that your problem has dissapeared.&lt;/p>
&lt;p>The most irritating point about this whole adventure is that the RequestDumperValve was found by a collegue with which I used the RequestDumperValve a year or so ago to fix some other problem, and we already had discovered exactly this behaviour. If only I had blogged about it then... Good thing Joris' memory is better than mine :-)&lt;/p></description></item><item><title>Conform Specs is not enough</title><link>https://realrolfje.github.io/2008/07/12/conform-specs-is-not-enough/</link><pubDate>Sat, 12 Jul 2008 19:13:18 +0000</pubDate><guid>https://realrolfje.github.io/2008/07/12/conform-specs-is-not-enough/</guid><description>
&lt;p>Like any good software company, when a project starts, we sit down with the client, and talk about what we can do to help. The result is usually a more or less complete SRS (Software Requirement Specification). The SRS serves as input to the design fase (we usually already have an architecture sketch when the SRS is made) and those two documents are used to brief the developers and keep everybody posted on what to build. If all done correctly, this should then result in a perfect piece of software right?&lt;/p>
&lt;!-- more -->Well yes and no. Recently I noticed a funny implementation of a requirement which proved to me that sometimes, people do not care enough to see what they are actually doing.
&lt;p>&lt;img src="conform-specs.png" alt="">
In this particular case, the customer wanted an authorization workflow built into a system so that administrators could aprove of a customer request. In the SRS it was clearly written that the state of the customer request should be easily visible, using traffic light icons. The developer that was responsible for this perfectly implemented the requirement, and created the traffic lights, as you can see on the right. Yes, these are exact copies.&lt;/p>
&lt;p>So far so good right? Functionality implemented and working, no bugs, traffic lights according to specs. This was implemented 11 months ago, and the customer has not complained. He had no reason to. It was according to specs.&lt;/p>
&lt;p>These traffic lights are viewed by the clients employees and customers in 5 countries, about 4000 times a month. If any of these users are like me, they are probably amazed by the traffic lights. It has no hint of design in it. It was just hacked together. Look at the red traffic ligt. The red lamp is not in the middle of the black box. To me, it shows utter carelesness. The whole traffic light is 8 pixels wide. When hand-pixeling this in 800% zoom mode (which has obviously been done), the creator was so blind that he didn't take care in placing the lights in the middle of the black area. How blind can you be?&lt;/p>
&lt;p>Mission critical applications are expensive. So why is it that sometimes they don't &amp;quot;look-and-feel&amp;quot; expensive? Because it is all up to the developer to care about these details. Not only do you need perfectionists, you need passionate people wo actually care about what they're building and have a bad nights sleep when something is wrong with the project.&lt;/p>
&lt;p>&lt;img src="good-solution.png" alt="">
I this case, I made an attempt to fix it by replacing the traffic lights with my own versions (shown at your right). To me, it is a huge difference. You may not like the design, but these lights at least show that we care. Because we do.&lt;/p>
&lt;p>Don't just fight the specs. Beat them. &lt;a href="http://www.youtube.com/watch?v=jh_RGjqkJ04">&amp;quot;Swiftly, and with style.&amp;quot;&lt;/a>&lt;/p></description></item><item><title>Hacking Your Way Through Codebases</title><link>https://realrolfje.github.io/2008/07/02/hacking-your-way-through-codebases/</link><pubDate>Wed, 02 Jul 2008 19:12:32 +0000</pubDate><guid>https://realrolfje.github.io/2008/07/02/hacking-your-way-through-codebases/</guid><description>
&lt;p>I found a nice blog post which describes how it is after you leave school and start programming for a real company. You discover that programming is more like 80% reading and 20% coding.&lt;/p>
&lt;p>Read the article at the Tired Architect's blog titled &lt;a href="http://antipattern.wordpress.com/2008/06/19/hacking-your-way-through-codebases/">&amp;quot;Hacking Your Way Through Codebases&amp;quot;&lt;/a>.&lt;/p></description></item><item><title>Migrate from Windows to OSX</title><link>https://realrolfje.github.io/2008/06/18/migrate-from-windows-to-osx/</link><pubDate>Wed, 18 Jun 2008 19:09:36 +0000</pubDate><guid>https://realrolfje.github.io/2008/06/18/migrate-from-windows-to-osx/</guid><description>
&lt;p>My wife got tired of her Windows/Compaq laptop. So 2 weeks ago, she decides to go out and buy a &lt;a href="http://www.apple.com/macbookpro/">15&amp;quot; macbook pro&lt;/a> (an excelent choice I might add). She was a bit worried about getting used to the new machine, but decided to take the risk. After no more than 3 days, with surprisingly little help, she figured out how to do everything she did on the Windows machine, and even installed her own software.&lt;/p>
&lt;p>The last thing to do was to migrate all the stuff from her old Windows machine to her new &amp;quot;lappie&amp;quot; (yes, she actually gave this one a nickname :-) ). Although Microsoft tries hard to keep Outlook Express users &lt;a href="http://en.wikipedia.org/wiki/Vendor_lock-in">locked in&lt;/a>, I did find a tool that solved the problem completely for me.&lt;/p>
&lt;!-- more -->**Bookmarks**
&lt;p>&lt;a href="menubarcheck.jpg">&lt;img src="menubarcheck.jpg?w=77" alt="Turn on IE7 Menu Bar">
&lt;/a>This is an easy thing to do. Most browsers can export their bookmarks easily, and Safari can import them easily. There was one little thing that took some time figuring out: IE7 hides your menu bar, which prevents you from finding the &amp;quot;File -&amp;gt; Export Bookmarks...&amp;quot; option. You can turn the menubar back on by clicking on the &amp;quot;Tools&amp;quot; menu, and selecting &amp;quot;Menu bar&amp;quot;.&lt;/p>
&lt;p>Now that you've got the &amp;quot;File&amp;quot; menu in Internet Explorer, I think you can figure out the rest for yourselves. Import the resulting HTML into Safari by using the &amp;quot;Archive -&amp;gt; Import Bookmarks...&amp;quot; option and you're done.&lt;/p>
&lt;p>**Outlook Express export
**&lt;/p>
&lt;p>&lt;a href="outlook-mappen.png">&lt;img src="outlook-mappen.png" alt="">
&lt;/a>Outlook Express is a bit trickier. First, you need to find your mailbox files. Normally, finding files is not a big problem, but Microsoft has crippled the &amp;quot;Search&amp;quot; functionality in Explorer to such a degree that you can't actually find your mailbox files with it. So, Choose &amp;quot;Start -&amp;gt; Run...&amp;quot; and type in &amp;quot;cmd&amp;quot;. The black box you'll see is a &lt;a href="http://www.youtube.com/watch?v=dmEvPZUdAVI">DOS Prompt&lt;/a>. Open your Outlook express and take a look at the names of your mailbox Folders. On yor filesystem, there are &amp;quot;dbx&amp;quot; files which correspond with these. For the example on the right, we can find all dbx files with the following commands:&lt;/p>
&lt;pre>&lt;code>&amp;lt;span style=&amp;quot;color:#999999;&amp;quot;&amp;gt;C:\Documents and Settings\YourLoginName&amp;gt;&amp;lt;/span&amp;gt;cd \
&amp;lt;span style=&amp;quot;color:#999999;&amp;quot;&amp;gt;C:\&amp;gt;&amp;lt;/span&amp;gt;dir /s /b *.dbx
&lt;/code>&lt;/pre>
&lt;p>You'll get a list of complete filenames (drive, directory and filename) of the Outlook Express dbx files found on your system. Close Outlook Express, find the corresponding files and copy them into a temporary folder for convenience.&lt;/p>
&lt;p>Now that we've got the dbx files containing all the mail, we need to convert those into a format which can be read by Mail.app. To do that, download &lt;a href="http://freenet-homepage.de/ukrebs/english/dbxconv.html">DbxConv&lt;/a> and unzip it in the same temporary folder you just created.&lt;/p>
&lt;p>Go back to your DOS Prompt, go into the directory where your dbx files and DbxConv are, and use the following command to convert everything into &lt;a href="http://www.qmail.org/man/man5/mbox.html">mbox files&lt;/a>:&lt;/p>
&lt;pre>&lt;code>&amp;lt;span style=&amp;quot;color:#999999;&amp;quot;&amp;gt;C:\temp\&amp;gt;&amp;lt;/span&amp;gt;DbxConv *.dbx
&lt;/code>&lt;/pre>
&lt;p>Take the resulting mbox files and put them on your new Mac.&lt;/p>
&lt;p>&lt;strong>Mail.app import&lt;/strong>&lt;/p>
&lt;p>&lt;a href="afbeelding-11.png">&lt;img src="afbeelding-11.png" alt="">
&lt;/a>Open &lt;a href="http://www.apple.com/macosx/features/mail.html">Mail.app&lt;/a> and configure it without worrying about it getting your mail or creating mailboxes. All done? Good. Select &amp;quot;Archive -&amp;gt; Import Mailbox...&amp;quot; from the menu at the top of your screen. Select the &amp;quot;mbox&amp;quot; format, and then select all the mbox files you've just put on your Mac.&lt;/p>
&lt;p>Mail.app will import all the mailboxes, and place them in a folder called &amp;quot;Imported Mailboxes&amp;quot;. In this folder, you'll find additional Folders, one per mbox file. All your mail will be in those folders, including the correct dates, attachments and even read/unread information. Drag the mails to any Folder you like, for instance the &amp;quot;Inbox&amp;quot; folder contents can be dragged to... you guessed it, your Mail.app &amp;quot;Inbox&amp;quot;. It will merge perfectly, like you've always been using Mail.app.&lt;/p>
&lt;p>&lt;strong>MSN and GoogleTalk&lt;/strong>&lt;/p>
&lt;p>If you're a GoogleTalk user, you can get away with &lt;a href="http://www.apple.com/macosx/features/ichat.html">iChat&lt;/a> , the built-in chat client in Leopard. Just &lt;a href="http://www.google.com/support/talk/bin/answer.py?answer=24076">set it up&lt;/a> to use the google server and youre good to go.&lt;/p>
&lt;p>If you're an MSN user, you can try &lt;a href="http://www.amsn-project.net/download.php">aMSN&lt;/a>, which should look very familiar to you.&lt;/p>
&lt;p>If you use both GoogleTalk and MSN, and possibly other chat clients, your best bet is to go with &lt;a href="http://www.adiumx.com/">Adium&lt;/a>. Adium is the chat client of my choice, but it can not do audio or video, so be warned (to me this is a big plus by the way :-) ).&lt;/p>
&lt;p>&lt;strong>Make a Disk Image&lt;/strong>&lt;/p>
&lt;p>In addition to migrating your mail and bookmarks, you need to move your data to your new machine, too. There's always a chance that you forget to move stuff. So keep your old PC for another month or so, or even better: Make a &lt;a href="http://rolfje.wordpress.com/2008/06/06/clone-windows-hd-on-apple-osx-machine/">disk image&lt;/a> from the harddisk. You can now safely trash your PC (&lt;a href="http://dban.sourceforge.net/">wipe that harddisk first&lt;/a>) without having to worry about lost data.&lt;/p>
&lt;p>Do yourself another favour: Buy a 500GB (or bigger) harddisk, and reserve it for backups only. Hook it up to your new Mac and you'll be automagically introduced to Apple's excelent zero-setup, zero-fuss &lt;a href="http://www.apple.com/macosx/features/timemachine.html">TimeMachine&lt;/a>. You'll be very happy, &lt;a href="http://rolfje.wordpress.com/2008/02/21/time-machine-to-the-rescue/">trust me&lt;/a>. Or &lt;a href="http://blog.bernardkowalski.com/?p=3">trust others&lt;/a>.&lt;/p>
&lt;p>Have fun with your new computer!&lt;/p></description></item><item><title>Clone Windows HD on Apple OSX machine</title><link>https://realrolfje.github.io/2008/06/06/clone-windows-hd-on-apple-osx-machine/</link><pubDate>Fri, 06 Jun 2008 21:07:34 +0000</pubDate><guid>https://realrolfje.github.io/2008/06/06/clone-windows-hd-on-apple-osx-machine/</guid><description>
&lt;p>Last week, lightning struck at my parents apartment building (literaly). Other damages aside, my dad's PC also died.&lt;/p>
&lt;p>The guy at the PC repair shop warned my dad that &lt;em>&amp;quot;we may need to wipe the HD, do you have a backup&amp;quot;?&lt;/em> Ofcourse, all data was backed up daily and &amp;quot;off-site&amp;quot; at my house so all important data was safe. But just in case, we wanted to make an exact disk image of the drive, so that we could easily restore it when the PC returns from the store&lt;/p>
&lt;!-- more -->I wanted to have a future proof process, run on a Mac, something as follows:
&lt;pre>&lt;code> 1. Make an image file of the complete source harddisk including all partitions (in our case there were 3 NTFS partitions on the disk). The image file includes any boot records or loaders if they exist, and is an Apple DMG file so it can be mounted on OSX.
2. Store the image file on a server disk (so it in turn gets backed up)
3. When there's trouble, we now have 2 options, which are
&lt;/code>&lt;/pre>
&lt;p>a) mount the image and restore 1 or 2 important files
b) write/restore the image to a new disk&lt;/p>
&lt;p>So we bought a second 500GB drive to play around with, and try the restores on.&lt;/p>
&lt;p>With the Mac Disk Utility, I made an &amp;quot;MBR&amp;quot; disk image of a drive. Mounting this image gave me the access to all 3 NTFS partitions and data on them. However, for some strange reason, Disk Utility could not restore it's own disk image to the drive,  because it does not allow me to drag the target disk into the target disk field (use google to find more people having this problem). Mucking around with the command line tool &lt;a href="http://en.wikipedia.org/wiki/Dd_(Unix)">&amp;quot;dd&amp;quot;&lt;/a>, I actually managed to restore the DMG back onto a physical drive, but for some reason, the primary partition was damaged.&lt;/p>
&lt;p>Digging around on the internet, I found that the following method may be the only reliable way to do this and meet all my requirements. It's relatively simple, although it does take a trip to the command line (which is really not very Apple like).&lt;/p>
&lt;p>&lt;strong>Backup the DRIVE, not a PARTITION&lt;/strong>&lt;/p>
&lt;p>What Apple calls a &amp;quot;drive&amp;quot; or &amp;quot;disk&amp;quot; is actually often just a partition on a physical disk. A physical disk can have multiple partitions, which appear as multiple &amp;quot;disks&amp;quot; in the Finder or Disk Utility. Because we want to make an image of the physical disk, we need to find out where that disk is. In the Terminal, use to following command:&lt;/p>
&lt;pre>&lt;code>diskutil list
&lt;/code>&lt;/pre>
&lt;p>You'll get a list of all the physical drives, and the partitions which are on there. For example, our testdisk shows up as follows:&lt;/p>
&lt;pre>&lt;code>/dev/disk3
   #:                   TYPE NAME      SIZE     IDENTIFIER
   0: FDisk_partition_scheme          *465.8 Gi disk3
   1:             DOS_FAT_32 TESTDISK 465.8 Gi disk3s1
&lt;/code>&lt;/pre>
&lt;p>The physical disk is known to the system as /dev/disk3, and the first (and only) pastition on there is a FAT32 partition, and the name of the partition is TESTDISK. To make a DMG of the complete disk with all it's partitions, the following command is enough:&lt;/p>
&lt;pre>&lt;code>dd if=/dev/disk3 of=/Users/rolf/MyCompleteDisk100GB.dmg
&lt;/code>&lt;/pre>
&lt;p>The command will take a (long, long) while to complete. I've read some posts where people were waiting for days for dd to complete their image. There's also no progress bar. Terrible, but for now I can't help you with this without getting into rediculous trickery as found on some &lt;a href="http://www.youtube.com/watch?v=_b1cyNigny8">l33tsp34k&lt;/a> hippie h4xor blogs out there.&lt;/p>
&lt;p>The fun thing about this trick is, that OSX is able to mount that DMG file. You just double-click it, and &amp;quot;&lt;a href="http://www.boomcounter.org/">boom&lt;/a>&amp;quot;. There are your partitions. A big problem is that these images are uncompressed. So you'll need 500GB free space to backup a 500GB drive. That's not funny. You can circumvent that by having the data zipped before writing it to disk but that means you'll not be able to mount it.&lt;/p>
&lt;p>Writing it in compressed form (which is even slower) can be done like so:&lt;/p>
&lt;pre>&lt;code>dd if=/dev/disk3 | gzip -9 &amp;gt; /Users/rolf/MyCompleteDisk100GB.dmg.gz
&lt;/code>&lt;/pre>
&lt;p>&lt;strong>Restore the DRIVE (not the partition)&lt;/strong>&lt;/p>
&lt;p>To restore a dmg onto a physical disk, get a disk which is at least the size as the original disk. Having the original disk's size in the filename like in the example above helps you to remember that in a few months.&lt;/p>
&lt;p>After checking which disk you need to write to with the diskutil (as shown abve), restoring an uncompressed disk image merely requires you to swap input and output parameters, like so:&lt;/p>
&lt;pre>&lt;code>dd if=/Users/rolf/MyCompleteDisk100GB.dmg of=/dev/disk3
&lt;/code>&lt;/pre>
&lt;p>Please note that this works because in my case I haven't rebooted or reconnected drives, so the drive I need to write to is still /dev/disk3.&lt;/p>
&lt;p>If you did the gzip compression trick mentioned above, you need to get a bit more fancy:&lt;/p>
&lt;pre>&lt;code>cat /Users/rolf/MyCompleteDisk100GB.dmg.gz | gzip -d | dd of=/dev/disk3
&lt;/code>&lt;/pre>
&lt;p>Although all of this works, I hope that somebody, somewhere can show me a simple, clean, OSX native, GIU based solution to this, meeting the 3 requirements in this article.&lt;/p></description></item><item><title>Difference between Windows and OSX</title><link>https://realrolfje.github.io/2008/05/27/difference-between-windows-and-osx/</link><pubDate>Tue, 27 May 2008 04:00:17 +0000</pubDate><guid>https://realrolfje.github.io/2008/05/27/difference-between-windows-and-osx/</guid><description>
&lt;p>Another great example showing the differences between OSX and Windows. Bot applications synchronize your phone over bluetooth. Both applications are simple to use, but one is simpler. And contrary to expectations, this time the Windows version (left) will cost you money, and the OSX version (right) is free.&lt;/p>
&lt;p>&lt;a href="sync.gif">&lt;img src="sync.gif" alt="">
&lt;/a> &lt;a href="afbeelding-2.png">&lt;img src="afbeelding-2.png?w=128" alt="">
&lt;/a>&lt;/p>
&lt;p>Although you'd expect the Windows version to do more with all these bells and wistles on the screen, but it's actually &lt;a href="http://en.wikipedia.org/wiki/ISync">iSync&lt;/a> that also synchronizes the calendar to my phone, and back. Automatically. No configuration needed, it does what is considered logical to the sensible mind.&lt;/p>
&lt;p>Apple and OSX are just like a &lt;a href="http://commons.wikimedia.org/wiki/Image:Volkswagen_New_Beetle_Germany.jpg">Volkswagen New Beetle&lt;/a>. Either you like it, or you don't. But either way, it's good that it's here.&lt;/p>
&lt;p>&lt;em>For the record: I don't like the Volkswagen New Beetle, and I do like OSX. My Mac Mini is absolutely by far the best computer I have bought in the past 5 years, maybe even the best computer I've bought ever. No kidding.&lt;/em>&lt;/p></description></item><item><title>No more www.localhost.com</title><link>https://realrolfje.github.io/2008/05/06/no-more-wwwlocalhostcom/</link><pubDate>Tue, 06 May 2008 11:15:28 +0000</pubDate><guid>https://realrolfje.github.io/2008/05/06/no-more-wwwlocalhostcom/</guid><description>
&lt;p>I'm using a few development servers over SSH, and for that I have used &lt;a href="http://nemesis2.qx.net/software-myentunnel.php">myEntunnel&lt;/a> to tunnel a few remote ports to my local machine. When I screw up my configuration or forget to start myEntunnel, Firefox is &amp;quot;smart enough&amp;quot; to change &amp;quot;localhost:9090&amp;quot; into &amp;quot;http://www.localhost.com:9090&amp;quot; when it can't reach the local port.&lt;/p>
&lt;p>More people are having this problem, and apparently there is a configuration trick to stop Firefox from adding &amp;quot;www&amp;quot; and &amp;quot;com&amp;quot; to the URL when it can't reach the site. Read more about it at the &lt;a href="http://www.latenightpc.com/blog/archives/2007/08/01/fixed-firefox-automatically-adds-www-and-com/">latenightpc blog&lt;/a>.&lt;/p>
&lt;p>In FireFox 2, do the following:&lt;/p>
&lt;pre>&lt;code> 1. Type **about:config** in the address bar and hit return.
2. find **browser.fixup.alternate.enabled**
3. double click the &amp;quot;true&amp;quot; value. The line will become bold, and the value will change to &amp;quot;false&amp;quot;
&lt;/code>&lt;/pre>
&lt;p>That's it. Happy browsing!&lt;/p></description></item><item><title>BusySync vs Spanning Sync</title><link>https://realrolfje.github.io/2008/05/03/busysync-vs-spanning-sync/</link><pubDate>Sat, 03 May 2008 19:31:36 +0000</pubDate><guid>https://realrolfje.github.io/2008/05/03/busysync-vs-spanning-sync/</guid><description>
&lt;p>Google calendar is the new &amp;quot;Cool&amp;quot; in the calendar world. Or at least, the guys at work seem to think so. For me, a 100% online calendar is not always a good solution, because I can't take it with me. Getting Google calendar to sync with iCal would help, because that syncs to my phone and iPod. I tried BusySync and Spanning Sync to do this. One of them succeeded.&lt;/p>
&lt;!-- more -->I've always been a FiloFax guy. My organizer is a typical one, it's rather big, and contains all business cards, papers, copies and notes I think are important enough to carry around. Every now and then (about every 2 years when I think about it) I try to migrate to a digital version. I've had a [Psion 3c](http://en.wikipedia.org/wiki/Psion_3), an [HP iPaq](http://en.wikipedia.org/wiki/Ipaq), I tried to do the "[Print](http://www.43folders.com/forum/2007/10/10/google-calendar-index-card)-a-[Google](http://www.google.com/support/calendar/bin/answer.py?hl=en&amp;answer=41067)-[Calendar](http://lifehacker.com/358308/convert-your-google-calendar-to-pdf)" trick, and even briefly used my [Sony Ericsson T610](http://en.wikipedia.org/wiki/Sony_Ericsson_T610) as my calendar.
&lt;p>Every time, after a while, I find myself switching back to my trusty FiloFax. Usually because something happens to my calendar, or me not being able to access it. Failing backups, failing batteries, unreadable screens, awkward interfaces, and inability to scribble a simple drawing in there.&lt;/p>
&lt;p>Last weekend I entered a new cycle of getting it all digital again. I've been digital for a complete week now, and it doesn't feel too awkward. Maybe this time it will work...&lt;/p>
&lt;p>&lt;strong>Backing up&lt;/strong>&lt;/p>
&lt;p>Before trying anything, I backed up my Google Calendars and iCal calendars. There wasn't much in them, but it's nice to be able to return to a known state. Yes, I have Time Machine but the trick of a backup system is not having to rely on it in your daily work. So here are 2 important links:&lt;/p>
&lt;p>&lt;a href="http://www.google.com/support/calendar/bin/answer.py?hl=en&amp;amp;answer=37111">Backing up your Google Calendar&lt;/a> and &lt;a href="http://leopardtips.blogspot.com/2007/11/back-up-ical-and-address-book.html">Backing up your iCal Calendar&lt;/a>.&lt;/p>
&lt;p>&lt;strong>The Problem&lt;/strong>&lt;/p>
&lt;p>Get a usable solution to view and update my calendar online aswell as on the road, without manual actions to get everything synchronized.&lt;/p>
&lt;p>&lt;strong>The Solution&lt;/strong>&lt;/p>
&lt;p>Use Google Calendar for online editting, use iCal as central hub for synchronizing to all my devices, use my Nokia 6300 for viewing and editting on the road. My iPod nano is a nice extra for viewing my calendar when my phone dies on the road.&lt;/p>
&lt;p>Apple has done a great job of synchronizing iCal to all my devices, so that's a no-brainer. iTunes and iSync take care of that flawlessly, even without me asking, for a couple of months already. It's just that I wasn't really using iCal.&lt;/p>
&lt;p>The challenge is in getting Google Calendar to sync with iCal. There are a &lt;a href="http://www.twistermc.com/blog/2007/06/28/sync-ical-google">couple of solutions&lt;/a> to do this, and I choose to give BusySync and Spanning Sync a try, because these feel most suited to my wishes.&lt;/p>
&lt;p>&lt;strong>BusySync&lt;/strong>&lt;/p>
&lt;p>The first program I tried was &lt;a href="http://www.busymac.com/">BusySync&lt;/a>. It's a bit bloated for what I wanted to do with it, but it's pricing model is nice, $25 for a license. I downloaded the trail and without reading the manual (because I think good software does not really need one) I tried to sync 2 existing calendars, one in iCal and one in Google Calendar.&lt;/p>
&lt;p>I immediately screwed up all my calendars, 3 times in a row. This did not feel good. BusySync has a way too complex user interface, too many features, and has one very big flaw: It can not sync an existing Google Calendar into an existing iCal calendar (at least, I didn't get how to do that). It is not clear about what it's doing and the whole &amp;quot;publish/subscribe&amp;quot; thing confuses me because I don't want to do either. I want to &lt;em>Synchronize both ways&lt;/em>.&lt;/p>
&lt;p>BusySync is trying to be the all-in-one solution for sharing calendars with Google, your friends, the neighbours dog, and back. It's more like a &amp;quot;Calendar Server&amp;quot; kind of application which feels like it has to be online, all the time. This may be fun for the tweak-freaks out there, but it sure was not solving my problem in an easy and elegant way. So, BusySync was quickly uninstalled.&lt;/p>
&lt;p>&lt;strong>SpanningSync&lt;/strong>&lt;/p>
&lt;p>Much less bloated, &lt;a href="http://spanningsync.com/">Spanning Sync&lt;/a> is a piece of software that only tries to solve 1 problem, and tries to solve it good. Spannig Sync can only do one thing, and that is synchronize Google Calendars with iCal calendars.&lt;/p>
&lt;p>Immediately after installing, I entered my Google acount data, and Spanning Sync fetches the Calendar list from Google. It then asks which iCal calendar I want to sync with which Google Calendar. Nice. Within 3 minutes, I had all (existing) Google Calendars synced with my (existing) iCal calendars. Flawlessly.&lt;/p>
&lt;p>Then I tried turning on the &lt;a href="http://www.macobserver.com/tip/2007/01/29.1.shtml">birthday feature of iCal&lt;/a>, and sync that to a new Google calendar. Spanning Sync politely warns me that this Calendar is not editable, and changes in it's Google counter part will not result in changes in iCal. Great, that's the kind of warnings I can live with.&lt;/p>
&lt;p>After synchronizing, I renamed my Google Birthday calendar to add the words &amp;quot;Read Only&amp;quot;, so I would not make the mistake of adding appointments there. Spanning Sync has no trouble with renamed Google Calendars. It recognizes them by a hidden unique identifier. Rename as you like.&lt;/p>
&lt;p>You can see who has won the competition for me, hands down. Spanning Sync does a really nice job in synchronizing my calendars. The only downside is it's strange pricing strategy. You can use Spanning Sync for a year for $25. Or, you can buy an unlimited license, which will set you back $65.&lt;/p>
&lt;p>Because I returned to my FiloFax nearly every time I tried to &amp;quot;go digital&amp;quot;, I think I'll pay for a yearly license en see where it all ends.&lt;/p>
&lt;p>&lt;strong>The showdown&lt;/strong>&lt;/p>
&lt;p>In my case Spanning Sync &amp;quot;just works&amp;quot; and in the end, that's what counts. I haven't touched the Spanning Sync preference pane for a few days, and it is still synchronizing nicely. My phone is also &lt;a href="http://rolfje.wordpress.com/2008/04/27/homezone-more-seemless-sync/">synchronizing nicely&lt;/a>, so I really feel that the calendar is there for me, in stead of the &lt;a href="http://rolfje.wordpress.com/2008/03/07/remember-the-milk-review/#more-263">other way around&lt;/a>.&lt;/p>
&lt;p>From the top of my head, here are a few thoughts when comparing BusySync and Spanning Sync next to eachother:&lt;/p>
&lt;table >
&lt;tr >BusySyncSpanning Sync&lt;/tr>
&lt;tr >
&lt;td >Multi-purpose, all-in-one, lots of bells and whistles
&lt;/td>
&lt;td >Single purpose, simple user interface
&lt;/td>&lt;/tr>
&lt;tr >
&lt;td >Publish/Subscribe model
&lt;/td>
&lt;td >Two-way synchronization
&lt;/td>&lt;/tr>
&lt;tr >
&lt;td >Can not sync existing Calendars
&lt;/td>
&lt;td >Can sync existing Calendars
&lt;/td>&lt;/tr>
&lt;tr >
&lt;td >Cheap, simple license
&lt;/td>
&lt;td >Strange yearly license
&lt;/td>&lt;/tr>
&lt;tr >
&lt;td >$25
&lt;/td>
&lt;td >$25 a year, or $65 for an unlimited license
&lt;/td>&lt;/tr>
&lt;/table>
&lt;p>For now, it's my Nokia 6300, iCal, Google Calendar and Spanning sync for me. But maybe, in a few weeks, you'll read hwo lovely my FiloFax really is. It doesn't need batteries, is crash-proof and allways-on. :-)&lt;/p></description></item><item><title>Seemless Bluetooth iSync</title><link>https://realrolfje.github.io/2008/04/27/homezone-more-seemless-sync/</link><pubDate>Sun, 27 Apr 2008 09:49:43 +0000</pubDate><guid>https://realrolfje.github.io/2008/04/27/homezone-more-seemless-sync/</guid><description>
&lt;p>In my last post, I wrote about how I got &lt;a href="http://metaquark.de/homezone/">HomeZone&lt;/a> to detect my bluetooth phone, and automatically start iSync. While I was playing with it, I noticed how HomeZone opens the Address book application and iSync, and doesn't close them. To make it more seemless, I used a script I found at &lt;a href="http://www.technocrat.ca/?p=44">The Technocrat&lt;/a> to start and stop iSync without interfering with your work. Here's how I did that.&lt;/p>
&lt;!-- more -->First, I opened the script editor and typed the following script into it (slightly modified from the one at Technocrat):
&lt;pre>&lt;code>tell application &amp;quot;Finder&amp;quot;
set iSyncRunning to (number of items in
(processes whose name is &amp;quot;iSync&amp;quot;) is greater than 0)
tell application &amp;quot;iSync&amp;quot;
if last sync is less than ((current date) - 120) then
synchronize
end if
end tell
tell application &amp;quot;iSync&amp;quot;
repeat while (syncing is true)
delay 1
end repeat
if iSyncRunning is not true then
quit
end if
end tell
end tell
&lt;/code>&lt;/pre>
&lt;p>Then, I saved this script as an application called &amp;quot;iSyncNow.app&amp;quot; . On the save dialog, make sure that &amp;quot;keep running&amp;quot; and &amp;quot;show on screen&amp;quot; are NOT thicked, like so:&lt;/p>
&lt;p>&lt;a href="afbeelding-9.png">&lt;img src="afbeelding-9.png" alt="">
&lt;/a>&lt;/p>
&lt;p>Then, open the HomeZone preferences and configure HomeZone to run this application when your phone is in range. My configuration looks as follows:&lt;/p>
&lt;p>&lt;a href="afbeelding-10.png">&lt;img src="afbeelding-10.png" alt="">
&lt;/a>&lt;/p>
&lt;p>With this simple little trick, my Mac Mini has become a lot cooler. When I approach the computer, I see the iSync logo appear in the dock, it bounces a few times, and then it dissapears. My phone is now always synchronized with my iCal, without popups or manual actions.&lt;/p>
&lt;p>Please note that the script prevents iSync to synchronize if the last synchronization was less than 2 minutes (120 seconds) ago. You can adjust this by editting the &amp;quot;120&amp;quot; in the applescript to any number of seconds you like.&lt;/p>
&lt;p>Have fun!
Rolf&lt;/p></description></item><item><title>HomeZone: Start iSync automatically</title><link>https://realrolfje.github.io/2008/04/27/homezone-start-isync-automatically/</link><pubDate>Sat, 26 Apr 2008 22:31:18 +0000</pubDate><guid>https://realrolfje.github.io/2008/04/27/homezone-start-isync-automatically/</guid><description>
&lt;p>Recently, I installed &lt;a href="http://www.azarhi.com/Projects/DSW/index.php">&amp;quot;Do Something When&amp;quot;&lt;/a> and use it to start rsync scripts when I plug in certain USB devices. By doing this, every time I plug in my USB memory stick containing my &lt;a href="http://fpx.de/fp/Software/Gorilla/">Password Gorilla&lt;/a> password databases, it gets backed up (Apple style, with timestamps). Needless to say, it then gets backed up by TimeMachine.&lt;/p>
&lt;p>&lt;a href="afbeelding-8.png">&lt;img src="afbeelding-8.png" alt="">
&lt;/a>I also needed this hands-off approach for synchronizing my iCal calendar with my new Nokia 6300 phone. Enter &lt;a href="http://metaquark.de/homezone/">Homezone&lt;/a>, a very cool app that can detect if a certain Bluetooth device is in range, and start iSync. It can also lock and unlock your screen when your phone is in or out of range, respectively. I did find some buttons looking funny when running it in Leopard, but it does work fine.&lt;/p>
&lt;p>Next up: a review between Busy Sync and Spanning Sync for synchronizing iCal with Google Calendar.&lt;/p></description></item><item><title>File does not exist?</title><link>https://realrolfje.github.io/2008/04/22/file-does-not-exist/</link><pubDate>Mon, 21 Apr 2008 20:36:20 +0000</pubDate><guid>https://realrolfje.github.io/2008/04/22/file-does-not-exist/</guid><description>
&lt;p>For those people who have had problems accessing their files today, I remind you of the very old saying:&lt;/p>
&lt;p>&lt;strong>&amp;quot;A file does not exist until it exists in two places&amp;quot;&lt;/strong>&lt;/p>
&lt;p>Naturaly, this means on two different physical places, preferably miles apart.&lt;/p></description></item><item><title>Layer Violations</title><link>https://realrolfje.github.io/2008/04/13/layer-violations/</link><pubDate>Sun, 13 Apr 2008 17:34:53 +0000</pubDate><guid>https://realrolfje.github.io/2008/04/13/layer-violations/</guid><description>
&lt;p>Like buildings, software usually a deviation of a standard structure. The architect chooses the structure his design will be based upon. After making design adjustments to the structure to cater the requirements, the architect supervises the builders. Like a building architect, the software architect supervises while walking around in the structure during the build.&lt;/p>
&lt;p>Software projects can get so large and complex that the architect can not posibly monitor all the code all the time. This is where te tooling comes in. In this post, I will explain how to use &lt;a href="http://checkstyle.sourceforge.net/">Checkstyle&lt;/a> to automatically monitor the basic architectural integrety of the software.&lt;/p>
&lt;!-- more -->When designing software, we usually start of with drawing high level building blocks on a piece of paper. In most of my sketches, these building blocks map to Java packages in the code, and the arrows between the blocks represent communication paths or method calls between the packages.
&lt;p>Interfaces and calls between packages are an important part of the architecture or design. One of the ways to monitor design integrity is to monitor which packages are using other packages, and the way packages interact.&lt;/p>
&lt;p>Packages are almost a Java-specific term for what other languages call “modules”, or “libraries”. The way these packages are grouped in graphical representations of the design is very often layer-like. For more information on layers, maybe you should read about &lt;a href="http://en.wikipedia.org/wiki/3_tier">3-tier architecture&lt;/a>.&lt;/p>
&lt;p>The word &lt;a href="http://www.google.nl/search?q=define%3Atier">“Tier”&lt;/a> is a more exact term than layer, but to keep things less confusing by introducing another term, I’ll stick with the word “layer”.&lt;/p>
&lt;p>As with any design, it is important to stick to the plan. Software developers have no physical boundaries to access the different layers of the software. This means that during development, layers can be interconnected in a way that was not intended by the architect. These connections are called “Layer violations”. One of the important tasks for the architect is to prevent these violations.&lt;/p>
&lt;p>To prevent developers making layer violations, the design should be simple and clear to the developers. In essence, developers should not see the need to violate the layer access rules. Make the right thing to do, the easy thing to do.&lt;/p>
&lt;p>If layer violations are a common practice in a project, the architect needs to investigate the reasons for these violations, and may need to reconsider the design or the layer access rules.&lt;/p>
&lt;p>Eliminating layer violations will:&lt;/p>
&lt;pre>&lt;code> * Reduce complexity of the software
* Prevent circular dependencies
* Reduce vulnerability to exploits
* Improve code reusability
&lt;/code>&lt;/pre>
&lt;p>When software projects become too large to monitor each line of sourcecode by hand, tooling is needed to monitor these Layer Violations. One of the tools which is able to do this for Java code is &lt;a href="http://checkstyle.sourceforge.net/">CheckStyle&lt;/a>. The Checkstyle module we use to monitor layer violations is called &lt;a href="http://checkstyle.sourceforge.net/config_imports.html#ImportControl">&amp;quot;Import Control&amp;quot;&lt;/a>.&lt;/p>
&lt;p>&lt;strong>Example:&lt;/strong>
Suppose we want to create a simple (java web) application. This application consists of some screens for users to enter data, a bunch of business rules for processing this data, and data storage.&lt;/p>
&lt;p>The generic way to solve this problem is to logically group the functionality into packages. The following packages will be used in our example application:&lt;/p>
&lt;pre>&lt;code> * **Frontend** - Contains the screens (this can contain Wicket, Tapestry or JSP techoligy for instance
* **Service** - Contains the business logic for processing the data. The servicelayer usually contains the highest level of abstraction, because it uses the core and data access layers to get things done.
* **Core** - Data object which represent entities in the system. These are usually beans or POJO's, and represent real-world things like &amp;quot;User&amp;quot;, &amp;quot;Order&amp;quot; or &amp;quot;Invoice&amp;quot;.
* **Data Access** - This layer has the responsibility of storing Core objects into the database, and retrieving them.
&lt;/code>&lt;/pre>
&lt;p>&lt;a href="layers.png">&lt;img src="layers.png" alt="">
&lt;/a>In the image on the right, you can see the different packages, and the way they are organized. These type of images are the reason for calling the different packages &amp;quot;layers&amp;quot;.&lt;/p>
&lt;p>The green arrows between the layers represent normal relationships, or method calls, if you like. The Frontend layer uses the service layer. The Service layer uses the Data Access layer. All layers need to pass Core objects to eachother, so they all have to be able to use the Core layer.&lt;/p>
&lt;p>On the right side we see a red arrow from the Data Access layer to the Frontend layer. This arrow is an example of a so called &amp;quot;layer violation&amp;quot;. Having a relation to the Frontend layer makes the Data Access layer dependant on the Frontend, and could also lead to circular references.&lt;/p>
&lt;p>&lt;strong>Checkstyle&lt;/strong>
Checkstyle is a program which can parse Java source code, and create a list of coding style violations and architectural errors. It also has a maven plugin, which we are going to use in our example project to get a report on layer violations.&lt;/p>
&lt;p>First, we need to add Checkstyle to the project. Layer violation monitoring was added to Checkstyle in one of the later releases. To make sure that we have the correct version of Checkstyle, add the folowing dependency to your Maven (1.0) project.xml:&lt;/p>
&lt;pre>&lt;code>&amp;lt;dependency&amp;gt;
&amp;lt;groupId&amp;gt;checkstyle&amp;lt;/groupId&amp;gt;
&amp;lt;artifactId&amp;gt;maven-checkstyle-plugin&amp;lt;/artifactId&amp;gt;
&amp;lt;version&amp;gt;3.0.1&amp;lt;/version&amp;gt;
&amp;lt;type&amp;gt;plugin&amp;lt;/type&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/code>&lt;/pre>
&lt;p>Should you want the Checkstyle report to be automatically included in the generated Maven site, you can optionally add&lt;/p>
&lt;pre>&lt;code>&amp;lt;report&amp;gt;maven-checkstyle-plugin&amp;lt;/report&amp;gt;
&lt;/code>&lt;/pre>
&lt;p>To the &lt;reports> section of the project.xml file.&lt;/p>
&lt;p>Now that we have added Checkstyle to our Maven configuration, we need to configure Checkstyle to check our layer violations. Checkstyle can check a lot more, but we're only using it to check Layer Violations for the sake of this article.&lt;/p>
&lt;p>We need to tell the Maven Checkstyle plugin where it can find it’s configuration file. Add the following line to the project.properties in the root of your maven project:&lt;/p>
&lt;pre>&lt;code>#Checkstyle
maven.checkstyle.check.tests=false
maven.checkstyle.fail.on.violation=false
maven.checkstyle.properties=checkstyle-config.xml
&lt;/code>&lt;/pre>
&lt;p>Next, create a checkstyle-config.xml in the root of your project which looks like this:&lt;/p>
&lt;pre>&lt;code>&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;!DOCTYPE module PUBLIC &amp;quot;-//Puppy Crawl//DTD Check Configuration 1.2//EN&amp;quot; &amp;quot;http://www.puppycrawl.com/dtds/configuration_1_2.dtd&amp;quot;&amp;gt;
&amp;lt;module name=&amp;quot;Checker&amp;quot;&amp;gt;
&amp;lt;property name=&amp;quot;severity&amp;quot; value=&amp;quot;warning&amp;quot;/&amp;gt;
&amp;lt;module name=&amp;quot;TreeWalker&amp;quot;&amp;gt;
&amp;lt;module name=&amp;quot;ImportControl&amp;quot;&amp;gt;
&amp;lt;property name=&amp;quot;severity&amp;quot; value=&amp;quot;error&amp;quot;/&amp;gt;
&amp;lt;property name=&amp;quot;file&amp;quot; value=&amp;quot;checkstyle-import-control.xml&amp;quot;/&amp;gt;
&amp;lt;/module&amp;gt;
&amp;lt;/module&amp;gt;
&amp;lt;/module&amp;gt;
&lt;/code>&lt;/pre>
&lt;p>As you can see in this configuration file, checkstyle will look for a checkstyle-import-control.xml file containing the Layer access rules.&lt;/p>
&lt;p>An example of this file which would match our example would look like this:&lt;/p>
&lt;pre>&lt;code>&amp;lt;?xml version=&amp;quot;1.0&amp;quot;?&amp;gt;
&amp;lt;!DOCTYPE import-control PUBLIC
&amp;quot;-//Puppy Crawl//DTD Import Control 1.0//EN&amp;quot;
&amp;quot;http://www.puppycrawl.com/dtds/import_control_1_0.dtd&amp;quot;&amp;gt;
&amp;lt;import-control pkg=&amp;quot;com.rolfje.example&amp;quot;&amp;gt;
&amp;lt;!—allow access to utility libraries --&amp;gt;
&amp;lt;allow pkg=&amp;quot;java&amp;quot;/&amp;gt;
&amp;lt;allow pkg=&amp;quot;org&amp;quot;/&amp;gt;
&amp;lt;allow pkg=&amp;quot;sun&amp;quot;/&amp;gt;
&amp;lt;subpackage name=&amp;quot;frontend&amp;quot;&amp;gt;
&amp;lt;allow pkg=&amp;quot;com.rolfje.example.frontend&amp;quot;/&amp;gt;
&amp;lt;allow pkg=&amp;quot;com.rolfje.example.service&amp;quot;/&amp;gt;
&amp;lt;allow pkg=&amp;quot;com.rolfje.example.core&amp;quot;/&amp;gt;
&amp;lt;allow pkg=&amp;quot;javax.servlet&amp;quot;/&amp;gt;
&amp;lt;/subpackage&amp;gt;
&amp;lt;subpackage name=&amp;quot;service&amp;quot;&amp;gt;
&amp;lt;allow pkg=&amp;quot;com.rolfje.example.service&amp;quot;/&amp;gt;
&amp;lt;allow pkg=&amp;quot;com.rolfje.example.dataaccess&amp;quot;/&amp;gt;
&amp;lt;allow pkg=&amp;quot;com.rolfje.example.core&amp;quot;/&amp;gt;
&amp;lt;/subpackage&amp;gt;
&amp;lt;subpackage name=&amp;quot;dataaccess&amp;quot;&amp;gt;
&amp;lt;allow pkg=&amp;quot;com.rolfje.example.dataaccess&amp;quot;/&amp;gt;
&amp;lt;allow pkg=&amp;quot;com.rolfje.example.core&amp;quot;/&amp;gt;
&amp;lt;/subpackage&amp;gt;
&amp;lt;subpackage name=&amp;quot;core&amp;quot;&amp;gt;
&amp;lt;allow pkg=&amp;quot;com.rolfje.example.core&amp;quot;/&amp;gt;
&amp;lt;/subpackage&amp;gt;
&amp;lt;/import-control&amp;gt;
&lt;/code>&lt;/pre>
&lt;p>There are a few things to note in this configuration file:&lt;/p>
&lt;pre>&lt;code> * It is allowed to use java.*, org.*, and sun.* packages abywhere in the code. This is to allow normal usage of java.util.List for instance.
* The frontend is a web frontend in this example, and accesses javax.servlet. Note that the service, backend and core layers are not allowed to use servlet classes.
* Packages are allowed to access themselves. This is done so that sub-packages made by developers are not immediately detected and seen as a layer violation.
* There are no nested subpackages in this example. You can nest subpackage elements if you need to.
&lt;/code>&lt;/pre>
&lt;p>Having configured everything, you can now run “maven checstyle:report” to see how your code is matching your design. If you run a “maven site”, then the Layer Violations will be visible as a report in the left menu.&lt;/p>
&lt;p>You may also want to checkout the Checkstyle eclipse plugin, which will visually mark the violations in you sourcefiles and add them to the “Problems” view. It will help you to find and fix the violations much quicker.&lt;/p></description></item><item><title>It's not about tools; it's about people</title><link>https://realrolfje.github.io/2008/03/30/its-not-about-tools-its-about-people/</link><pubDate>Sun, 30 Mar 2008 16:22:14 +0000</pubDate><guid>https://realrolfje.github.io/2008/03/30/its-not-about-tools-its-about-people/</guid><description>
&lt;p>Last week a collegue of mine did an introductory talk about &lt;a href="http://en.wikipedia.org/wiki/IBM_Rational_Unified_Process">RUP&lt;/a> (Rational Unified Process). It was an interesting talk about how RUP can be applied in projects, what the philosophy is behind RUP, and lessons learned during her first RUP workshop.&lt;/p>
&lt;p>After the talk, we discussed how RUP looked a lot like &lt;a href="http://en.wikipedia.org/wiki/DSDM">DSDM&lt;/a>, &lt;a href="http://en.wikipedia.org/wiki/Agile_software_development">Agile&lt;/a> and &lt;a href="http://en.wikipedia.org/wiki/Extreme_Programming">XP&lt;/a>. In all these methods, developers are arrogant enough to &amp;quot;demand&amp;quot; customers to conform to their process. Sure there is a lot to be said for consulting the customer often, and having lots of pre-releases, but the customer is still the customer, not your in-house &lt;a href="http://en.wikipedia.org/wiki/Quality_assurance">QA department&lt;/a>.&lt;/p>
&lt;!-- more -->Another funny thing is that all these methods are trying to solve "problems" which were carefully described by [Frederick Brooks in 1975](http://en.wikipedia.org/wiki/Mythical_man-month).
&lt;p>The past 33 years, a lot has changed in the computer industry. Computers have become much faster, programming languages much more powerful, offices have airconditioning and good coffee, and you no longer need to have a soldering iron to be a good programmer.&lt;/p>
&lt;p>However, in the past 33 years, people have not changed. Programmers tend to fiddle too long with a cool, simple, fast but wrong solution to a non-existing customer problem. Managers tend to report &amp;quot;on schedule&amp;quot; while actually they are behind schedule. Customers think that the testing phase is there to be removed in case of a time/budget problem. And still, the majority of people think that simply hiring more people will get the job done faster.&lt;/p>
&lt;p>The real problem in a project is not hardware. It's not software. It's not planning. It's not RUP, DSDM, Agile or XP. The real problems in a project are people.&lt;/p>
&lt;p>Luckaly, we're not all lost. Some projects actually do get finished on time, on budget, and with all features included. These successes are often attributed to the methodologies used, the brilliant programming language, or the good weather. Do you know what I think? These succeses are nothing more than the result of a good team of people, who actually care for the project to become a success. A team which has enough common sense to know what to do, and when to do it. A team which gets a kick out of having a happy customer.&lt;/p>
&lt;p>Writing computer programs is a bit like solving a lot of puzzles in a day. It's a creative process, and although you can make rough estimates, you'll never know how much puzzles you are going to solve today. Writing programs in a team is a bit more complicated. You need to know what your team members are up to, and what their strong and weak points are. Deviding the puzzles between the team members needs to be done with great care.&lt;/p>
&lt;p>Having a process like RUP or any other (maybe self-made) process will be fine, but will only work if everybody in the team knows why this process was introduced,what it solves and what their role is in that process. If the goal is clear, and the team is a true team, the members will have no problem correcting eachother, and accepting corrections from eachother. It will become a sport.&lt;/p>
&lt;p>So the real solutions in a project are people. More precisely: people who take their profession seriously, 24x7.&lt;/p></description></item><item><title>DOCTYPE is a myth...</title><link>https://realrolfje.github.io/2008/03/25/doctype-is-a-myth/</link><pubDate>Mon, 24 Mar 2008 22:33:26 +0000</pubDate><guid>https://realrolfje.github.io/2008/03/25/doctype-is-a-myth/</guid><description>
&lt;p>... and other wisdom from Joel. Finally, after weeks of slightly boring posts about travel, speeches and FogBugz, Joel has an article on his blog he was so famous for: &lt;a href="http://www.joelonsoftware.com/items/2008/03/17.html">Martian Headsets&lt;/a>.&lt;/p>
&lt;p>The article discusses the problems with the HTML spec, and numerous other problems developers are facing these days. That, and the Martians' strange fascination for all kinds and shades of red.&lt;/p>
&lt;p>At times, the article remembered me of some thoughts I have during my dayjob:&lt;/p>
&lt;pre>&lt;code> * Minimize. (also known as the [KISS](http://en.wikipedia.org/wiki/KISS_principle) principle)
* Have a contract early in the process. Make it testable. Find a way to handle problems in the contract.
* Be strict and transparent. Fail early and explain.
* Using a standard and conforming to it are two different things.
* Communicate.
&lt;/code>&lt;/pre>
&lt;p>Although all are true to some degree, they aren't going to solve all problems, because everybody has their own set of thoughts and rules. For every problem there is a nice, clean, simple, cheap, wrong answer.&lt;/p>
&lt;p>Now go read the &lt;a href="http://www.joelonsoftware.com/items/2008/03/17.html">article&lt;/a>, it's much better than my writing...&lt;/p></description></item><item><title>Nokia 6300 and Apple's iSync</title><link>https://realrolfje.github.io/2008/03/16/nokia-6300-and-apples-isync/</link><pubDate>Sat, 15 Mar 2008 21:29:22 +0000</pubDate><guid>https://realrolfje.github.io/2008/03/16/nokia-6300-and-apples-isync/</guid><description>
&lt;p>&lt;a href="afbeelding-2.png">&lt;img src="afbeelding-2.thumbnail.png" alt="Nokia 6300 and iSync">
&lt;/a>Last week, my trusty &lt;a href="http://nl.wikipedia.org/wiki/Sony_Ericsson_T610">Sony Ericsson T610 &lt;/a>became a bit awkward to use. The &amp;quot;down&amp;quot; function of the joystick finally gave up on me, after intermitting failures the past month. The only way to select the next menu item was to go &amp;quot;up&amp;quot; through all menu items. It became a pain to use, so I needed a new one.&lt;/p>
&lt;!-- more -->With so many phones on the market, the only right way for me to make a selection is to think about what I need in a phone. Last Thursday I sat down to write down the list:
&lt;pre>&lt;code> * No &amp;quot;Joystick&amp;quot; as with the T910, it failed way to early and maybe that's because of the construction. The joystick sticks out, and gets a beating when the phone is at the bottom of a pile.
* Has to be absolutely compatible with [Apple's iSync](http://www.apple.com/macosx/features/isync/), I don't want to re-type my 107 contacts into a phone. (This practically only leaves Sony Ericcson and Nokia as contestants)
* Has to have bluetooth
* Has to be a &amp;quot;candybar&amp;quot; (no hinges or sliders which can break, answer a phonecall with the push of a button)
* Has to be simlock-free
* Can not be too expensive (200 euro's maximum, but under 100 is better)
* Can not be a Samsung because of their wierd menu structures and ugly UI design
&lt;/code>&lt;/pre>
&lt;p>I went to tweakers.net, and used the pricewatch functionality to search for Sony Ericsson and Nokia phones, starting at 60 euro's and up, meeting the requirements from my list. This was a great excersise, it prevents you from buying a phone which in the top of the sponsored Google search.&lt;/p>
&lt;p>I found this nice &lt;a href="http://en.wikipedia.org/wiki/Nokia_6300">Nokia 6300&lt;/a>, but the thing was, that it seemed not to be supported by iSync. I noticed some people had gotten it to work because it seems that only the model number is missing in the iSync plist files. The Nokia 6300 is a &amp;quot;40's series&amp;quot; firmware and perfectly compatible with iSync.&lt;/p>
&lt;p>I could have gotten a slightly cheaper model, but I selected the Nokia 6300 because it had another nice feature: it has a standard mini-USB plug, and a micro SD slot, which enables it to double as a memory-stick. Nice. That also means that I don't need extra software to move stuff onto or off of the phone.&lt;/p>
&lt;p>The online price for a Simlock free Nokia 6300 is &lt;a href="http://www.2call.nl/telefoons_detail.php?ID=455">EUR 149,- including taxes&lt;/a>. I thought I'd save some time and went to a few local phoneshops. The only shop where I could get it simlock free was at the &amp;quot;T for telecom&amp;quot; shop, and they had the balls to charge EUR 280,- for it. So I ordered it online and waited patiently.&lt;/p>
&lt;p>Meanwhile, I found a good Nokia 6300 site, which provides a &lt;a href="http://nokia6300.net/22/nokia-6300-isync-and-leopard">free Nokia 6300 iSync plugin &lt;/a>which allows the Nokia 6300 to sync with iSync. I installed it, and it works flawlessly. 20 minutes after the delivery guy rang the doorbell, my Nokia 6300 is paired with my Mac Mini, and all my contacts are on the phone.&lt;/p>
&lt;p>Nice tip: I also moved the &lt;a href="http://www.adiumxtras.com/index.php?a=xtras&amp;amp;xtra_id=602">&amp;quot;Tokyo Trainstation&amp;quot;&lt;/a> audio set for Adium onto the phone. These make for great unobtrusive ringtones. Normally my phone has no ringtone at all (vibrate only) but the vibrate function of the Nokia 6300 is a bit weaker than the Sony Ericsson T610.&lt;/p>
&lt;p>p.s. I also noticed that he shop I ordered my phone from has the &lt;a href="http://www.2call.nl/telefoons_detail.php?ID=628">simlock free iPhone&lt;/a> in stock, although a bit pricey.&lt;/p></description></item><item><title>OSX 10.5.2 Solved SMB problems (for me)</title><link>https://realrolfje.github.io/2008/03/16/1052-solved-smb-problems-for-me/</link><pubDate>Sat, 15 Mar 2008 20:47:27 +0000</pubDate><guid>https://realrolfje.github.io/2008/03/16/1052-solved-smb-problems-for-me/</guid><description>
&lt;p>In a &lt;a href="http://rolfje.wordpress.com/2007/11/16/osx-1051-update-still-smb-problems/">previous post&lt;/a> on this blog, I indicated that the 10.5.1. update of Apple's OSX did not fix my network and SMB problems with my Iomega drive. In the comments underneath, some readers kindly pointed out that &lt;a href="http://download.iomega.com/english/storcenter_home_firmware-k104w11.bin">Iomega's K104w11 Firmware update&lt;/a> is available for the Iomega drive I have. Now that 10.5.2 is out, I reconnected the Iomega drive to my network. And suddenly the world changed...&lt;/p>
&lt;!-- more -->I didn't upgrade the drive, because I thought that was rediculous. It works with Windows, it works with Tiger, why shouldn't it work with Leopard? Right now I'm glad that I didn't go through the trouble of upgrading my drive:
&lt;p>With the OSX release 10.5.2, my Iomega drive is accesable, and I can drag files on and off as I like.&lt;/p>
&lt;p>I have created a &amp;quot;sparse bundle&amp;quot; disk image on the drive, so that I can copy files onto it which are bigger than 4GB, and have (very very) long names. So it's finally there: A network mounted 500GB HPS+ partition to which I can backup my backups using an rsync script.&lt;/p>
&lt;p>Now that everything works, I might even be tempted to do that Iomega software upgrade, but then again: &amp;quot;if it ain't broke, don't try to fix it&amp;quot;.&lt;/p>
&lt;p>Next thing on my list to find out: What if I upgraded my Tiger fileserver to Leopard, and had TimeMachine running there. Could I rsync the TimeMachine disk to an off-site location without sending the double-hardlinked files twice?&lt;/p></description></item><item><title>Remember The Milk review</title><link>https://realrolfje.github.io/2008/03/07/remember-the-milk-review/</link><pubDate>Fri, 07 Mar 2008 19:21:09 +0000</pubDate><guid>https://realrolfje.github.io/2008/03/07/remember-the-milk-review/</guid><description>
&lt;p>This morning I thought I had way too much tasks, way too much paper on my desk, a messy inbox, and a cluttered schedule. Then I made a terrible mistake: try to solve this with more tools. You don't always solve &amp;quot;more X&amp;quot; with &amp;quot;more Y&amp;quot;.&lt;/p>
&lt;!-- more -->I remembererd a discussion about ["remember the milk"](http://www.rememberthemilk.com/), a free online todo list with all kinds of taggin, grouping, mailing and Googletalk features. I registered, and happily set of pouring my life into the thing... or so I thought.
&lt;p>As it turns out, it is extremely hard to grasp the user interface of this thing. After registering I was apperently in the &amp;quot;Settings&amp;quot; mode without knowing it. This prevented me from adding tags to tasks for some strange reason. After I found out that I was in the wrong mode, I went to &amp;quot;Overview&amp;quot;. This gives you the tasks for today, tomorow and next week. If you've added tasks without a date, these will not show up here, which is really annoying. There's also no way to add tasks in this view.&lt;/p>
&lt;p>To add tasks in the other screens or groups, you need to remember keyboard shortcuts to get to the functionality you want. There are some links which can do the trick, but for some reason they are not in a logical place. Combined with a very wierd &amp;quot;mouse over&amp;quot; mode where you can only see details of a task when moving your mousepointer over the task, this userinterface really isn't user friendly in my opinion.&lt;/p>
&lt;p>The most irritating, and perhaps even killer &amp;quot;feature&amp;quot;: Marking tasks as &amp;quot;finished&amp;quot; is not done by clicking on a &amp;quot;finished&amp;quot; button on the task, but by tick-marking them, and then pusing a button on the top of the screen. I actually had too look for the button for 5 minutes before I worked out how I could finish the task. On my paper todo list, a tickmark marks it as &amp;quot;done&amp;quot;. In Remember The Milk, a tickmark has a whole different meaning and that really bothers me.&lt;/p>
&lt;p>All in all I spent 30 minutes with Remember The Milk, I managed to create 1 extra folder, add 5 tasks in the user interface, and 1 task by mail, and tag 3 of them. Then I decided that a todo list should not have a learning curve at all. In addition, I realized that adding this tool would add to my things to do, namely transferring and constantly synchronizing my work into this tool.&lt;/p>
&lt;p>I returned to my trusty paper throw-away todo list, and my paper filofax, and realized again that these work best. I also found out that there are more people realizing this. Take a look at &lt;a href="http://zenhabits.net/2007/07/simplifying-david-allens-complicated-gtd-setup/">this interisting article&lt;/a> at zenhabits.net. Sometimes, GTD just adds to yor work, in stead of getting the original work done.&lt;/p>
&lt;p>Focus. Don't let the shiny tools distract you from your actual work.&lt;/p></description></item><item><title>Migrate CVS repository to GForge</title><link>https://realrolfje.github.io/2008/03/05/migrate-cvs-repository-to-gforge/</link><pubDate>Tue, 04 Mar 2008 20:26:27 +0000</pubDate><guid>https://realrolfje.github.io/2008/03/05/migrate-cvs-repository-to-gforge/</guid><description>
&lt;p>At work we were testdriving &lt;a href="http://www.collab.net/products/sfee/new_4.4.html">SourceForge Enterprise Edition&lt;/a>. It is a great system to keep all your project information, source code, documents, bug reports and changes together, and linked. As you may have noticed, the pricing model of the Enterprise Edition is a well kept secret on the site. Our management bargained with the Colabnet people, but the costs (or TCO) were way to steep to keep SourceForge as our main system.&lt;/p>
&lt;p>Another product which promises to do almost the same thing is &lt;a href="http://gforgegroup.com/es/">GForge Advanced Server&lt;/a>. GForge originally started as a fork of the (then open source) SourceForge code, and is not as advanced as SourceForge is today. But their pricing is more to the likings of our financial people, and we decided it has a good tradeoff between function and price.&lt;/p>
&lt;p>Having said all this, we need to migrate a few projects from SourceForge to GForge. If you'd like to know how to do this, this article is for you. It describes how to get your CVS repository into GForge in 6 steps.&lt;/p>
&lt;!-- more -->
&lt;p>&lt;strong>Step 1: Disabling writer access to CVS in SourceForge&lt;/strong>&lt;/p>
&lt;p>To be on the safe side, block write access to the CVS repository to prevent people from committing (and loosing) changes. You can block access using the settings in your SourceForge project, or modifying the &lt;a href="http://ximbiot.com/cvs/manual/cvs-1.11.22/cvs_2.html#SEC36">&amp;quot;writers&amp;quot; file&lt;/a> to the CVSROOT of your repository. If you're not migrating from a SourceForge machine, you'll probably want to use the latter method.&lt;/p>
&lt;p>&lt;strong>Step 2: Getting the modules from SourceForge&lt;/strong>&lt;/p>
&lt;p>Log into your SourceForge server, go to the root of the CVS tree for your project. In our example, we'll use &amp;quot;project1&amp;quot; and the modules &amp;quot;modulefoo&amp;quot; and &amp;quot;modulebar&amp;quot; (for the &lt;a href="http://en.wikipedia.org/wiki/Foo_bar">foobar&lt;/a> minded). An example ssh session will look like this:&lt;/p>
&lt;pre>&lt;code>[root@projects /]# cd /cvsroot/project1
[root@projects project1]# ls -al
drwxrws--- 10 nobody reps1010 4096 Mar 4 20:12 .
drwxr-sr-x 10 root root 4096 Feb 20 13:59 ..
drwxrwsr-x 3 nobody reps1010 4096 Dec 28 14:23 CVSROOT
drwxrwsr-x 6 nobody reps1010 4096 Mar 4 14:26 modulefoo
drwxrwsr-x 5 nobody reps1010 4096 Mar 4 14:27 modulebar
[root@projects project1]#
tar -czf project1.tar.gz modulefoo modulebar
&lt;/code>&lt;/pre>
&lt;p>Please note that we do not put the CVSROOT in the tar file. This prevents us from overwriting the CVSROOT later on in the GForge repository. After building the tar file, we need to send it to the GForge machine. You can do this by a secure copy. Put the tar file in the home directory of the user you're using to connect to GForge during the copy. We'll move it later.&lt;/p>
&lt;p>Remove the tar file from the SourceForge server and disconnect. We're done at the SourceForge server.&lt;/p>
&lt;p>&lt;strong>Step 3: Add CVS to your GForge project&lt;/strong>&lt;/p>
&lt;p>We need a project to host our sourcefiles (and more). Using a web browser, connect to your GForge machine and create a project, or use an existing one if you've allready done so. Now go into the &amp;quot;Admin&amp;quot; tab of the project, and select &amp;quot;CVS repository&amp;quot; as your scm (Source Code Management) and press Submit:&lt;/p>
&lt;p>&lt;img src="afbeelding-3a.png" alt="Add CVS SCM to GForge">&lt;/p>
&lt;p>After you've done this, you should have a proper CVS repository set up on your GForge server, in which we can unpack the tarfile we've just created.&lt;/p>
&lt;p>&lt;strong>Step 4: Unpack the tar file on the GForge machine&lt;/strong>&lt;/p>
&lt;p>In this example, I'm using the root user for convenience. Depending on your administrator, maybe you're not allowed to be root (for good reason). Should you not have enough permissions to execute any of the following commands in the right locations, ask your administrator to execute Step 4 and 5 for you.&lt;/p>
&lt;p>Log on to the GForge machine, and become root. Move the tar file to the cvsroot location of your project, and unpack the modules there. Your session should look something like this:&lt;/p>
&lt;pre>&lt;code>[root@gforge ~]# cd /cvsroot/project1
[root@gforge project1]# mv /home/someuser/project1.tar.gz .
[root@gforge project1]# tar -xzf project1.tar.gz
[root@gforge project1]# rm project1.tar.gz
[root@gforge project1]# ls -al
drwxrws--- 5 nobody project1 4096 Feb 20 14:20 .
drwxr-xr-x 12 root root 4096 Mar 4 19:49 ..
drwxrwsr-x 3 nobody project1 4096 Feb 20 14:19 CVSROOT
drwxrwsr-x 6 nobody 519 4096 Mar 3 11:57 modulefoo
drwxrwsr-x 7 nobody 519 4096 Feb 20 16:14 modulebar
[root@gforge project1]#
&lt;/code>&lt;/pre>
&lt;p>At this point, the modules are in GForge, but we can not access them yet.&lt;/p>
&lt;p>&lt;strong>Step 5: Setting the permissions&lt;/strong>&lt;/p>
&lt;p>The files and folders in the modules are having the wrong ownership and permissions because they came from a different machine with different users. To be able to set the permissions, we need a username and a group to add to these files. When adding a project in GForge, a group with the same name as the project is also made.&lt;/p>
&lt;p>First we need to change the ownership of the files, without touching the CVSROOT:&lt;/p>
&lt;pre>&lt;code>chown -R nobody:project1 modulefoo modulebar
&lt;/code>&lt;/pre>
&lt;p>Next, we need to set the permissions of all directories (except for CVSROOT) in the tree. We do this by recursively finding all directories in the modules and executing chmod against them. Type the following on 1 line, exactly as shown:&lt;/p>
&lt;pre>&lt;code>find modulefoo modulebar -type d -exec
chmod u+rwx,g+rwxs,o+rx,o-w {} \;
&lt;/code>&lt;/pre>
&lt;p>The files have slightly different permissions. You can set these by typing the following on 1 line, exactly as shown:&lt;/p>
&lt;pre>&lt;code>find modulefoo modulebar -type f -exec
chmod u+r,u-wx,g+r,g-wxs,o+r,o-wx {} \;
&lt;/code>&lt;/pre>
&lt;p>To check that everything has worked, take a look at the file and directory permissions of modulefoo:&lt;/p>
&lt;pre>&lt;code>[root@gforge project1]# ls -al modulefoo
drwxrwsr-x 6 nobody project1 4096 Mar 3 11:57 .
drwxrws--- 5 nobody project1 4096 Feb 20 14:20 ..
drwsrwsr-x 2 nobody project1 4096 Feb 20 14:20 Attic
-r--r--r-- 1 nobody project1 16330 Mar 3 11:57 build.properties,v
-r--r--r-- 1 nobody project1 15195 Mar 3 11:57 .cvsignore,v
...
&lt;/code>&lt;/pre>
&lt;p>&lt;strong>Step 6: Restart and Check GForge Access&lt;/strong>&lt;/p>
&lt;p>CVS access will now work, but in GForge you will get an error in the CVS browser. To get rid of this error you need to restart apache. As root, do:&lt;/p>
&lt;pre>&lt;code>cd /etc/init.d
apachectl restart
&lt;/code>&lt;/pre>
&lt;p>Close your ssh session. Open your browser and go to your GForge server. Open your project, and click on the &amp;quot;CVS&amp;quot; tab on the right. You should now see the root of the project, with modulefoo and modulebar as folders in a list. Congratulations, you're done.&lt;/p>
&lt;p>Should you get the dreaded &amp;quot;Python error&amp;quot; with some rubbish text about not having enough permissions, you did not restart apache, or something went wrong while setting the file permissions and ownershisps. Double check them, and make sure you didn't touch the CVSROOT directory, or the current or parent directories. If you did, simply &lt;a href="http://thedailywtf.com/Articles/Immaculate_Backup_.aspx">restore from your backup&lt;/a> and retry :-)&lt;/p>
&lt;p>Have fun migrating your projects.&lt;/p></description></item><item><title>When "J" means ":-)"</title><link>https://realrolfje.github.io/2008/02/27/when-j-means/</link><pubDate>Wed, 27 Feb 2008 13:14:33 +0000</pubDate><guid>https://realrolfje.github.io/2008/02/27/when-j-means/</guid><description>
&lt;p>Lately I've been recieving mails with the letter &amp;quot;J&amp;quot; in seemingly random places. At first I thought I had gotten old, the world around me changed and people were starting to replace the smileys with single letter J's. I thought it meant &amp;quot;Joke&amp;quot; and carried on.&lt;/p>
&lt;p>Recently I noticed other people being puzzled by the J's aswell, so I thought I'd find out where the J's come from. It actually turns out to be a technical problem when using Microsoft Outlook to send smileys.&lt;/p>
&lt;p>Microsoft translates a &amp;quot;:-)&amp;quot; into a smiley character from the wingdings font. When the mail is sent, the character encoding of the mail screws everything up and by the time that I recieve the mail in Thunderbird it has become a &amp;quot;J&amp;quot;.&lt;/p>
&lt;p>Until Microsoft solves this, try to refrain from using smileys, or turn off the &amp;quot;show emoticons as icons&amp;quot; feature.&lt;/p></description></item><item><title>GForge CVS/SSH Authentication Failures</title><link>https://realrolfje.github.io/2008/02/26/gforge-cvsssh-authentication-failures/</link><pubDate>Tue, 26 Feb 2008 10:48:26 +0000</pubDate><guid>https://realrolfje.github.io/2008/02/26/gforge-cvsssh-authentication-failures/</guid><description>
&lt;p>Recently we had a problem connecting to our GForge CVS through SSH. We added the public RSA key to the GForge user, but because of wrong configuration on the client we tried to connect a couple of times with the wrong key. After a while the GForge CVS will return the following error:&lt;/p>
&lt;p>Received disconnect from &lt;GForge ip>: 2: Too many authentication failures for &lt;username>&lt;/p>
&lt;p>To solve this, simple ask a GForge administrator to edit the GForge user, and press the &amp;quot;Save&amp;quot; button without changing anything. You will be able to reconnect immediately after the administrator has pressed &amp;quot;Save&amp;quot;.&lt;/p></description></item><item><title>Link CVS/SVN commit to GForge Tracker Item</title><link>https://realrolfje.github.io/2008/02/21/link-cvssvn-commit-to-gforge-tracker-item/</link><pubDate>Thu, 21 Feb 2008 12:47:49 +0000</pubDate><guid>https://realrolfje.github.io/2008/02/21/link-cvssvn-commit-to-gforge-tracker-item/</guid><description>
&lt;p>Today I spent some time figuring out what the exact format of the CVS comment is when I want to link a commit to a GForge tracker item. I'll try to explain it a bit simpler:&lt;/p>
&lt;pre>&lt;code> * We have [GForge](http://gforge.org/) installed at work. We use GForge to manage a software project for a customer.
* The customer reports a bug in the Tracker of GForge. This bug gets assigned to me.
* I read the code, find the problem and fix it. Now I want to commit the fix to the GForge integrated CVS, and have it automatically linked to the Tracker item for future reference.
&lt;/code>&lt;/pre>
&lt;p>I spent 30 minutes Googling for an example, and did find a lot of info, but no real usage examples. The info says &amp;quot;Include the tracker item id in the commit comment&amp;quot;. I spent anther 10 to 20 minutes trying to figure out if this meant just the number, the number with the prefix, or brackets, or both. To save more people from searching, you should copy-paste the complete tracker id from the tracker item screen.&lt;/p>
&lt;!-- more -->**Example:**
&lt;p>To connect a CVS commit to Tracker Item 123, use the following comment:&lt;/p>
&lt;p>cvs commit xyz.txt &lt;em>&amp;quot;This is a commit comment for &lt;strong>[#123]&lt;/strong> in GForge project XYZ&amp;quot;&lt;/em>&lt;/p>
&lt;p>GForge will then automatically link the commit to the tracker item(s). You can have multiple item id's in there, and you can also do multiple commits for a single tracker item.&lt;/p>
&lt;p>Another great tip:  Enable the &amp;quot;Require Tracker Item ID on commit&amp;quot; to force people to do this. Then, create a seperate tracker item titled &amp;quot;Generic Work&amp;quot; so that people who are NOT working on a specific Tracker kan still commit. This forces people to think about what thei're committing for.&lt;/p>
&lt;p>One step further would be to have a seperate tracker item for &amp;quot;refactoring&amp;quot; and &amp;quot;configuration management&amp;quot; or have todo tracker items for a release. This way you can link commits to certain types of work, maybe even to a time tracking tool.&lt;/p></description></item><item><title>Time Machine to the Rescue</title><link>https://realrolfje.github.io/2008/02/21/time-machine-to-the-rescue/</link><pubDate>Wed, 20 Feb 2008 20:54:07 +0000</pubDate><guid>https://realrolfje.github.io/2008/02/21/time-machine-to-the-rescue/</guid><description>
&lt;p>Hi, I just wanted to share with you that I actually recovered a mail item which I had written in Thunderbird for Windows with Time Machine. Yes, Apple's &lt;a href="http://rolfje.wordpress.com/2007/12/11/backup-guru-give-me-a-break/">Time Machine&lt;/a>.&lt;/p>
&lt;!-- more -->At work, we use Windows XP machines. Because I hate to wait 4 weeks for my mail program to load, I use [Thunderbird](http://www.mozilla-europe.org/nl/products/thunderbird/). When I'm on the road, I ocasionally use webmail access, so I have Thunderbird setup so that it connects to the mailserver using [IMAP](http://nl.wikipedia.org/wiki/Internet_Message_Access_Protocol). By doing this, my mail is always on the mail server.
&lt;p>Last week I saved a Draft mail containing some bugs in an application. My intention was to update this mail all week with new bugs, and send it out by the end of the week so that the reciever had a neat little list. By the end of the week however, I noticed that my Drafts folder was containing all kinds of old mail, and I decided to clean it out by &amp;quot;Crtl-A&amp;quot; - &amp;quot;Delete&amp;quot;. I went home with an empty Drafts folder, not realizing I had also deleted the Draft mail with the list of bugs.&lt;/p>
&lt;p>By Sunday, I decided to send out the mail with the list of Bugs, and before I touched a computer it had hit me: I had deleted all my drafts! I sat down behind my trusty Mac Mini, settled on re-typing the whole list, but then I had a brilliant idea. My Apple runs Leopard, and the Mail program also connects through IMAP to the mailserver at work. So without me noticing, &lt;a href="http://www.apple.com/macosx/features/mail.html">Mail.app&lt;/a> had been fetching my mail all week, and Time Machine had been making backups all week. So I navigated to the &amp;quot;Drafts&amp;quot; folder, pressed the Time Machine icon, and 2 simple mouseclicks later I had found and restored that email I deleted.&lt;/p>
&lt;p>I sent it out and needless to say I am a very happy camper. Today was a bit less succesful, I forgot to sleep my Apple so Mail.app was periodically fetching my mail. At work, Thunderbird disconnects when that happens so I was constantly re-connecting while reading and writing mail. Oh well, at least everything is backed up :-)&lt;/p></description></item><item><title>SVN is missing the point?</title><link>https://realrolfje.github.io/2008/02/16/svn-is-missing-the-point/</link><pubDate>Sat, 16 Feb 2008 18:54:11 +0000</pubDate><guid>https://realrolfje.github.io/2008/02/16/svn-is-missing-the-point/</guid><description>
&lt;p>Our company was using Rational Clearcase for version control about 6 years ago. The developers decided it was way to clunky, error prone and WAY too expensive. We introduced CVS and it has been working fine for a few years now. CVS is widely known, stable and simple. I looked into using SVN a few years ago but the clients were unusable at that time. This year, the SVN discussion came to life again and some of my collegues started playing with it after I mentioned it as being a step forward from CVS.&lt;/p>
&lt;!-- more -->We've been using GForge for a few weeks now as an environment to keep all the project information in one place. In the light of the migration discussion from our old environment, SVN was considered because it promised to "solve" a few things for us:
&lt;pre>&lt;code> * Placing a tag on a very large (3GB) repository can be very quick
* Updating the local copy takes less bandwith than with CVS, meaning improved performance when working remotely over a poor connection
* SVN claims to keep the history information when moving or renaming a file (although I think that only applies if you use an SVN client to do the rename/move)
&lt;/code>&lt;/pre>
&lt;p>Now that we've converted/started a few projects in SVN, we find that SVN is maybe not an improvement over CVS after all. The SVN designers have overlooked a few very important things which professional users absolutely need. We had the following problems with SVN:&lt;/p>
&lt;pre>&lt;code> * There is no default eclipse integration. The Subclipse plugin behaves erratic and buggy. Subversive comes with a few SVN adapters of which we are not sure which to pick. The developer side of the SVN/eclipse combo does not work &amp;quot;out of the box&amp;quot;, which adds to setup time and therefore costs money.
* Finding all the revisions and branches of a file is hard in SVN. It requires manually browsing the repository branches and doing compares. For multiple files, this requires major knowledge of SVN and it's tools. Needless to say, that also adds to development time, and therefore costs money.
* Merging branches into the trunk is complicated and requires serious manual administration on the end user side as compared to CVS, see also previous bullet.
* trunk, branches and versions are part of the directory structure. This seems a bit odd to me, because a versioning system should not interfere with my directory structure. We had a lengthy discussion on how to call and place the &amp;quot;trunk&amp;quot;, &amp;quot;branch&amp;quot; and &amp;quot;tag&amp;quot; directories. At the time it sounded good to talk about, but the more I think about it, it seems completely wrong alltogether to me. The version of a file is determined by its place in a tree? That is just plain wierd.
* branches and tags are the same thing in SVN. This means that one could modify a tagged file, and nobody would notice without manual checking. This came as a complete surprise to me. We use CVS tags to tag software versions, and do production support based on those tags.
&lt;/code>&lt;/pre>
&lt;p>From all the discussion and experiences with SVN on some projects, I think I need to re-think my position on SVN. It suddenly doesn't seem al that promising to me. CVS does have it flaws, but because it is fairly simple, we have simple workarounds and fixes for each of them. The bandwith problem is easier solved with a better connection, and finding the history of a renamed file can be solved by having a good comment in the odd ocasion that one needs to rename or move a file.&lt;/p>
&lt;p>SVN positions itself as a CVS replacement, and it had me fooled for a while, but it is really not all that good from an end users perspective. I really don't see the point of having a revision of the whole repository state, as opposed to having a version per file. That, and the fact that a lot of the SVN promises only hold up if you use the command-line SVN client, makes SVN a very weak competitor to the widely used, accepted and stable CVS.&lt;/p>
&lt;p>There are a lot of rants and flames on the net about people having problems because thy &amp;quot;miss atomic commits&amp;quot; for instance. In the past 20 years of my career, they number of problems arising from commits not being atomic was not big. Most of the problems were people doing partial commits, which they could easily also have done with SVN. Most problems are not because of a tool, but because of the humans that use it, and the natural habbit of humans of making mistakes. Atomic commits solves a theoretical problem which does not lead to big problems in CVS.&lt;/p>
&lt;p>The more I think about it, SVN seems to be a nerd's implementation to a theoretical problem, whereas CVS is a pragmatic solution to a real life situation.&lt;/p></description></item><item><title>Easy Image Resizing in OSX</title><link>https://realrolfje.github.io/2007/12/31/easy-image-resizing-in-osx/</link><pubDate>Mon, 31 Dec 2007 16:24:56 +0000</pubDate><guid>https://realrolfje.github.io/2007/12/31/easy-image-resizing-in-osx/</guid><description>
&lt;p>A little heads-up for Apple OSX users who have lots of images to resize. There's a free tool available to do this at &lt;a href="http://www.eagle-of-liberty.com/resizeemall/">http://www.eagle-of-liberty.com/resizeemall/&lt;/a>. It's donationware, if you like it you can send the author money by paypal.&lt;/p>
&lt;p>I've used it, and it works as advertised. Drag a bunch of images on the application, and batch-resize them without touching your originals. You can save the images with a postfix, and even in a different format if you like. Very easy for mailing a bunch of photo's.&lt;/p></description></item><item><title>If Not HTTPS Then Exit</title><link>https://realrolfje.github.io/2007/12/19/if-not-https-then-exit/</link><pubDate>Tue, 18 Dec 2007 22:42:39 +0000</pubDate><guid>https://realrolfje.github.io/2007/12/19/if-not-https-then-exit/</guid><description>
&lt;p>Hello kids. Yes, if you are writing applications for consumer companies, there's a good chance I'm talking to you. We need to have a talk, urgently. It's about a whole new way of doing things, and it's a new word in your dictionary. The word is &amp;quot;&lt;a href="http://www.m-w.com/dictionary/secure">secure&lt;/a>&amp;quot; (linked to Webster's for your convenience.&lt;/p>
&lt;!-- more -->Security is a funny thing. Everybody thinks it's very important, some people think it's a synonym for "complex" and some people avoid it because it's "too much hassle". Most worrying are the people who have online shops and think they can do without, particularly if they think "expensive".
&lt;p>Online shops which started out as simple &amp;quot;sell stuff from the attic&amp;quot; stores, seldom have good data protection in place. The &amp;quot;my expensive server does not need to backup&amp;quot; problem aside, most of the time there's nothing in place preventing hackers from stealing data. If that's the shopkeepers data, that's not a big problem. The problem gets bigger if the shopkeeper stores customer data in his system.&lt;/p>
&lt;p>Most larger shops are often developed by students or hobbyists, who can hack some HTML, or maybe even PHP and MySQL. In a short time, a shop is up and running, the student is payed a small amount and the shopkeeper is happy. The forms in the shop requires customers to register and login before buying, because some twisted minds out there think that having a password is absolutely essential to communicate with customers (I have 82 passwords last time I checked). Those same twisted minds also have the guts to ask you everything from your shoe size to your dog's name, and make those fields &lt;em>required&lt;/em> in the registration proces.&lt;/p>
&lt;p>Now suppose that shop sells &lt;a href="http://en.wikipedia.org/wiki/Unobtainium">Unobtanium&lt;/a>, and you really need that for your project. You see that it's in stock, so you enter the registration process to be able to fill your shooping cart. You fill in your dog's name, press &amp;quot;register&amp;quot; and your data is sent to the server... unencrypted! The hacker monitoring the site's traffic sees your personal information and uses it to steal your dog, selling it online through e-Bay the next day with relative ease.&lt;/p>
&lt;p>I typed and removed a whole rant about shops asking you way too much information because sick marketing minds think they are god and can ask and use your information as they please. But some shops need information to ship the products to you. Aside from offering you Unobtanium for a very attractive price, they also need to earn your trust for you to enter your personal data. Funny thing is that nobody seems to care if that site is passing information around using plain http.&lt;/p>
&lt;p>I have had email discussions with 3 companies so far who asked me to register online over http connections. When a company sends my personal. private information or password over http, I send them a mail I can not comply because of the simple fact that the password is rendered useless by sending it in plain text over the network. Most companies don't see the problem and think they are doing everything perfectly safe (those are the scariest). Then there are the companies who know it is in fact not safe, but simply state that they don't care, or don't want to pay for an &amp;quot;expensive&amp;quot; secure solution.&lt;/p>
&lt;p>I think in most cases, &lt;a href="http://www.kelkoo.co.uk/">these&lt;/a> &lt;a href="http://www.buyonline.nl/">buttugly&lt;/a> &lt;a href="http://www.absoluteword.com/order/">shops&lt;/a> (of which the last can't even display it's own Russian characterset) are developed by you, my dear World-of-Warcraft playing, family kid-genius friend. The world is in the hands of &lt;a href="http://www.urbandictionary.com/define.php?term=zitface">zitfaced&lt;/a> 13 year old &amp;quot;&lt;a href="http://en.wikipedia.org/wiki/Leet">noobs&lt;/a>&amp;quot; to life who think downloading software without paying for it is cool, and have the nerve to tell shopkeepers that their PHP-MySQL-Tomcat solution on an old 386 machine running the obscurest version of default-installed Linux without firewalls over http is perfectly safe to store customer data and VISA card numbers. These kids are probably the very same kids who think that &amp;quot;&lt;a href="http://www.cs.utah.edu/~gk/atwork/">under construction&lt;/a>&amp;quot; is a very normal term to use on your site because they are, in fact, developing software on the live production server and their tiny mind can't think of any other way to hide those parts from the customer.&lt;/p>
&lt;p>Okay, I lost myself there, but you get the point.&lt;/p>
&lt;p>What I really don't get, is that with the computing power nowadays, protocols like http still even exist. Why isn't each and every server doing https by default? Even my 3-year old mobile phone can do https, so let's fase out http alltogether.&lt;/p>
&lt;p>If the site administrator is anything like the one at my office, chances are that a lot of sites will have random, or self-signed certificates which are expired 2 days after they're made, never to be replaced with new ones. To circumvent this, we should have a public-certificate server like a &lt;a href="http://keyserver.pgp.com/">PGP key server&lt;/a>. When I access a site with an unknown certificate to me, I can check that certificate at some centralized server, where I can find if this certificate is really belonging to that site (yeah yeah I know about certificate chains, but admin's don't). Besides that, the site could also list if the shops is handling it's data carefully, if your email address is sold, or used to spam you. This data can be statistical, and/or based on customer reviews.&lt;/p>
&lt;p>Next step is that in stead of your browser showing you a tiny, small lock icon at the bottom of your screen indicating this is &amp;quot;safe&amp;quot; https, the browser should display a big fat red cross accross the whole site indicating that it's &lt;em>not&lt;/em> https.&lt;/p>
&lt;p>The trouble this will cause, is that site admins will still not protect their data, but hey, I guess there's only so much you can do. Maybe we need a global police department running site-scans to detect unsafe sites, and list them on the public certificate-server we discussed for everybody to see.&lt;/p>
&lt;p>Next step would be to make it illegal to store data that's not yours in an unsafe manner. Yes internet is &amp;quot;free&amp;quot; and I think we should try to keep it that way in the original sense of the word in the early internet years. Right now, the word &amp;quot;free&amp;quot; on the internet is used to defend the rights of (internet)criminals. But that's a different story...&lt;/p>
&lt;p>For now, make sure your data, any data about you, is transported over https. Spam companies who are still using http or otherwise unsafe methods to transport your data.&lt;/p>
&lt;p>Wordpress.com is a good example...&lt;/p></description></item><item><title>Backup Guru? Give me a break</title><link>https://realrolfje.github.io/2007/12/11/backup-guru-give-me-a-break/</link><pubDate>Mon, 10 Dec 2007 21:27:41 +0000</pubDate><guid>https://realrolfje.github.io/2007/12/11/backup-guru-give-me-a-break/</guid><description>
&lt;p>Today I listened to a podcast called &lt;a href="http://formaceyesonly.blogspot.com/">&amp;quot;For Mac Eyes Only&amp;quot;&lt;/a>, in which people were complaining about how &lt;a href="http://en.wikipedia.org/wiki/Time_Machine_%28Apple_software%29">Time Machine&lt;/a> does not work &amp;quot;the way they want it to&amp;quot;. I think this is utter crap, and I will explain why.&lt;/p>
&lt;!-- more -->To start off, I think I am safe to say that 99% of the people complaining about Time Machine's behaviour did not do backups of any kind at all, until Time Machine came along and "ruined their backup scheme".
&lt;p>Because of my work as a software engineer, people tend to consult me with their PC/Mac problems. More than once, these problems concern lost files, and no backup whatsoever. I think that in the past 10 years of my life, I have only spoken to 2 people who had an actual working automated backup schedule/scheme. Maybe 3 people made occasional backups to CD, of which 1 painfully discovered that CD's don't last forever.&lt;/p>
&lt;p>The copy-cat complainers about Time Machine, are easily put off by the question &amp;quot;What did you backups with before today?&amp;quot;. Usually this question results in stuttering and a lot of &amp;quot;uhhhmm&amp;quot;s and then some vague excuse about forgetting to buy CD's and what a hassle manual backups are. These people need to loose more data to understand the problem.&lt;/p>
&lt;p>Then, there are the &amp;quot;techies&amp;quot; who claim that Time Machine is technically inferior, lacks intricate timing and retentioning schemes, and that it's not an &amp;quot;off site&amp;quot; backup. I'll try to answer some of those questions because I think Time Machine is absolutely the best thing that has hapenned to the computing industry in decades since the introduction of OSX.&lt;/p>
&lt;p>&lt;strong>Time Machine can not be scheduled&lt;/strong>&lt;/p>
&lt;p>Totally true. And that's exactly a good thing. The Time Machine scheduling is one backup every hour. This is way better than any of the companies I have ever worked at, and way better than any of the client companies I worked for. Servers are usually backed up once a day. With Time Machine, you will not loose more than 1 hour of work, which is amazing by industry standards.&lt;/p>
&lt;p>Designing your own backup schedule to &amp;quot;not interfere with your working hours&amp;quot; will make it more likely that your backup will not run at all, or will run immediately when you turn on the computer because it missed a slot.&lt;/p>
&lt;p>&lt;strong>Time Machine does not do block-level backups&lt;/strong>&lt;/p>
&lt;p>Many commercial backup programs can do block-level backups. This means that they are backing up only those parts of your files that are modified. Because these blocks need to be reconstructed into files when restoring them, you'll need the proprietary software to make a restore.&lt;/p>
&lt;p>With Time Machine, a changed file gets backed up entirely. Although this will cost a bit more room on the backup disk, it gives you the option to take the backup disk to another computer, mount it and search for files in your backup tree. A &amp;quot;restore&amp;quot; is nothing more than a drag-and-drop of the file to any computer you like. Not depending on Time Machine, you can restore files from your Leopard machine to any machine capable of reading your USB drive!&lt;/p>
&lt;p>&lt;strong>Time Machine will not create bootable backups&lt;/strong>&lt;/p>
&lt;p>And that's a good thing too. People tend to be lazy. Suppose Time Machine made a bootable image of your harddrive. This would mean that as soon as you crash your drive, you can boot into your backup drive and carry on with your work. By doing that, you no longer have a backup process in place for the new work you are doing. Because a system restore is a drag, you'll continue to work from the backup drive, up until the point that you crash that one too, and realize that you have no backup of your backup drive.&lt;/p>
&lt;p>A complete system restore from a Time Machine backup is as simple as putting in the Leopard DVD, boot, and tell the installer to do a restore. It will install a fresh OS, and then restore all of your files, up until the point that you can no longer tell that you did a new install. From your mail, to your bookmarks, to even the locations of the icons of your desktop will be the same as you left it.&lt;/p>
&lt;p>The need for a bootable backup is very rare. Most of the time you'll use Time Machine to restore that one file, mail or photo you accidentally deleted. That's what it does the best.&lt;/p>
&lt;p>&lt;strong>Time Machine backups aren't &amp;quot;off-site&amp;quot; backups&lt;/strong>&lt;/p>
&lt;p>No, Time Machine does not place your backups on a disk somewhere in India. If you'd like to do that, I'd recommend writing an rsync script and sync to a remotely mounted DMG file over a secure network connection. Time Machine is not meant for saving you when your house burns down.&lt;/p>
&lt;p>That having said, it is expected that Apple will re-implement the backup-to-network-drive feature of Time Machine, and by doing that, your backup can be anywhere on your network, and that enables you to do interesting things...&lt;/p>
&lt;p>&lt;strong>I can't explain backups to my aunt Bessie&lt;/strong>&lt;/p>
&lt;p>&lt;a href="afbeelding-2.png">&lt;img src="afbeelding-2.thumbnail.png" alt="Time Machine Settings">
&lt;/a>Now that is just plain nonsense. There is almost no user interface to Time Machine. Making Time Machine work actually requires nothing more than plugging in a drive, and clicking &amp;quot;yes&amp;quot; in the dialog window that pops up, asking you if you'd like to use this drive as a backup drive. For the non-believers, you can see the Time Machine settings pane at the right. Yes, that's right, it has an on-off switch. Complex, no?&lt;/p>
&lt;p>Not being a computer wizzard, your aunt Bessie has probably lost or misplaced a file more than once, maybe even up to the point that she's actualy afraid to use the computer because &amp;quot;it looses her files&amp;quot;. Besides learning her to use &lt;a href="http://en.wikipedia.org/wiki/Spotlight_(software)">spotlight&lt;/a>, you can show how Time Machine can easily be used to restore that file for her.&lt;/p>
&lt;p>In stead of complaining about the bits that actually make Time Machine a good backup system in the first place, get people to do backups! Even if it isn't by using Time Machine.&lt;/p>
&lt;p>So, one last time:&lt;/p>
&lt;h2 id="shut-up-and-back-up-">**Shut up and back up! **&lt;/h2>
&lt;p>(And for professionals in the fiels there is an additional excercise: &lt;strong>Do a restore test every now and then!&lt;/strong> You'll be surprised at how much data you can not recover from your intricate full/incremental tape-cycling high-tech backup plan.)&lt;/p></description></item><item><title>OSX 10.5.1 Update, still SMB problems</title><link>https://realrolfje.github.io/2007/11/16/osx-1051-update-still-smb-problems/</link><pubDate>Thu, 15 Nov 2007 22:03:10 +0000</pubDate><guid>https://realrolfje.github.io/2007/11/16/osx-1051-update-still-smb-problems/</guid><description>
&lt;p>Last week, I hapily installed OSX 10.5 (Leopard) on my trusty Mac Mini. The upgrade from Tiger went without a hitch, and the system even got a bit &amp;quot;snappier&amp;quot;. For a week, I had no major issues with Leopard. The Dock dissapeared once, and I had a non-reacting keyboard once when waking from sleep mode. Other than that I am a happy Leopard user.&lt;/p>
&lt;p>Up until a few das ago, when I tried to access my newly acquired 500GB &lt;a href="http://www.iomega.com/direct/products/detail.jsp?PRODUCT%3C%3Eprd_id=51400371&amp;amp;FOLDER%3C%3Efolder_id=31699021&amp;amp;ASSORTMENT%3C%3East_id=26890319&amp;amp;bmUID=1195162566206">Iomega Network Storage&lt;/a>. The Iomega drive is a network connected drive, formatted as FAT32, and accessible through the samba (SMB://) protocol. With Leopard, I could see the drive in the network, and I could double click on it's shares, but when (if) the share connected, I could not drag files onto it, or see what is on the disk. Unmounting takes ages, and sometimes requires me to &amp;quot;killall -9 Finder&amp;quot;.&lt;/p>
&lt;!-- more -->I browsed the net and found quite a few people on forums discussing the same problem. Luckaly, Apple also had payed attention, and put out an update, which I installed just a few minutes ago. Sad thing is, that this update does not solve my problem (yes, that's Dutch you're reading):
&lt;p>&lt;a href="afbeelding-3.png">&lt;img src="afbeelding-3.png" alt="Upload to Samba Share problem">
&lt;/a>&lt;/p>
&lt;p>So I tried all tips I could find in the forums:&lt;/p>
&lt;pre>&lt;code> * Connect using the IP address, rather than the network name
* Change the group of the device (WORKGROUP changed to NOTIT)
* Remove any non-alphabetical characters from paswords
* Remove passwords alltogether
* Connect using CIFS:// in stead of SMB://
* Any combination of the above
&lt;/code>&lt;/pre>
&lt;p>After previous experience with Apple products I seriously began doubting the samba implementation of the Iomega drive. So I tried some things on the Iomega drive, amongst which were:&lt;/p>
&lt;pre>&lt;code> * installing a (wrong) firmware update, which almost bricked it.
* Resetting to factory defaults
* Erasing Mac sidecar or meta files (the .DS ones)
* Formatting the drive completely
* Unsetting and setting passwords
* Changing share names to lowercase
&lt;/code>&lt;/pre>
&lt;p>But still, nothing. Leopard will not properly access this drive. Funny thing is, that when I try to connect to the Iomega drive from my other Mac, which runs Tiger, it works flawlessly. And I can also connect to that same drive from a Windows machine. This makes it clearly a Leopard problem to me, and one that still needs to be fixed, despite the speedy update issued by Apple.&lt;/p>
&lt;p>Can we have another fix please, Apple? I can't reach my remote rsynced backups until you do...&lt;/p></description></item><item><title>Block Luntbuild 1.5.1 Anonymous Access</title><link>https://realrolfje.github.io/2007/11/13/block-luntbuild-151-anonymous-access/</link><pubDate>Tue, 13 Nov 2007 13:52:19 +0000</pubDate><guid>https://realrolfje.github.io/2007/11/13/block-luntbuild-151-anonymous-access/</guid><description>
&lt;p>If you are using &lt;a href="http://luntbuild.javaforge.com/">luntbuild &lt;/a>for your continuous integration builds at work, you probably want to remove anonymous user access. In stead of adding that feature to the administrator &amp;quot;Properties&amp;quot; page where I'd expect it, you have to hack the Spring configuration in the webapps directory of luntbuild. Sigh. Here we go:&lt;/p>
&lt;!-- more -->Open a command prompt and go to the directory where luntbuild is installed. Edit the _/webapps/luntbuild/luntbuild-login.html_ file and remove the following line:
&lt;pre>&lt;code>&amp;lt;a href=&amp;quot;app.do?service=reset/Home&amp;amp;relogin=no&amp;quot;&amp;gt;Anonymous&amp;lt;/a&amp;gt;
&lt;/code>&lt;/pre>
&lt;p>Open the &lt;em>/webapps/luntbuild/WEB-INF/applicationContext.xml&lt;/em> file and remove the following 2 Spring Beans:&lt;/p>
&lt;pre>&lt;code>&amp;lt;bean id=&amp;quot;anonymousProcessingFilter&amp;quot;
class=&amp;quot;org.acegisecurity.providers.anonymous.AnonymousProcessingFilter&amp;quot;&amp;gt;
&amp;lt;property name=&amp;quot;key&amp;quot;&amp;gt;&amp;lt;value&amp;gt;anonymous&amp;lt;/value&amp;gt;&amp;lt;/property&amp;gt;
&amp;lt;property name=&amp;quot;userAttribute&amp;quot;&amp;gt;&amp;lt;value&amp;gt;anonymous,ROLE_ANONYMOUS&amp;lt;/value&amp;gt;&amp;lt;/property&amp;gt;
&amp;lt;/bean&amp;gt;
&amp;lt;bean id=&amp;quot;anonymousAuthenticationProvider&amp;quot;
class=&amp;quot;org.acegisecurity.providers.anonymous.AnonymousAuthenticationProvider&amp;quot;&amp;gt;
&amp;lt;property name=&amp;quot;key&amp;quot;&amp;gt;&amp;lt;value&amp;gt;anonymous&amp;lt;/value&amp;gt;&amp;lt;/property&amp;gt;
&amp;lt;/bean&amp;gt;
&lt;/code>&lt;/pre>
&lt;p>In the same file, searchfor the &lt;em>filterChainProxy&lt;/em> bean and remove references to the &lt;em>anonymousProcessingFilter&lt;/em> bean, and save the file.&lt;/p>
&lt;p>Double check that when you do a &lt;em>cat applicationContext.xml | grep anonymousProcessingFilter&lt;/em>, nothing is returned.&lt;/p>
&lt;p>Now restart the luntbuild application. Please note that if you were logged in as anonymous before you rebooted the server, your session will still work. This is because you passed the security gates earlier, and Tomcat remembers your session. Press &amp;quot;Forget&amp;quot; and try to login as anonymous. This should no longer work.&lt;/p>
&lt;p>I really hope that in luntbuild 2.0, anonymous access is removed or at least configurable from the administation pages, and that the &amp;quot;Forget&amp;quot; and &amp;quot;Logout&amp;quot; links are merged into one, because they seem to do the same thing to the user.&lt;/p></description></item><item><title>Clonezilla: m4d Sk!lZ</title><link>https://realrolfje.github.io/2007/11/06/clonezilla-m4d-sklz/</link><pubDate>Tue, 06 Nov 2007 00:09:50 +0000</pubDate><guid>https://realrolfje.github.io/2007/11/06/clonezilla-m4d-sklz/</guid><description>
&lt;p>A few weeks ago, my Dad and my Brother both bought identical Windows Vista machines, at the same shop, at the same time. Although the hardware specs of these computers were terrific, the performance of Windows Vista was &amp;quot;moderate&amp;quot; to say the least. An even bigger problem was that some of the older XP programs my dad had been using did no longer work on the shiny new Vista machine. The shiny 3D effects had to go in favour of something that &amp;quot;just worked&amp;quot;.&lt;/p>
&lt;!-- more -->Having just spent a lot of cash on these now paperweights, a new Apple was not an option (hey, I tried). So my dad bought a Windows XP install CD and started installing on his machine. The shiny new hardware was so new, that the XP divers were hard to find, if they existed at all. After 2 weeks of fiddling with drivers, the machine was "up and limping". The display was at a nice resolution, and it could produce a sort of audio, and the prio 1 software packages were installed and working (mainly some simple calendar and assembly-development tools).
&lt;p>My brother also was fed up with Vista, and asked if we could mirror the harddisk in my dad's machine to his machine. I figured that this should be no problem, since the machines were exactly identical. Because of earlier problems with Norton Ghost and SATA drives, I decided to give Clonezilla a try.&lt;/p>
&lt;p>Please note that I am NOT linking to the Clonezilla site in this article, which is for your own good. Why? I will tell you why! For people who are so smart that they can read partition tables before morning coffee, understand 32 different partition types, and can do on-the-fly custom compression of a datastream to an USB disk, they shure have never heard of &amp;quot;user experience&amp;quot;. There is absolutely no way that normal people are ever getting this thing to work.&lt;/p>
&lt;p>...You may take a pause here to reflect on that if you like...&lt;/p>
&lt;p>When booting the Clonezilla CD, it shows you what it's doing my scrolling text accross your screen at a speed at which you need bionical implants to be able to follow. I did manage to catch a few lines, and I must not be smart enough because I don't know what &amp;quot;Loading NVIDIA Video Driver&amp;quot; and &amp;quot;Setting System Clock&amp;quot; have to do with reading bits from a disk and writing them to another disk.&lt;/p>
&lt;p>&lt;a href="1.png">&lt;img src="1.thumbnail.png" alt="Clonezilla splash screen">
&lt;/a>After the frantic scrolling is done, you are presented with an ever so nice menu screen, designed by a colorblind handicapped rhinoceros with a Sinus problem. The first time I looked at this sceen I waited for a menu option to get highlighted, and before I realized that the light pink bar was the highlighted menu item, it started booting by itself. Yes, if you do nothing, it does &amp;quot;something&amp;quot; but since you're not sure what, you have to reboot and start over again.&lt;/p>
&lt;p>The other fun part of this menu screen is that it gives you no less than 8 options to boot your system, 4 of which are Clonezilla. There's even an option which contains the word &amp;quot;framebuffer&amp;quot;, which is a video card thing and again has absolutely no other purpose than to confuse you. Framebuffers have nothing to do with (re)storing disk partitions.&lt;/p>
&lt;p>&lt;a href="2.png">&lt;img src="2.thumbnail.png" alt="Clonezilla language options">
&lt;/a>After having made the right choice (I took a wild guess) you are presented with another nice screen. The design of this screen is from a whole different erra, almost van-Gogh-esque. All the video drivers which were loaded during the &amp;quot;frantic scrolling&amp;quot; fase earlier are clearly working together on this screen to present you the nicest resolution and the clearest colors, so that you can peruse the long list of language options available to perfectly support you during the following screens. At the bottom of the menu are two aptly named &lt;ok> and &lt;cancel> buttons, start over if you didn't use the correct one.&lt;/p>
&lt;p>&lt;a href="3.png">&lt;img src="3.thumbnail.png" alt="Keymap menu">
&lt;/a>Now that the Clonezilla is running in the language of your choice (which is very likely not to be traditional Chinese), you'd expect to enter the realm of disk options. Not so. Take out your &amp;quot;Linux Unleashed&amp;quot; books class, because we're presented with... nobody? no? The keymap option! Yes, that's right. No program can start without asking what keymap it should use. Turn to page 346 of the &amp;quot;Advanced&amp;quot; section to find out what keymap the &amp;quot;Kernel keymap&amp;quot; is.&lt;/p>
&lt;p>After reading the instructions 3 times you learn that you can just hit &amp;quot;enter&amp;quot; on this screen, just like you did on the silly language options menu.&lt;/p>
&lt;p>&lt;a href="4.png">&lt;img src="4.thumbnail.png" alt="Start Clonezilla?">
&lt;/a>Off to cloning, right? Wrong. Clonezilla will ask you if you'd want to start Clonezilla, or just enter the prompt. Exactly the one credible extra option on the first &amp;quot;designer&amp;quot; screen is presented after 3 menus. And no, we don't want a prompt, so it's not a good option here.&lt;/p>
&lt;p>I'll spare you the rest of the menus. There are just way too much, containing anything ranging from spelling and grammar errors, to cryptic messages and listing command line options to tools you've never heard of.&lt;/p>
&lt;p>Okay one more small example: In stead of using the screen real-estate and the nice fonts to indicate what disks are in the system and what partitions are on there, it just lists &amp;quot;sda1, sda2, sda5, sde1&amp;quot; and their formats. When you are a windows user, and are backing up or restoring your precious data, you are likely to stop here. How do you know for sure that you're reading from and writing to the right disk?&lt;/p>
&lt;p>If Clonezilla was made for people, I would have expected a list according to these lines:&lt;/p>
&lt;pre>&lt;code>Harddisk 1 (320GB Seagate, SATA)
Partition 1 (120GB, FAT32, Volume label &amp;quot;My Windows&amp;quot;)
Partition 2 (100GB, NTFS, Volume label &amp;quot;My Data&amp;quot;)
Partition 3 (100GB, NTFS, Volume label &amp;quot;My Music&amp;quot;)
Harddisk 2 (500GB Iomega, USB)
Partition 1 (500GB, FAT32, Volume label &amp;quot;Backupdisk&amp;quot;)
&lt;/code>&lt;/pre>
&lt;p>Anyway, struggling through the menu's, reading through command line options and Googling for manual pages on the used commands I eventually got Clonezilla to make a backup of the entire disk of my Dad's XP installation. The disk image was stored on a large harddrive, and we took it to my brother's machine to restore it.&lt;/p>
&lt;p>Before restoring the XP disk image, we made another disk image, from the original Vista installation on my brothers machine. Should something happen, we would have an option to restore the machine to it's prestine state.&lt;/p>
&lt;p>We restored the XP image on my brothers Vista machine (which was, like I said, an exactly identical machine). And you guessed it: it failed. We tried playing with the MBR and Grub options, and every try we neede to wait the full 20 minutes only to find out that the restore did not work. We even tried restoring the partition tables and/or MBR's using the Windows XP installation disk.&lt;/p>
&lt;p>After 6 frustrating hours on Saturday, and another 3 gruelling hours today, we gave up. Clonezilla is now restoring Vista to my brother's computer, and I sure hope that will work, but wether it does or doesn't, it leaves him with a useless computer. Either way we're destined to use &lt;a href="http://en.wikipedia.org/wiki/Leet">&amp;quot;m4d sk!lz&amp;quot;&lt;/a> to get it running normally again, just like we need &amp;quot;m4d sk!lz&amp;quot; to be able to use Clonezilla.&lt;/p>
&lt;p>&lt;em>Sidenote to Linux developers: Just because you know a lot about Linux or any freaking back-from-the-60's command line tool there is out there, doesn't mean you can expect others to have that same knowledge. As long as Linux fanboys are creating these crappy user interfaces, Linux is not going to stand up against Microsoft or Apple on the desktop. Ever. And creating &amp;quot;Yet Another Window Manager&amp;quot; will also not help. Period. Together you stand, &lt;a href="http://apcmag.com/6735/interview_con_kolivas">devided you'll fall&lt;/a>. So far, devision by childish stubborn ego flamewars is where every non-commercial Linux project has ended.&lt;/em>&lt;/p>
&lt;p>Next option for my brother and dad is to buy Norton Ghost 12, and hope that the people at Norton understand how to make a user interface, and working software.&lt;/p>
&lt;p>With the arrival of Vista, Windows more and more turning into a Tamagochi, where you are spending more time maintaining the system, than working &lt;em>with&lt;/em> the system. I'm glad I dumped Windows a long time ago. For those who are thinking of switching: I can promise you that Switching from XP to Vista will give you &lt;a href="http://apcmag.com/6649/vista_150_problems_0_solutions">more problems&lt;/a> than &lt;a href="http://www.utilware.com/switching.html">switching from XP to Mac&lt;/a>. And once you go Mac...&lt;/p></description></item><item><title>Essential Color Design Tool</title><link>https://realrolfje.github.io/2007/10/15/essential-color-design-tool/</link><pubDate>Mon, 15 Oct 2007 19:59:32 +0000</pubDate><guid>https://realrolfje.github.io/2007/10/15/essential-color-design-tool/</guid><description>
&lt;p>For those people out there designing user interfaces, web frontends or anything else displayed on a screen: About 8% of all males are color blind. This could mean that because of a simple color choice, 8% of your target audience (customers) could have serious difficulty in using your design. 5% of all males can't distinguish green from red, although they are regarded as high contrast to eachother.&lt;/p>
&lt;p>Do you want to test how your design looks to colorblind people? Now you can, with &lt;a href="http://colororacle.cartography.ch/">Color Oracle&lt;/a>, a tool for Mac OSX and Windows which transposes the colors of your screen to reflect what it would look like if you were color blind. In fact, it can simulate 3 different kinds of color blindness.&lt;/p>
&lt;p>From the site: &lt;em>&amp;quot;Color Oracle takes the guesswork out of designing for color blindness by showing you in real time what people with common color vision impairments will see. Color Oracle applies a full screen color filter to art you are designing – independently of the software that you are using. Eight percent of all males are affected by color vision impairement – make sure that your graphical work is readable by the widest possible audience.&amp;quot;&lt;/em>&lt;/p></description></item><item><title>AFP breaks when messing with your Public folder!</title><link>https://realrolfje.github.io/2007/10/04/afp-breaks-when-messing-with-your-public-folder/</link><pubDate>Thu, 04 Oct 2007 18:53:00 +0000</pubDate><guid>https://realrolfje.github.io/2007/10/04/afp-breaks-when-messing-with-your-public-folder/</guid><description>
&lt;p>Hi, just a quick reminder to myself and users of the AFP protocol (Apple File Protocol) who are wondering why it is not working. For some strange reason, if you start messing (deleting) the &amp;quot;Public&amp;quot; folder of any user which is on the system providing the AFP share, you will break the AFP protocol.&lt;/p>
&lt;!-- more -->I just deleted the Public folder from user A because I didn't want that user to have one. When I tried to connect to the server with user B, I got an AFP error. When I removed user A from the system, AFP worked again. I still have to figure out how to granulary disable drop boxes in the future, for now I'll leave them be I guess.
&lt;p>Why all this hassle? Renewed interest in remote backup I guess. I just found out that:&lt;/p>
&lt;pre>&lt;code> * You can easily tunnel AFP over SSH
* If you mount a remote 8GB AES encrypted DMG file, the file will not be transferred in its entirety over the network connection
* If you write 100kB into the mounted 8GB DMG, it does not write 8GB, but only 100kb+directory update.
&lt;/code>&lt;/pre>
&lt;p>According to these observations, it should be able to make a 200GB DMG file on a remote machine, tunnel AFP over SSH and access it as a local disk with reaonable performance, even over an ADSL connection. This will pave the way for an automated rsync backup solution which could actually work, without special tooling or complex scripting.&lt;/p></description></item><item><title>Phrack still in ASCII</title><link>https://realrolfje.github.io/2007/08/04/phrack-still-in-ascii/</link><pubDate>Sat, 04 Aug 2007 17:43:00 +0000</pubDate><guid>https://realrolfje.github.io/2007/08/04/phrack-still-in-ascii/</guid><description>
&lt;p>It is a long time since I read this stuff, but I &lt;a href="http://www.phrack.org/issues.html?issue=64&amp;amp;id=11#article">stumbled upon a paper &lt;/a>discussing the non-executable stack on OSX (a trick to prevent buffer/stack overflow exploits). Ah, the good old days. And with all this markup, it's good to see that Phrack magazine stuck to their format. It's still the same as over 20 years ago... Well written articles, focussed on correctness and content, for the coders out there who are not afraid experimenting with some assembly. The amount of (nightly) hours that go into the research and proof of these articles are unbelievable, and it shows.&lt;!-- more -->&lt;/p>
&lt;p>I'm afraid the years of Java have eroded my assembly knowledge, it's hard to keep up with the paper. But I loved to skim through the mov's, jne and jnz's, and the great comments. New young developers don't even learn how to write assembly anymore, the spoiled brats... :-)&lt;/p>
&lt;p>For more trips down memory lane, also check the Dutch &lt;a href="http://www.hacktic.nl/">Hack-Tic magazine&lt;/a>. Someone actually scanned all the pages every written in Hacktic. See if you can find the first XS4ALL machine in there... Too bad that they didn't have photo's of te &amp;quot;Hacking at the end of the Universe&amp;quot; in 1993, I really liked that one. I did found the &lt;a href="http://www.well.com:70/0/hacking/hack-tic/galac.hac">invitation&lt;/a> online, and Fransisco wrote a &lt;a href="http://www.xs4all.nl/~fvjole/archief/artikelen/Volkskrant/1993/heu.html">nice article&lt;/a> for the Volkskrant. There are more links at the bottom of Fransisco's article if you like.&lt;/p>
&lt;p>Now where did I leave my &lt;a href="http://nl.wikipedia.org/wiki/Jolt_Cola">Jolt&lt;/a>? Twice the energy, half the taste...&lt;/p></description></item><item><title>Programmer Personality Test</title><link>https://realrolfje.github.io/2007/06/06/programmer-personality-test/</link><pubDate>Tue, 05 Jun 2007 20:18:13 +0000</pubDate><guid>https://realrolfje.github.io/2007/06/06/programmer-personality-test/</guid><description>
&lt;p>Just found this funny page where you can take a &lt;a href="http://www.doolwind.com/index.php?page=11">Programmer Personality Check&lt;/a>.&lt;/p>
&lt;p>My programmer personality type is &lt;strong>DHTB&lt;/strong>, which is explained as follows:&lt;/p>
&lt;p>_ You're a &lt;strong>D&lt;/strong>oer.
You are very quick at getting tasks done. You believe the outcome is the most important part of a task and the faster you can reach that outcome the better. After all, time is money._&lt;/p>
&lt;p>&lt;em>You like coding at a &lt;strong>H&lt;/strong>igh level.
The world is made up of objects and components, you should create your programs in the same way.&lt;/em>&lt;/p>
&lt;p>&lt;em>You work best in a &lt;strong>T&lt;/strong>eam.
A good group is better than the sum of it's parts. The only thing better than a genius programmer is a cohesive group of genius programmers.&lt;/em>&lt;/p>
&lt;p>&lt;em>You are a li&lt;strong>B&lt;/strong>eral programmer.
Programming is a complex task and you should use white space and comments as freely as possible to help simplify the task. We're not writing on paper anymore so we can take up as much room as we need.&lt;/em>&lt;/p></description></item><item><title>Technology does not sell</title><link>https://realrolfje.github.io/2007/05/09/technology-does-not-sell/</link><pubDate>Tue, 08 May 2007 20:36:10 +0000</pubDate><guid>https://realrolfje.github.io/2007/05/09/technology-does-not-sell/</guid><description>
&lt;p>&lt;a href="http://sethgodin.typepad.com/">Seth Godin&lt;/a> did a talk at Google campus in Februari last year. I recently stumbled upon &lt;a href="http://video.google.nl/videoplay?docid=-6909078385965257294">this video of his talk&lt;/a>, in which he explains to the Google people why Google sells.&lt;/p>
&lt;p>He is very clear in explaining to technology people that &lt;strong>technology does not sell&lt;/strong>. It's technology that gives you a shot at marketing, nothing more. He makes some very good points which I'll try to summarize, because the video takes 48 minutes to watch :-)&lt;!-- more -->&lt;/p>
&lt;pre>&lt;code> * People don't care about cool technology, they care about their problem being solved.
* When buying a product, people actually are buying a feeling or experience. Apple and Google are good examples of &amp;quot;solve the problem&amp;quot; products, which gives more &amp;quot;feeling&amp;quot; than &amp;quot;product&amp;quot;.
* People who buy &amp;quot;feeling&amp;quot; and are happy with that, will market the product for you. You just plant a seed, and if the product is good enough for the right people, it will sel itself
* You can only sell answers to people who have questions. The classic &amp;quot;tv show interruption commercial&amp;quot; is way less efficient than the [Add-Sense](https://www.google.com/adsense) commercials which presents relevant products to people who are searching.
&lt;/code>&lt;/pre>
&lt;p>When reading back this list, I think it is clear that Seth should speak to you, and not me ;-). My summary is lousy compared to the talk, maybe you're better of watching it. But the main conclusion for me still is that technology does not sell, nor does a product. It's the (happy) feeling people get from buying the product, making them want to tell other people about it.&lt;/p>
&lt;p>He brings up a nice example still true today: If you wanted to search for something on the web, and go to &lt;a href="http://www.yahoo.com/">Yahoo!&lt;/a>, you'll see a page with 100 links, and somewhere on the page (you have to look for it) is a search query entry field and a search button. When you go too &lt;a href="http://www.google.com/">Google&lt;/a>, it's very clear that you can search there. Almost no links, and the search functionality is in the middle of the page and everybody knows how to use it. This will make you come back at that page, and even better: If your friends wanted to search for something, you'd send them to Google, because you know they will know how to use that page, and not come bother you with questions about it.&lt;/p>
&lt;p>Google's page is becomming slightly more cluttered with links, I just hope they paid attention to Seth and will remove some soon. :-)&lt;/p>
&lt;p>&lt;strong>Edit:&lt;/strong> This is also a nice addition of Seth. Only 10 minutes, about &lt;a href="http://video.google.nl/videoplay?docid=-4101280286098310645">stuff that's &amp;quot;broken&amp;quot;&lt;/a>. I whish people would not only watch it and laugh, but actually use it while designing/building/doing things! You can also visit his website on &lt;a href="http://broken.typepad.com/">Stuff that's broken&lt;/a>.&lt;/p></description></item><item><title>The Digital Revolution</title><link>https://realrolfje.github.io/2007/05/04/the-digital-revolution/</link><pubDate>Thu, 03 May 2007 20:39:42 +0000</pubDate><guid>https://realrolfje.github.io/2007/05/04/the-digital-revolution/</guid><description>
&lt;p>Nice example of digital revolution and power to the people can be found at &lt;a href="http://blog.outer-court.com/archive/2007-05-02-n67.html">http://blog.outer-court.com/archive/2007-05-02-n67.html&lt;/a>. Let's hope manufacturers understand that people don't want to pay for crippled content.&lt;/p>
&lt;p>Digital copies where copyright is removed are actually better than their DRM protected originals, which makes good willing people move to pirated content, like I &lt;a href="http://rolfje.wordpress.com/2007/01/25/opening-itunes-to-other-players/">stated earlier&lt;/a>. The important sentence here being &lt;em>&amp;quot;If I buy a DVD, I have to watch a few minutes of copyrights notices and commercials, without being able to skip them. If I rip it, and re-write it, these notices are gone...&amp;quot;&lt;/em>.&lt;/p>
&lt;p>Viva la Revolution!&lt;/p></description></item><item><title>Disabling the Windows Clipboard</title><link>https://realrolfje.github.io/2007/04/17/disabling-the-windows-clipboard/</link><pubDate>Mon, 16 Apr 2007 21:12:47 +0000</pubDate><guid>https://realrolfje.github.io/2007/04/17/disabling-the-windows-clipboard/</guid><description>
&lt;p>When copy-pasting in Windows, sometimes the clipboard bar appears, and if you're really &amp;quot;lucky&amp;quot;, it also pops up a waring, distracting you from your work. The clipboard holds only 12 items, and I have never met anyone who used more than one. There is no way to turn this irritating feature off, unless you want to use the dreaded registry editor.&lt;/p>
&lt;p>Feeling brave? Follow the instructions at &lt;a href="http://support.microsoft.com/kb/207438">http://support.microsoft.com/kb/207438&lt;/a>.&lt;/p></description></item><item><title>Parameter List Too Long</title><link>https://realrolfje.github.io/2007/04/17/parameter-list-too-long/</link><pubDate>Mon, 16 Apr 2007 21:09:53 +0000</pubDate><guid>https://realrolfje.github.io/2007/04/17/parameter-list-too-long/</guid><description>
&lt;p>If your are &amp;quot;fortunate&amp;quot; enough to have to delete a lot of file from a directory on a Unix system, you are likely to encounter the &amp;quot;Parameter List Too Long&amp;quot; problem. This problem is caused by Unix trying to replace the &amp;quot;*&amp;quot; you just used by all names in the directory. This list is then passed to the rm command, which complains that it can not handle that much parameters.&lt;/p>
&lt;p>To get around this limitation, you have a couple of options:&lt;/p>
&lt;p>&lt;strong>Delete all files in the current directory&lt;/strong>
By far the fastest and most compatible way to delete all files in the current directory without recursing into subdirectories is:
ls | xargs rm
This is the fastest command, because xargs makes sure the maximum allowed number of parameters is passed to rm, resulting in fewer calls/startups to rm.&lt;/p>
&lt;p>&lt;strong>Delete all files in the current directory and all subdirectories&lt;/strong>
To delete files not only from the current, but also from all subdirectories, use
find . -name &amp;quot;*&amp;quot; -exec rm -rf {} ;
This is somewhat slower, since rm is executed seperately for each file.&lt;/p>
&lt;p>Above commands are tested on AIX and Linux.&lt;/p></description></item><item><title>Thoughts on Widgets, Gadgets, Screenlets</title><link>https://realrolfje.github.io/2007/04/11/thoughts-on-widgets-gadgets-screenlets/</link><pubDate>Tue, 10 Apr 2007 21:14:27 +0000</pubDate><guid>https://realrolfje.github.io/2007/04/11/thoughts-on-widgets-gadgets-screenlets/</guid><description>
&lt;p>Just now, I was listening to the &lt;a href="http://javaposse.com/">Java Posse podcast&lt;/a> about the ab5k screenlet framework for Java, and I am finally convinced that software developers are a bunch of crazy, unrealistic, memory-hungry, cpu cycle stealers and by lack of normal people telling them otherwise are proud of it, too. The problem? Look at this list (no particular order):&lt;/p>
&lt;pre>&lt;code> * [Linux screenlets or applets](http://kde.org/screenshots/images/3.5/35-superkaramba.png)
* [Windows Sidebar Gadgets](http://www.microsoft.com/windows/products/windowsvista/features/details/sidebargadgets.mspx)
* [Apple Dashboard Widgets](http://developer.apple.com/macosx/dashboard.html)
* [Google Desktop Gadgets](http://desktop.google.com/nl/?utm_campaign=nl&amp;amp;utm_source=nl-ha-emea-nl-google&amp;amp;utm_medium=ha&amp;amp;utm_term=google%20widgets)
* [Yahoo Widgets](http://widgets.yahoo.com/)
* and recently added: [ab5k.org java screenlets](http://www.ab5k.org/)
&lt;/code>&lt;/pre>
&lt;!-- more -->As you can see, this list shows what modern OS's are offering to the user as an extra desktop with little applications on them like clocks, calculators, rss readers or whatever small tool you can think of. Aside from having a polished look and feel, looking good in screenshots, and -in the case of OSX- animations, all these share the same problems:
&lt;pre>&lt;code> * Usage of CPU cycles while not visible/used (and I don't care how few, there are some!)
* Usage of wired memory (memory which is not swapped out to disk for windows users), even while being inactive
* Slow loading times when restoring swapped-out widgets (memory swapped to disk which needs to be loaded back into memory)
* While resembling in name (screenlets, widgets, gadgets) not really portable between systems (although ab5k is about to solve that one)
&lt;/code>&lt;/pre>
&lt;p>I was triggered by the &lt;a href="http://javaposse.com/index.php?post_id=201631">Java Posse podcast on ab5k&lt;/a>, where one of the developers said that when the screenlet container was swapped out, it &amp;quot;only&amp;quot; used 24 megs of memory. That 24 megs could be just that 24 meg which makes windows swap out Photoshop to disk. 24 megs is a considerable amount of memory, for something which does absolutely nothing. An argument for *lets is probably the fast load time, but if all of them get swapped out, it would be just as fast just to start them, wouldn't it?&lt;/p>
&lt;p>On my Mac, the dashboard looks great, and the widgets do what they promise. But apart from using it simply because it was new, I really don't use it that much nowadays. Once the coolfactor wears off, you just want it to work, and I think I like it better to have my utilities on the desktop, where I am working, rather than on a seperate cool looking transparent overlay from which I can not drag and drop easily into an application on the desktop.&lt;/p>
&lt;p>Another thing that I realized while listening is that a lot of the functionality of these widgets are developer driven, not end user driven. I think half of the widgets are build by tech-nerds, but only 10% of the widgets actually end up being used by normal end-users.&lt;/p>
&lt;p>My point is: Can we please stop using the dashboard containers and just build these utilities so they are normal, small, self-contained, fast loading applications which just do what they are designed for, and exit (as in: die and free up memory) when closed? I think this will free up a lot of memory on a lot of systems, and puts CPU cycles to a better use, giving the user more control of what the computer is doing for him, and what he doesn't want the computer to do for him. And if these utilities are in a self-contained package like Apple applications, people can actually uninstall them without leaving a lot of crap behind on the system. Say no to setup.exe!&lt;/p>
&lt;p>I guess the faster computers we buy, the greedier developers get.&lt;/p></description></item><item><title>Apple and EMI follow up</title><link>https://realrolfje.github.io/2007/04/03/apple-and-emi-follow-up/</link><pubDate>Mon, 02 Apr 2007 21:16:57 +0000</pubDate><guid>https://realrolfje.github.io/2007/04/03/apple-and-emi-follow-up/</guid><description>
&lt;p>In a &lt;a href="http://rolfje.wordpress.com/2007/02/06/steve-jobs-gets-it/">previous post&lt;/a> I told you that Steve Jobs wants to provide DRM-free music through iTunes, but was held back by music companies. Steve must have had a few long and hard talks, because now EMI and Apple are teaming up to provide high quality &lt;a href="http://www.macnn.com/articles/07/04/02/drm.free.music.on.itunes/">DRM-free tracks through the iTunes music store&lt;/a>, priced at $1.30. The same track, in a lower sound quality, with DRM costs $0.99. For &lt;a href="http://www.tuaw.com/2007/04/02/what-those-thirty-cents-buy-you/">30 cents&lt;/a>, you get a track you can actually use, with a higher bitrate.&lt;/p>
&lt;p>At the same time this could be a trick by Apple to get around the legal issues currently being discussed about iTunes music not being available to other players than the iPod. Smart eh?&lt;/p></description></item><item><title>Bummer, back to Photoshop</title><link>https://realrolfje.github.io/2007/03/06/bummer-back-to-photoshop/</link><pubDate>Mon, 05 Mar 2007 21:18:57 +0000</pubDate><guid>https://realrolfje.github.io/2007/03/06/bummer-back-to-photoshop/</guid><description>
&lt;p>I bought Photoshop Elements 4 a while ago, but didn't use it much since I didn't like the userinterface (dissapearing menus when you click on the desktop and such). Then came Lightroom public beta, the Photoshop killer. I haven't touched Photoshop since I installed Lightroom. But now... the Lightroom beta testing period is over. Since I haven't got 300 Euros to &amp;quot;splurge&amp;quot; on Lightroom, I guess I'm forced to learn to use Photoshop to process my photos now. Oh well... Let's see how that goes.&lt;/p>
&lt;p>&lt;img src="o_afbeelding-3-copy.gif" alt="Lightroom expired">&lt;/p></description></item><item><title>The truth about Switching To Mac</title><link>https://realrolfje.github.io/2007/02/28/the-truth-about-switching-to-mac/</link><pubDate>Tue, 27 Feb 2007 21:22:22 +0000</pubDate><guid>https://realrolfje.github.io/2007/02/28/the-truth-about-switching-to-mac/</guid><description>
&lt;p>Thinking about switching to a Mac? I'd say go for it, but read &lt;a href="http://utilware.com/switching.html">this article&lt;/a> first. It really sums it all up.&lt;/p></description></item><item><title>Use iTunes with *ANY* mp3 player</title><link>https://realrolfje.github.io/2007/02/01/use-itunes-with-any-mp3-player/</link><pubDate>Wed, 31 Jan 2007 21:29:43 +0000</pubDate><guid>https://realrolfje.github.io/2007/02/01/use-itunes-with-any-mp3-player/</guid><description>
&lt;p>Many years ago, I bought an &lt;a href="http://reviews.cnet.com/Jens_of_Sweden_MP_100_256MB/4514-6490_7-30420028.html">iBead Jens of Sweden MP-100&lt;/a>. At the time I was a Windows/Linux user and everything was fine. Now that I'm a Mac user, syncing tracks to my trusty USB mp3 player is a bit harder. I had to copy tracks by hand, and when two tracks had the same title the copy would fail. THis was all very irritating. I am saving for an iPod nano, but until I get one I'm stuck with the USB copy tricks.&lt;/p>
&lt;p>But not anymore, 5 minutes ago I discovered &lt;a href="http://www.nesfield.co.uk/synctunes/">SyncTunes&lt;/a>, a free Mac OSX application which can sync iTunes playlists to &lt;strong>any&lt;/strong> drive as long as it's available on your desktop. This means that any drive that mounts as a removable drive (USB memory sticks, PDA's, Sony PSP's...) can be used to sync the playlist to. The only catch is that you have to make the playlist fit onto the drive (in size). This can be easily done by creating a smart playlist in iTunes which is limited in size.&lt;/p>
&lt;p>I tested syncing some of my playlists (through a size-limiting playlist) and it works like a charm. Size limiting playlists are also the thing to use if you do have an iPod, and want some control on how many space is used by pop music, and how many space is used by rock. I'm a happy camper now, and in no hurry to buy an iPod (but that &lt;a href="//store.apple.com/1-800-MY-APPLE/WebObjects/AppleStore?family=iPodnano">8GB red nano&lt;/a> sure looks tempting).&lt;/p></description></item><item><title>Java 5 BigDecimal.toString() and Oracle 10g jdbc</title><link>https://realrolfje.github.io/2007/01/31/java-5-bigdecimaltostring-and-oracle-10g-jdbc/</link><pubDate>Tue, 30 Jan 2007 21:30:58 +0000</pubDate><guid>https://realrolfje.github.io/2007/01/31/java-5-bigdecimaltostring-and-oracle-10g-jdbc/</guid><description>
&lt;p>Yesterday a collegue of mine discovered a very ugly problem when storing BigDecimals from a Java 1.5 program into an Oracle 10g database. Not by experience, but by reading the article at &lt;a href="http://www.javalobby.org/java/forums/t88158.html">http://www.javalobby.org/java/forums/t88158.html&lt;/a>. We had not encountered the problem ourselves, but when passing the dredded 12500000 value to the BigDecimal constructor and passing it to the database, we discovered that we too were affected by this bug. So off I went to search a solution.&lt;/p>
&lt;p>The root of the problem lies not only in the fact that the BigDecimal.toString() method behaviour has changed in Java 1.5, but also the way BigDecimals are constructed. The Oracle driver relies on a specific formatting of the BigDecimal.toString() method, and can not handle the output of the &amp;quot;new and improved&amp;quot; BigDecimal in Java 1.5. All discussions about not using toString() for passing values and flaming Oracle and/or Sun aside, we have no option but to fix the problem right now. Oracle promised to fix this problem not sooner than in release 11g, so waiting is not an option.&lt;/p>
&lt;p>&lt;strong>Option 1: Overriding BigDecimal.toString()&lt;/strong>
In our project, we use Ibatis. This gives us a nice handle to implement our own BigDecimalTypeHandler, where we can choose to do anything to the BigDecimal before storing it into the database, and revert that when retrieving it from the databse. One of the options we thought of was to override the BigDecimal's toString in an anonymous subclass inside our IbatisTypeHandler, like so:&lt;/p>
&lt;pre>&lt;code>&amp;lt;tt&amp;gt;
public void setParameter(PreparedStatement ps, int i,
Object parameter, String jdbcType)
throws SQLException {
BigDecimal colVal = new BigDecimal(
((BigDecimal)parameter).toPlainString()){
public String toString(){
return toPlainString();
}
};
ps.setBigDecimal(i, colVal);
}&amp;lt;/tt&amp;gt;
&lt;/code>&lt;/pre>
&lt;p>The anonymous subclass lets you add or change behaviour to an existing class without cluttering your codebase with a classfile which looks rather strange when places out of context. We tried various ways of locally changing the behaviour of BigDecimal to make it go into and out of the database in a way that our unittest would not know the difference, but at some point gave up. There is not really a good way to do this without compromising in scale or resolution in the conversion.&lt;/p>
&lt;p>When using the setParameter described above, you ** will not** get a situation where originalBigDecimal.equals(storedBigDecimal) returns true. In most cases this will not be a very big problem, since originalBigDecimal.subtract(storedBigDecimal) will always return 0.&lt;/p>
&lt;p>If somebody thinks of a way to store BigDecimals into the database and retrieving them in a way it is totally transparent to the caller (compared to JDK 1.4 behaviour) please feel free to post it here.&lt;/p>
&lt;p>**Option 2: Loosing your BigDecimals **&lt;/p>
&lt;p>Perhaps this option had to be considered when thinking of using BigDecimals in the first place. BigDecimals are very awkward to calculate with, are relatively heavy both performance and memory wise. Very often they get converted to doubles before doing any calculations with them, which eliminates most of the reasons for using BigDecimals anyway.&lt;/p>
&lt;p>The easy way to loose only those BigDecimals which get stored in the Database, rewrite the typeHandler you just created into the following:&lt;/p>
&lt;pre>&lt;code>&amp;lt;tt&amp;gt;
public void setParameter(PreparedStatement ps, int i,
Object parameter, String jdbcType)
throws SQLException {
throw new UnsupportedOperationException(
&amp;quot;Oracle can not handle Java 5 BigDecimals properly&amp;quot;);
}&amp;lt;/tt&amp;gt;
&lt;/code>&lt;/pre>
&lt;p>Now, run all Unittest (you have unittests covering at least 80% of your software, don't you?) and replace BigDecimals with other appropriate datatypes where you see the UnsupportedOperation popup.&lt;/p></description></item><item><title>Reboot...</title><link>https://realrolfje.github.io/2007/01/29/reboot/</link><pubDate>Sun, 28 Jan 2007 21:05:50 +0000</pubDate><guid>https://realrolfje.github.io/2007/01/29/reboot/</guid><description>
&lt;p>Today the Mac OS Software update popped up, and warned that these updates would require a reboot (about 80% of the updates do not require a reboot). I have gotten so used to not having reboot and hangup troubles that I almost was surprised to see that I needed to reboot. I use my Mac mini for editting foto's, video, recording TV programs, streaming music, programming, mail, and the usual webbrowsing. It is so quiet and uses so little power that I only power off the screen, and leave the Mac on. I noticed that I have not turned it off for the past 20 days:&lt;/p>
&lt;pre>&lt;code>&amp;lt;tt&amp;gt;rolf$ uptime
20:17 up 20 days, 23:37, 3 users, load averages: 0.20 0.26 0.20
&amp;lt;/tt&amp;gt;
&lt;/code>&lt;/pre>
&lt;p>Not bad for a workstation eh? Glad I bought a Mac, it was worth every penny. The other Mac mini I bought to replace my fileserver is also still worth every penny.Just thought I'd share some of my newly acquired Zen with you...&lt;/p></description></item><item><title>Lost Oracle SYS and SYSTEM password?</title><link>https://realrolfje.github.io/2007/01/16/lost-oracle-sys-and-system-password/</link><pubDate>Mon, 15 Jan 2007 21:09:26 +0000</pubDate><guid>https://realrolfje.github.io/2007/01/16/lost-oracle-sys-and-system-password/</guid><description>
&lt;p>If your administration is as good as anybodies, you are bound to loose the not-so-frequently used password for the SYS and SYSTEM users of oracle. Here are a few ways I found to re-set those passwords:&lt;/p>
&lt;p>&lt;strong>Method 1: SQLPLUS (Tested on AIX Oracle 9.2.0.1.0)&lt;/strong>&lt;/p>
&lt;p>Log into the database server as a user belonging to 'dba' [unix ] or 'ora_dba' [windows ] group , typically 'oracle', or an administrator on your windos machine. You are able to log into Oracle as SYS user, and change the SYSTEM password by doing the following:&lt;/p>
&lt;pre>&lt;code>&amp;lt;tt&amp;gt;&amp;lt;span style=&amp;quot;color:gray;&amp;quot;&amp;gt;$ &amp;lt;/span&amp;gt;&amp;lt;span style=&amp;quot;color:blue;&amp;quot;&amp;gt;sqlplus &amp;quot;/ as sysdba&amp;quot;&amp;lt;/span&amp;gt;&amp;lt;/tt&amp;gt;&amp;lt;tt&amp;gt;&amp;lt;span style=&amp;quot;color:gray;&amp;quot;&amp;gt;
&amp;lt;/span&amp;gt;&amp;lt;/tt&amp;gt;&amp;lt;tt&amp;gt;&amp;lt;span style=&amp;quot;color:gray;&amp;quot;&amp;gt;SQL*Plus: Release 9.2.0.1.0 - Production on Mon Apr 5 15:32:09 2004&amp;lt;/span&amp;gt;&amp;lt;/tt&amp;gt;
&amp;lt;tt&amp;gt;&amp;lt;span style=&amp;quot;color:gray;&amp;quot;&amp;gt;
&amp;lt;/span&amp;gt;&amp;lt;/tt&amp;gt;&amp;lt;tt&amp;gt;&amp;lt;span style=&amp;quot;color:gray;&amp;quot;&amp;gt;Copyright (c) 1982, 2002, Oracle Corporation. All rights reserved.&amp;lt;/span&amp;gt;&amp;lt;/tt&amp;gt;
&amp;lt;tt&amp;gt;&amp;lt;span style=&amp;quot;color:gray;&amp;quot;&amp;gt;
&amp;lt;/span&amp;gt;&amp;lt;/tt&amp;gt;&amp;lt;tt&amp;gt;&amp;lt;span style=&amp;quot;color:gray;&amp;quot;&amp;gt;Connected to:
Oracle9i Enterprise Edition Release 9.2.0.1.0 - Production
With the OLAP and Oracle Data Mining options
JServer Release 9.2.0.1.0 - Production&amp;lt;/span&amp;gt;&amp;lt;/tt&amp;gt;
&amp;lt;tt&amp;gt;&amp;lt;span style=&amp;quot;color:gray;&amp;quot;&amp;gt;
&amp;lt;/span&amp;gt;&amp;lt;/tt&amp;gt;&amp;lt;tt&amp;gt;&amp;lt;span style=&amp;quot;color:gray;&amp;quot;&amp;gt;SQL&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span style=&amp;quot;color:blue;&amp;quot;&amp;gt;show user&amp;lt;/span&amp;gt;&amp;lt;/tt&amp;gt;
&amp;lt;tt&amp;gt;&amp;lt;span style=&amp;quot;color:gray;&amp;quot;&amp;gt;
&amp;lt;/span&amp;gt;&amp;lt;/tt&amp;gt;&amp;lt;tt&amp;gt;&amp;lt;span style=&amp;quot;color:gray;&amp;quot;&amp;gt;USER is &amp;quot;SYS&amp;quot;&amp;lt;/span&amp;gt;&amp;lt;/tt&amp;gt;
&amp;lt;tt&amp;gt;&amp;lt;span style=&amp;quot;color:gray;&amp;quot;&amp;gt;
&amp;lt;/span&amp;gt;&amp;lt;/tt&amp;gt;&amp;lt;tt&amp;gt;&amp;lt;span style=&amp;quot;color:gray;&amp;quot;&amp;gt;SQL&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span style=&amp;quot;color:blue;&amp;quot;&amp;gt;passw system&amp;lt;/span&amp;gt;
Changing password for system
New password:
Retype new password:
Password changed
SQL&amp;gt; &amp;lt;span style=&amp;quot;color:blue;&amp;quot;&amp;gt;quit&amp;lt;/span&amp;gt;
&amp;lt;/tt&amp;gt;
&lt;/code>&lt;/pre>
&lt;p>Next, we need to change the password of SYS:&lt;/p>
&lt;pre>&lt;code>&amp;lt;tt&amp;gt;&amp;lt;span style=&amp;quot;color:gray;&amp;quot;&amp;gt;$ &amp;lt;/span&amp;gt;&amp;lt;span style=&amp;quot;color:blue;&amp;quot;&amp;gt;sqlplus &amp;quot;/ as system&amp;quot;&amp;lt;/span&amp;gt;&amp;lt;/tt&amp;gt;&amp;lt;tt&amp;gt;&amp;lt;span style=&amp;quot;color:gray;&amp;quot;&amp;gt;
&amp;lt;/span&amp;gt;&amp;lt;/tt&amp;gt;&amp;lt;tt&amp;gt;&amp;lt;span style=&amp;quot;color:gray;&amp;quot;&amp;gt;SQL*Plus: Release 9.2.0.1.0 - Production on Mon Apr 5 15:36:45 2004&amp;lt;/span&amp;gt;&amp;lt;/tt&amp;gt;
&amp;lt;tt&amp;gt;&amp;lt;span style=&amp;quot;color:gray;&amp;quot;&amp;gt;
&amp;lt;/span&amp;gt;&amp;lt;/tt&amp;gt;&amp;lt;tt&amp;gt;&amp;lt;span style=&amp;quot;color:gray;&amp;quot;&amp;gt;Copyright (c) 1982, 2002, Oracle Corporation. All rights reserved.&amp;lt;/span&amp;gt;&amp;lt;/tt&amp;gt;
&amp;lt;tt&amp;gt;&amp;lt;span style=&amp;quot;color:gray;&amp;quot;&amp;gt;
&amp;lt;/span&amp;gt;&amp;lt;/tt&amp;gt;&amp;lt;tt&amp;gt;&amp;lt;span style=&amp;quot;color:gray;&amp;quot;&amp;gt;SP2-0306: Invalid option.
Usage: CONN[ECT] [logon] [AS {SYSDBA|SYSOPER}]
where &amp;lt;logon&amp;gt; ::= &amp;lt;username&amp;gt;[/&amp;lt;password&amp;gt;][@&amp;lt;connect_string&amp;gt;] | /
Enter user-name: system
Enter password:&amp;lt;/span&amp;gt;&amp;lt;/tt&amp;gt;
&amp;lt;tt&amp;gt;&amp;lt;span style=&amp;quot;color:gray;&amp;quot;&amp;gt;
&amp;lt;/span&amp;gt;&amp;lt;/tt&amp;gt;&amp;lt;tt&amp;gt;&amp;lt;span style=&amp;quot;color:gray;&amp;quot;&amp;gt;Connected to:
Oracle9i Enterprise Edition Release 9.2.0.1.0 - Production
With the OLAP and Oracle Data Mining options
JServer Release 9.2.0.1.0 - Production&amp;lt;/span&amp;gt;&amp;lt;/tt&amp;gt;
&amp;lt;tt&amp;gt;&amp;lt;span style=&amp;quot;color:gray;&amp;quot;&amp;gt;
&amp;lt;/span&amp;gt;&amp;lt;/tt&amp;gt;&amp;lt;tt&amp;gt;&amp;lt;span style=&amp;quot;color:gray;&amp;quot;&amp;gt;SQL&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span style=&amp;quot;color:blue;&amp;quot;&amp;gt;passw sys&amp;lt;/span&amp;gt;
Changing password for sys
New password:
Retype new password:
Password changed
SQL&amp;gt; &amp;lt;span style=&amp;quot;color:blue;&amp;quot;&amp;gt;quit&amp;lt;/span&amp;gt;
&amp;lt;/tt&amp;gt;
&lt;/code>&lt;/pre>
&lt;p>You should now be able to log on the SYS and SYSTEM users, with the passwords you just typed in.&lt;/p>
&lt;p>&lt;strong>Method 2: Creating pwd file (Tested on Windows Oracle 8.1.7)&lt;/strong>&lt;/p>
&lt;pre>&lt;code> 1. Stop the Oracle service of the instance you want to change the passwords of.
2. Find the PWD###.ora file for this instance, this is usuallly located atC:\oracle\ora81\database\, where ### is the SID of your database.
3. rename the PWD###.ora file to PWD###.ora.bak for obvious safety reasons.
4. Create a new pwd file by issuing the command:
&lt;/code>&lt;/pre>
&lt;p>orapwd file=C:\oracle\ora81\database\PWD###.ora password=XXXXX
where ### is the SID and XXXXX is the password you would like to use for the SYS and INTERNAL accounts.
5. Start the Oracle service for the instance you just fixed. You should be able to get in with the SYS user and change other passwords from there.&lt;/p></description></item><item><title>Nice Mac Tools</title><link>https://realrolfje.github.io/2006/12/21/nice-mac-tools/</link><pubDate>Thu, 21 Dec 2006 15:30:28 +0000</pubDate><guid>https://realrolfje.github.io/2006/12/21/nice-mac-tools/</guid><description>
&lt;p>As a Mac user, I have absolutely no problem editting, moving and viewing large video, audio and image files. There was one thing I missed though, and that is a tool which is able to quickly view a large JPG (like OSX's own preview) but then skip to the next image in the directory when selecting &amp;quot;next&amp;quot;. Today I have found just that tool, and it is a dream to work with. It called &lt;a href="http://www.macupdate.com/info.php/id/19978">Xee&lt;/a> (not to be confused with the rather lame Xsee).&lt;/p>
&lt;p>Xee loads jpg's blindingly fast from my remote fileserver. Then, using just the keyboard, I can easily zoom in, out, skip to the next or previous file in the directory, fit the image to screen, etc. After testing about 20 or so image viewers, It is absolutely the best image viewer I have found.&lt;/p>
&lt;p>During the search for Xee, I also encountered the &lt;a href="http://homepage.mac.com/frakes/MOSXPT/content/software.html">OSX Power Tools&lt;/a> page, which is a list of very handy utilities for the Mac, and from what I can see all of them are free to use (check license to be sure).&lt;/p>
&lt;p>&lt;a href="http://www.flw.com/merry.htm">Merry Christmas!&lt;/a>&lt;/p></description></item><item><title>Creating an Ubuntu Postgres server</title><link>https://realrolfje.github.io/2006/11/10/creating-an-ubuntu-postgres-server/</link><pubDate>Fri, 10 Nov 2006 19:52:04 +0000</pubDate><guid>https://realrolfje.github.io/2006/11/10/creating-an-ubuntu-postgres-server/</guid><description>
&lt;p>Follow these steps to create an &lt;a href="http://www.ubuntu.com/">Ubuntu Linux&lt;/a> &amp;quot;server&amp;quot; running a &lt;a href="http://www.postgresql.org/">Postgres&lt;/a> database which allows non-local connections. You will need a machine with at least 10GB HD, bootable from CD-ROM, network card, and preferably more than 200MB RAM. Other than that, it can even be a Mac G4 if you like (just download the correct Ubuntu build).&lt;/p>
&lt;!-- more -->
&lt;pre>&lt;code> 1. Download the [ISO image for Ubuntu 6.06.1 (Dapper Drake)](http://se.releases.ubuntu.com/6.06/). I chose the desktop version to have the graphic user interface to fall back on, I'm not a command-line typing machine.
2. Burn the ISO image to a CD-ROM, and startup your soon-to-be-database-server with it. To make the installation go smoothly, hook it up to a network with a DHCP server. You can configure the DHCP server to always deliver the same IP to your database server, which is often much easier than configuring all those stupid Linux config files all over the place.
3. Choose install values as if it were going to be your desktop. Follow the installer, don't try to &amp;quot;outsmart&amp;quot; it.
4. When it boots for the first time, log on and find the software updates on the top left of the screen. Install the updates. This may take a while but you don't have to babysit it. Wait for it to finish and reboot when it asks you to. Please note that your root password will be the same password as you used for creating your first user.
5. [optional] If you would like to be able to remote-connect to this machine using SSH, install the ssh server by typing in the following command on in a terminal window:
sudo apt-get install ssh openssh-server
&lt;/code>&lt;/pre>
&lt;p>You should now be able to connect to your server remotely. If you installed SSH, you can now move the machine to it's final physical destination (a nice broomcloset or something)
6. Install postgres 8.1 (plus client) with the following command:&lt;/p>
&lt;pre>&lt;code>sudo apt-get install postgresql-8.1 postgresql-client-8.1
7. Change the password of the postgres user with the following commands (typing in red)
&amp;lt;font color=&amp;quot;red&amp;quot;&amp;gt;sudo su postgres -c psql template1&amp;lt;/font&amp;gt;
template1=# &amp;lt;font color=&amp;quot;red&amp;quot;&amp;gt;ALTER USER postgres WITH PASSWORD 'mySecret123Password';&amp;lt;/font&amp;gt;
template1=# &amp;lt;font color=&amp;quot;red&amp;quot;&amp;gt;\q&amp;lt;/font&amp;gt;
8. Make postgres listen on all interfaces by editting the postgres.conf file. Edit the file with:
sudo pico /etc/postgresql/8.1/main/postgresql.conf
&lt;/code>&lt;/pre>
&lt;p>Change the line&lt;/p>
&lt;pre>&lt;code>#listen_addresses = 'localhost'
&lt;/code>&lt;/pre>
&lt;p>to&lt;/p>
&lt;pre>&lt;code>listen_addresses = '*'
&lt;/code>&lt;/pre>
&lt;p>In the same postgres.conf file, make sure the password encryption is turned on by changing the line&lt;/p>
&lt;pre>&lt;code>#password_encryption = on
&lt;/code>&lt;/pre>
&lt;p>to&lt;/p>
&lt;pre>&lt;code>password_encryption = on
&lt;/code>&lt;/pre>
&lt;p>and close the file.
9. Tell postgres which machines are allowed to connect. Edit the pg_hba.conf file (nice descriptive name, huh?) with the following command:&lt;/p>
&lt;pre>&lt;code>sudo pico /etc/postgresql/8.1/main/pg_hba.conf
&lt;/code>&lt;/pre>
&lt;p>and add the following lines to the end of the file:&lt;/p>
&lt;pre>&lt;code>#Allow all hosts on the same subnet to connect to this database server
host all all 192.168.0.0 255.255.255.0 md5
&lt;/code>&lt;/pre>
&lt;p>Please note that my home network is a 192.168.0.* network. If yours is a 10.0.0.*, you know what to replace in the line above, right?
10. Make the postgres server restart and load the changes you've just made by using the command&lt;/p>
&lt;pre>&lt;code>sudo /etc/init.d/postgresql-8.1 restart
11. Check that it actually works by using the following telnet command from a different machine in your network:
telnet [postgresmachine] 5432
&lt;/code>&lt;/pre>
&lt;p>If telnet responds with &amp;quot;Connection refused&amp;quot;, you have a problem (which I'm not going to cover here, sorry, just retry). If all went well, telnet will tell you that it's &amp;quot;Connected to [postgresmachine]&amp;quot;. You can start using it.&lt;/p>
&lt;p>Creating a working postgres server from a bare metal machine should take not much more than 1 hour or so. For me, it took 2 complete evenings because so few people are posting good step-by-step simple guides. 80% of the time you get redirected to a long, complete, cryptic information page on the postgres site, which by the time you've read completely through it, only solved half your problem. The other 20% of the time people are steering you in the wrong direction by making you edit the &amp;quot;inner guts&amp;quot; of your server, like the rc.d files and whatnot.&lt;/p>
&lt;p>Have fun with your new database machine!&lt;/p>
&lt;p>Update: Replaced gedit with pico, this will work on an ssh session as well as a local terminal session. gedit is a graphical editor.&lt;/p></description></item><item><title>Ibatis Nullpointer calling stored procedure</title><link>https://realrolfje.github.io/2006/11/07/ibatis-nullpointer-calling-stored-procedure/</link><pubDate>Tue, 07 Nov 2006 19:53:14 +0000</pubDate><guid>https://realrolfje.github.io/2006/11/07/ibatis-nullpointer-calling-stored-procedure/</guid><description>
&lt;p>Today, a collegue of mine had a really strange nullpointer problem trying to call a stored procedure in an Oracle 10 database using &lt;a href="http://ibatis.apache.org/javadownloads.html">iBATIS Java 2.2.0&lt;/a>. What she had was a normal JavaBean, like so: &lt;/p>
&lt;pre>&lt;code>package com.rolfje.foo
public class BarBean {
private String barName;
private Long barId;
... setters/getters here ...
}
&lt;/code>&lt;/pre>
&lt;p>A straightforward parametermap:&lt;/p>
&lt;pre>&lt;code>&amp;lt;parameterMap class=&amp;quot;com.rolfje.foo.BarBean&amp;quot;
id=&amp;quot;barbeanMap&amp;quot;&amp;gt;
&amp;lt;parameter property=&amp;quot;barName&amp;quot; /&amp;gt;
&amp;lt;parameter property=&amp;quot;barId&amp;quot; /&amp;gt;
&amp;lt;/parameterMap&amp;gt;
&lt;/code>&lt;/pre>
&lt;p>and a straightforward procedure mapping:&lt;/p>
&lt;pre>&lt;code>&amp;lt;procedure id=&amp;quot;insertBar&amp;quot; parameterMap=&amp;quot;barbeanMap&amp;quot;&amp;gt;
{ call store_bar (
?,?)
}
&amp;lt;/procedure&amp;gt;
&lt;/code>&lt;/pre>
&lt;p>When trying to call the stored procedure, she got the following stacktrace:&lt;/p>
&lt;pre>&lt;code>org.springframework.jdbc.UncategorizedSQLException: SqlMapClient operation;
uncategorized SQLException for SQL [];
SQL state [null]; error code [0];
--- The error occurred in com/rolfje/foo/sqlmaps/ParameterMap.xml.
--- The error occurred while applying a parameter map.
--- Check the barBeanMap.
--- Check the statement (update procedure failed).
--- Cause: java.lang.NullPointerException; nested exception is
com.ibatis.common.jdbc.exception.NestedSQLException:
--- The error occurred in com/rolfje/foo/sqlmaps/ParameterMap.xml.
--- The error occurred while applying a parameter map.
--- Check the barBeanMap.
--- Check the statement (update procedure failed).
--- Cause: java.lang.NullPointerException
Caused by: java.lang.NullPointerException
Caused by: com.ibatis.common.jdbc.exception.NestedSQLException:
--- The error occurred in com/rolfje/foo/sqlmaps/ParameterMap.xml.
--- The error occurred while applying a parameter map.
--- Check the barBeanMap.
--- Check the statement (update procedure failed).
--- Cause: java.lang.NullPointerException
Caused by: java.lang.NullPointerException
at ...executeQueryWithCallback(GeneralStatement.java:188)
at ...executeQueryForObject(GeneralStatement.java:104)
at ...queryForObject(SqlMapExecutorDelegate.java:565)
...
&lt;/code>&lt;/pre>
&lt;p>After hours of staring at the problem, and comparing code with similar constructions from other projects, we decided to switch to the Oracle 9i thin driver to see if that would solve the problem. It didn't, but there was an interesting development: The Oracle 9i driver actually gave us a decent error about not being able to parse the SQL statement. Which brings us to...&lt;/p>
&lt;p>&lt;strong>The solution:&lt;/strong>
We removed all layout from the procedure mapping, which resulted in:&lt;/p>
&lt;pre>&lt;code>&amp;lt;procedure id=&amp;quot;insertBar&amp;quot; parameterMap=&amp;quot;barbeanMap&amp;quot;&amp;gt;
{call store_bar (?,?)}
&amp;lt;/procedure&amp;gt;
&lt;/code>&lt;/pre>
&lt;p>This solved the problem. Then we switched back to the Oracle 10i thin driver, and the problem was still gone. The problem lies in the TAB between the left curly bracket and the word &amp;quot;call&amp;quot;. Oracle can not handle this.To investigate this problem, we then also tried to insert &lt;![CDATA[ ]]> around the procedure call, but as soon as there is a TAB between the { and the word &amp;quot;call&amp;quot; iBATIS will throw a NullPointer. The strange thing is that you can have spaces, newlines and tabs &lt;em>anywhere&lt;/em> in the procedure mapping, as long as there is no TAB between the left curly and the word &amp;quot;call&amp;quot;.&lt;/p></description></item><item><title>It ain't what you do...</title><link>https://realrolfje.github.io/2006/11/02/it-aint-what-you-do/</link><pubDate>Thu, 02 Nov 2006 19:38:14 +0000</pubDate><guid>https://realrolfje.github.io/2006/11/02/it-aint-what-you-do/</guid><description>
&lt;p>...it's the way that you do it. Last week I noticed a funny thing in an application I'm involved in as a developer. For logging in to the application, the term &amp;quot;Log On&amp;quot; was used. However, for logging off, &amp;quot;Log Out&amp;quot; was used. This did not feel right, so I searched a bit on the use of these terms. It looks like more people are having trouble choosing one form or the other, and are also mixing on/off and in/out.&lt;/p>
&lt;p>&lt;a href="http://www.m-w.com/dictionary/log%20in">&lt;!-- more -->Log in&lt;/a> / Log out
This is the Unix variant for logging in and out a user. Note that &amp;quot;Log in&amp;quot; is two words. In modern dictionaries like the Merriam-Webster's Collegiate Dictionary, &amp;quot;log in&amp;quot; is written both as &amp;quot;log in&amp;quot; and &amp;quot;log-in&amp;quot;, with a hypen. &amp;quot;log in&amp;quot; is a synonym for the main entry, &amp;quot;log on&amp;quot;. Funny detail is that the dictionary has no entry for &amp;quot;log out&amp;quot;.&lt;/p>
&lt;p>&lt;a href="http://www.m-w.com/dictionary/log%20on">Log on&lt;/a> / Log off
This is the Windows variant for logging in and out a user. As with &amp;quot;Log in&amp;quot;, &amp;quot;Log on&amp;quot; is always written as two seperate words, optionaly concatinated with a hypen. Merriam also doesn't contain entries for &amp;quot;log off&amp;quot; or alike.&lt;/p>
&lt;p>&lt;a href="http://www.m-w.com/dictionary/sign%20in">Sign in&lt;/a> / &lt;a href="http://www.m-w.com/dictionary/sign%20out">Sign out&lt;/a>
This is the Google (and several other websites) variant of &amp;quot;log in&amp;quot; and &amp;quot;log out&amp;quot;. It is arguably the best choice on earth for log in and out actions, because of the following reasons:&lt;/p>
&lt;pre>&lt;code> 1. The term &amp;quot;log on&amp;quot; is often used to send people to a URL, without actually logging in. Example (as heard on TV): &amp;quot;Log on to www.nbc.com for more information.&amp;quot;. This use of the term &amp;quot;log on&amp;quot; confuses people as to what the term &amp;quot;log on&amp;quot; means.
2. The term &amp;quot;log in&amp;quot; suffers more or less from the same problem as &amp;quot;log on&amp;quot;. Like &amp;quot;log on&amp;quot;, &amp;quot;log in&amp;quot; has no counterpart in Merriam-Webster's dictionary.
3. The term &amp;quot;Sign in&amp;quot; is a clear association with physically entering a building, and in this case, a system.
4. &amp;quot;Sign in&amp;quot; has a clear counterpart in Merriam-Webster, &amp;quot;Sign out&amp;quot;, and is less likely to be intermixed with &amp;quot;log out/off&amp;quot;.
5. For some reason, everybody knows that &amp;quot;Sign in&amp;quot; is written as two seperate words.
&lt;/code>&lt;/pre>
&lt;p>Yes I know, it sounds like a lot of trouble for a seemingly little thing. But I like to be consequent when writing code, thereby hoping that other people can actually read, understand and maintain my code as I would like to be able to read, understand and maintain theirs. Programmers often spend (much) more time trying to understand other people's code than writing new code of their own.&lt;/p>
&lt;p>To come back to the start of all this, I changed &amp;quot;Log in&amp;quot; to read &amp;quot;Log on&amp;quot;, so the application is now a Windows-like &amp;quot;Log on&amp;quot; / &amp;quot;Log off&amp;quot; application.&lt;/p>
&lt;p>Have fun.&lt;/p></description></item><item><title>Tangerine BPM Analyzer</title><link>https://realrolfje.github.io/2006/10/22/tangerine-bpm-analyzer/</link><pubDate>Sun, 22 Oct 2006 19:51:17 +0000</pubDate><guid>https://realrolfje.github.io/2006/10/22/tangerine-bpm-analyzer/</guid><description>
&lt;p>Today I discovered &lt;a href="http://www.potionfactory.com/blog/2006/10/18/introducing-tangerine/">Tangerine&lt;/a>, a BPM (Beats Per Minute) analyzer for use with iTunes on a mac. I downloaded it, and it works as advertised. It scans your iTunes music library, and analyzes the BPM (and intensity of the pattern) of each track. It does this in the background, and on my Mac mini Core duo I can continue wih my normal programs while Tangerine analyzes the tracks. The BPM values get saved to your iTunes library, so they will also show up in iTunes if you have the BPM column visible there. The &amp;quot;Intensity&amp;quot; will not be visible in your normal iTunes lists.&lt;/p>
&lt;!-- more -->[![Tangerine Screenshot](o_afbeelding-1.thumbnail.jpg)
&lt;p>](o_afbeelding-1.jpg)Tangerine presents itself with a very iTunes like feel, showing your iTunes playlists on the left, and a track listing will eat the larger part of the top right side. Directly beneath the playlist and track list there is a space in which you can build your playlist. This is a new way of presenting a playlist, which I think is a very welcome way of editting playlists for &lt;a href="http://www.nike.com/nikeplus/">Nike+&lt;/a> owners (which I am not by the way). It shows the tracks played in &lt;a href="http://en.wikipedia.org/wiki/Chronological">chronological&lt;/a> order, with a timeline at the top (numbers displayed are minutes, see screenshot). This will enable you to plan your workout, since you will know when that 160 BPM track will hit your ears. The only suggestion I have to the evelopers is to put the BPM of the added track below the image, so you can see where the BPM's are going in the playlist. And the &amp;quot;180&amp;quot; I see displayed in the top left makes no sense to me, maybe this needs polishing in the 1.0 version.&lt;/p>
&lt;p>For me as a programmer, this saves me a lot of time finding my &amp;quot;getting in the zone&amp;quot; tracks. It will also prove to be a good tool while creating your iDVD movies or slideshows, helping you find that uptempo track for your great surfing shots.&lt;/p>
&lt;p>For some tracks Tangerine tends to miscalculate the BPM, resulting in values like &amp;quot;4&amp;quot; or &amp;quot;3491234&amp;quot; as BPM. Luckaly, the &amp;quot;intensity&amp;quot; value not only tells something about the contrast the bassdrum has with the rest of the music, but also on how sure Tangerine is about the accuracy of the BPMs. The higher the &amp;quot;intensity&amp;quot;, the more sure Tangerine is about it's BPM. Intensities of 60 and higher are pretty accurate most of the time.&lt;/p>
&lt;p>This release of Tangerine (0.9.2) is a free beta, so start downloading now! The next release will probably cost a few dollars, I don't expect it to eat your yearly income. As with most Apple software I expect it to sell for between 10 and 30 euro's.&lt;/p>
&lt;p>Have fun!&lt;/p></description></item><item><title>OSX: USB Fat32 drives trouble samba</title><link>https://realrolfje.github.io/2006/09/26/osx-usb-fat32-drives-trouble-samba/</link><pubDate>Tue, 26 Sep 2006 14:55:47 +0000</pubDate><guid>https://realrolfje.github.io/2006/09/26/osx-usb-fat32-drives-trouble-samba/</guid><description>
&lt;p>Okay, I found the answer to &lt;a href="http://rolfje.wordpress.com/2006/09/25/samba-shares-and-usb-drives/">my problem&lt;/a>. Mounting an USB drive on OSX which is formatted as Fat32, will not behave nicely when being accessed through samba. Trying to start multiple copy processes simultaniously will cause seemingly random &amp;quot;file locked&amp;quot; errors. I just formatted the drive as HFS+, and the problem dissapeared. This is a screenshot you'd expect when copying, but I was very happy to see it just a minute ago:&lt;/p>
&lt;p>&lt;img src="o_afbeelding-2.gif" alt="Multiple file copy jobs">&lt;/p>
&lt;p>Now that I've cleared that problem, I can start working on the backup and virusscanning processes, and writing a nice &amp;quot;how to&amp;quot; so you can do the same with your mac mini!&lt;/p>
&lt;p>I should have done this right away like I planned. HFS+ is far better than Fat32 (journalled, auto-defragmenting, case preserving, and better in preserving file integrity).&lt;/p></description></item><item><title>request a password at the command-line without display</title><link>https://realrolfje.github.io/2006/08/18/request-a-password-at-the-command-line-without-display/</link><pubDate>Fri, 18 Aug 2006 15:07:56 +0000</pubDate><guid>https://realrolfje.github.io/2006/08/18/request-a-password-at-the-command-line-without-display/</guid><description>
&lt;p>For those of you trying to request a password from the user at the command-line, without the password being displayed on-screen, &lt;a href="http://userfriendly.free.fr/christopher/en/index.php?2006/03/24/8-console-api">Java 6 finaly has the answer&lt;/a>, along with better access to the console.&lt;/p>
&lt;p>I hope that soon we will never see &lt;a href="http://java.sun.com/developer/technicalArticles/Security/pwordmask/">this hideous construction&lt;/a> to do the same again.&lt;/p></description></item><item><title>Nice Apple applications</title><link>https://realrolfje.github.io/2006/07/11/nice-apple-applications/</link><pubDate>Tue, 11 Jul 2006 15:26:22 +0000</pubDate><guid>https://realrolfje.github.io/2006/07/11/nice-apple-applications/</guid><description>
&lt;p>All listed in one nice page on &lt;a href="http://flernk.blogspot.com/2006/07/guide-to-os-x-software-for-switchers.html">&amp;quot;Guide to OSX software for switchers&amp;quot;&lt;/a>. Have fun!&lt;/p></description></item><item><title>MP3 Gain for OSX</title><link>https://realrolfje.github.io/2006/06/21/mp3-gain-for-osx/</link><pubDate>Wed, 21 Jun 2006 15:44:02 +0000</pubDate><guid>https://realrolfje.github.io/2006/06/21/mp3-gain-for-osx/</guid><description>
&lt;p>So here I am using iTunes on my Apple. So far so good. The downside is that I have an iBead as an mp3 player, so there are a few problems with that. First of all, iTunes only plays nice with the iPods (and a few other oddballs ;-). For me to put mp3's on my iBead, I can drag them over from iTunes onto the USB drive, but when things' don't fit, it just doesn't copy at all. Also, automatic random playlists aren't that automatic.&lt;/p>
&lt;p>So far, I can live with all these little problems. I can create a playlist limited to a particular size, empty my iBead and drag the mp3's over. But when I play them on my iBead, the volume levels are far apart. In the old days I used mp3Gain on my PC to level out all volumes, which worked great. But iTunes has it's own take on that: It stores a relative volume in the file, and iPods know how to handle this properly, adjusting the volume. My iBead however, doesn't.&lt;/p>
&lt;p>Tonight I went out to look for a tool which could adjust the volumes of my mp3's on my Mac mini. And guess what? I found it! &lt;a href="http://homepage.mac.com/beryrinaldo/AudioTron/MacMP3Gain/">MacMP3Gain&lt;/a> does it all, and it is currently processing my complete library, adjusting all volumes. It has a &amp;quot;nice&amp;quot; option so it won't hog all processing power. I think it will be finished somewhere tommorow afternoon. It claims to be lossless, so I guess I can run it on my complete library every once in a while without having to worry about which files are new or not.&lt;/p></description></item><item><title>Photo Statistics</title><link>https://realrolfje.github.io/2006/06/21/photo-statistics/</link><pubDate>Wed, 21 Jun 2006 15:32:09 +0000</pubDate><guid>https://realrolfje.github.io/2006/06/21/photo-statistics/</guid><description>
&lt;p>I am trying to decide what lens to buy for my Canon EOS 350D. The first descision to make is what focal length I need. To do this, I found a nice tool which can display statistical info about your photographs. It shows you how many foto's you've made at certain focal lengths, with which aperture, ISO, metering, and other EXIF fields. It's a windows only tool, and it's called &lt;a href="http://www.softsymphony.com/photostat_descr.htm">Smart Photo Statistics&lt;/a>. It's absolutely 100% free software and works as expected. It can even copy the graphs to the clipboard for you to use elsewhere.&lt;/p>
&lt;p>I'm gathering statistics right now on all photo's of all digital camera's I've owned, to see what focal lentgths I need. Great tool!&lt;/p></description></item><item><title>Eclipse on Intel Macs</title><link>https://realrolfje.github.io/2006/05/03/eclipse-on-intel-macs/</link><pubDate>Wed, 03 May 2006 15:47:18 +0000</pubDate><guid>https://realrolfje.github.io/2006/05/03/eclipse-on-intel-macs/</guid><description>
&lt;p>&lt;a href="http://www.eclipse.org/">Eclipse&lt;/a> looks really nice on OS X. I can tell, I have it running on my mac Mini duo core. If you have problems getting it to start, and the logfile complains about linker errors, chances are you have the PPC version of the eclipse app file. To check this, Ctrl-click on the eclipse.app file. If it doesn't say &amp;quot;(Universal)&amp;quot; somewhere next to &amp;quot;Type:&amp;quot;, then you need to download a newer version. Get the &lt;a href="http://download.eclipse.org/eclipse/downloads/drops/S-3.2RC2-200604281315/index.php">Eclipse 3.2 RC2&lt;/a> or higher, and make sure you download the &amp;quot;Mac OSX (Mac/Carbon)&amp;quot; version.&lt;/p>
&lt;!-- more -->I have milestone 5 running here, because I didn't pay attention when downloading. I will upgrade to RC2 tommorow I guess...
&lt;p>&lt;strong>Update:&lt;/strong> I was worried about not being able to develop older java versions. Particularly installing an older version of Java on my Mac worried me. But Eclipse gave me a nice surprise: OS X has all Java versions installed by default (1.3 up to 1.5), and eclipse auto-detects them! Brilliant! Next up: Installing Maven.&lt;/p>
&lt;p>&lt;img src="o_afbeelding-1.jpg" alt="Eclipse showing the Java VM’s">&lt;/p></description></item><item><title>Connecting with different users to 1 server (2)</title><link>https://realrolfje.github.io/2006/04/28/connecting-with-different-users-to-1-server-2/</link><pubDate>Fri, 28 Apr 2006 16:07:01 +0000</pubDate><guid>https://realrolfje.github.io/2006/04/28/connecting-with-different-users-to-1-server-2/</guid><description>
&lt;p>This is a simple followup after my last post. Pim did also &lt;a href="http://zwet.com/2006/04/27/mounting-shares-with-applescript/">look into this&lt;/a>, and made a script which doesn't pop up finders by simply calling &amp;quot;mount&amp;quot;. There is only one minor glitch: the script pops up an error when the mount already exists. With my brilliant programming expertise, I quickly solved that:&lt;/p>
&lt;pre>&lt;code>try
mount volume &amp;quot;cifs://KAGE/iTunes&amp;quot; as user name &amp;quot;iTunes&amp;quot;
with password &amp;quot;yourpasswordhere&amp;quot;
mount volume &amp;quot;cifs://KAGE/incomming&amp;quot; as user name &amp;quot;Guest&amp;quot;
mount volume &amp;quot;cifs://KAGE/foto&amp;quot; as user name &amp;quot;Guest&amp;quot;
on error errText number errNum
(* Not the nice way, simply ignore errors. If the mount did
not work, the user needs to see what is going on. How?
Use Finder to mount, and it will give you the error *)
end try
&lt;/code>&lt;/pre>
&lt;p>This script will try to mount the drives, ignoring errors. Replace the servernames, usernames and passwords with your own. What you can do is run the script at logon, or every minute in a cron job. I checked /var/log/system.log, but the script does not generate errors there.&lt;/p>
&lt;p>At the rate we're going, maybe we'll even solve the &amp;quot;re-mount drives on return from sleep&amp;quot; problem. Let's see if we can find a wakeup event on which we can run the script.&lt;/p></description></item><item><title>Connecting with different users to 1 server</title><link>https://realrolfje.github.io/2006/04/27/connecting-with-different-users-to-1-server/</link><pubDate>Thu, 27 Apr 2006 16:08:16 +0000</pubDate><guid>https://realrolfje.github.io/2006/04/27/connecting-with-different-users-to-1-server/</guid><description>
&lt;p>With my Mac mini in a Windows LAN, I have the following problem:&lt;/p>
&lt;pre>&lt;code> 1. I can add my (cifs windows) network shares to my login script (Preferences -&amp;gt; Accounts -&amp;gt; Login), but when the mac wakes up from sleep, they are gone.
2. When I want to connect to 2 shares on the same server, but one with a different account than the other, it doesn't work. On login, the system chooses one of the accounts and uses it to connect to both network shares.
&lt;/code>&lt;/pre>
&lt;p>I think both problems are terrible, and particularly the way you connect to a network share in Finder using a password is confusing to say the least. Searching the web reveals hundreds of posts of people having the same problems. One wonders why apple didn't solve this already.&lt;/p>
&lt;p>I made a simple workaround for this problem by copy/pasting some script from several websites into the script editor (sorry guys, I'm lazy). I then saved it both as application and as source. I use the script to mount the drives at logon, and re-mount them when the Mac wakes from sleep mode. Until I come up with a better idea, or somebody can point to a nicer &amp;quot;Apple way&amp;quot; solution, or Apple fixes this dreadful problem in OS X, here is my script:&lt;/p>
&lt;pre>&lt;code>tell application &amp;quot;Finder&amp;quot;
open location &amp;quot;cifs://WORKGROUP;iTunes@KAGE/iTunes&amp;quot;
open location &amp;quot;cifs://WORKGROUP;Guest@KAGE/incomming&amp;quot;
end tell
&lt;/code>&lt;/pre>
&lt;p>When running a script like this for the first time, the system asks you the passwords. Type them in and save them in your keyring. The next time they won't be asked, and you have no readable passwords in your script. Nice. The downside of this script is that it opens a ton of finder windows. I have nosed around in Automator but can not find a way to close them automatically. I also tried to record a script, but that gave me an even more &amp;quot;unusable&amp;quot; script.&lt;/p>
&lt;p>I hope this helps you too. If you think this can be done in a nicer way (without too much scripting) please let me know.&lt;/p>
&lt;p>&lt;strong>Update:&lt;/strong> Seems I was to quick about the keyring app. I did need to add passwords to the script (add &amp;quot;:password&amp;quot; after the userid without the quotes). Stupid machine does not understand what I want.&lt;/p></description></item><item><title>Flip4Mac 2.0.2 does not install on Intel Macs</title><link>https://realrolfje.github.io/2006/04/24/flip4mac-202-does-not-install-on-intel-macs/</link><pubDate>Mon, 24 Apr 2006 16:09:17 +0000</pubDate><guid>https://realrolfje.github.io/2006/04/24/flip4mac-202-does-not-install-on-intel-macs/</guid><description>
&lt;p>Bummer, I was hoping to be able to open those wmv files I get mailed in the Quicktime window. Although OS X claims to be supporting Flip4Mac since 10.4.5 (I have 10.4.6), the &lt;a href="http://www.flip4mac.com/wmv_download.htm">Flip4Mac installer&lt;/a> exits with a message about not being able to install on Intel based hardware.I guess I'll have to live with -gasp- &lt;a href="http://www.apple.com/downloads/macosx/video/windowsmediaplayerformacosx.html">Windows Media Player 9 for OS X&lt;/a> for now. I tried to install it, but it requires mee to enable the Microsoft Office testdrive kit, which I am definetely NOT planning on doing, wmv files are not worth those troubles. I am hoping on a universal binary Flip4Mac soon...&lt;/p>
&lt;p>Funny thing is, that the Windows Media player for OS X is actually only 7 MB in size. I seem to recall that Media Player 10 for Windows XP took quote some time downloading, and ate nearly all of the free space on my harddisk, which I was really pissed about. But then again, since they require me to enable the Microsoft Office testdrive, they have probably allready sneaked part of the player into the OS X distribution, the bastards.&lt;/p>
&lt;p>Comment from Antonio on how to solve this: &lt;em>You can get Flip4Mac to work through Rosetta, but Telestream is a couple weeks away from releasing a public Universal beta version. Check this blog for some details and other info bits: &lt;a href="http://flip4mac.blogspot.com/">http://flip4mac.blogspot.com/&lt;/a>&lt;/em>&lt;/p>
&lt;p>My response: _Great, just used the tip on blogspot, and it worked! I can now view wmv files nicely. Thanks for the tip! _&lt;/p></description></item><item><title>Airbus 330 Entertainent system</title><link>https://realrolfje.github.io/2006/03/31/airbus-330-entertainent-system/</link><pubDate>Fri, 31 Mar 2006 19:36:56 +0000</pubDate><guid>https://realrolfje.github.io/2006/03/31/airbus-330-entertainent-system/</guid><description>
&lt;p>I recently went to Vegas, which is a very long trip (about 20 hours including stopover). I don't like flying that much, my ears hurt and it is very boring to be crammed in a chair for 10 hours, with a headrest that makes your chin touch your chest no matter how you adjust it. However, on this flight (and the one back) there was a nice personal entertainment system installed in each chair.Below are some images of the personal entertainment system which is installed on the Airbus 330's of Northwest Airlines. These are a real treat on long distance flights. There is a fair selection of on-demand movies, music, some simple games and flight information. It lets you choose a movie, and you can pause and skip as much as you like. You can use your own 3.5mm jacked headphones, no more of that adapter-buying-if-you-are-lucky-you'll-get-stereo crap you see in the older planes. The menu even contained an item called &amp;quot;email&amp;quot;, but it was not functioning at the time I tried it. Besides you had to swipe your credit card for it, which I didn't find worth trying even if it would work.&lt;/p>
&lt;table >
&lt;tr >
&lt;td >[![Bejeweled](r_img_3683.thumbnail.jpg)
](r_img_3683.jpg)
&lt;/td>
&lt;td >[![Controller](r_img_3686.thumbnail.jpg)
](r_img_3686.jpg)
&lt;/td>
&lt;td >[![Flight information](r_img_3692.thumbnail.jpg)
](r_img_3692.jpg)
&lt;/td>
&lt;td >[![Movies](r_img_3688.thumbnail.jpg)
](r_img_3688.jpg)
&lt;/td>
&lt;/tr>
&lt;tr >
&lt;td valign="top" >Nice little game, Bejeweled
&lt;/td>
&lt;td valign="top" >The controller (has to be turned 90 degrees sometimes, confusing!)
&lt;/td>
&lt;td valign="top" >Guess where we are? Travelling at 950km/h there :-)
&lt;/td>
&lt;td valign="top" >Watched Chicken Little. It does not live up to it's commercial by a long shot.
&lt;/td>
&lt;/tr>
&lt;/table>
Funny thing is, that my wife's entertainent system actually crashed during flight. It got stuck for about 5 minutes, after which it automatically rebooted, and guess what? I saw a Tux! It is actually a Linux system. A bit of googling revealed that a few people even have seen the system crash on [all monitors at the same time](http://www.flickr.com/photos/milliped/116393699/). Good thing they aren't using this system for the flight controls yet. ;-)
&lt;p>But it does make sense. It doesn't cost anything, and being open source, Panasonic (the manufacturer of the system) has full controll on getting all the glitches out. Now they actually do need to do that still, but I bet they got a nice (remote?) update procedure for that. After all, they also need to upload new movies every now and then. Maybe they use the same connection as they use for email? 100% remote update would be nice. No &amp;quot;downtime&amp;quot; for the planes!.&lt;/p>
&lt;p>I for one liked the system very much. It actually has games which let you compete with other passengers, but that didn't seem to be popular on my flights to Las Vegas. I didn't even had to get my PSP out of my bag :-)&lt;/p>
&lt;p>Now if they only could make those stupid headrests removable so I can put my head back when I want to sleep (like most normal people), flying wouldn't be all that bad.&lt;/p></description></item><item><title>Killing oracle sessions, the easy (JDBC) way.</title><link>https://realrolfje.github.io/2006/02/23/killing-oracle-sessions-the-easy-jdbc-way/</link><pubDate>Wed, 22 Feb 2006 20:27:40 +0000</pubDate><guid>https://realrolfje.github.io/2006/02/23/killing-oracle-sessions-the-easy-jdbc-way/</guid><description>
&lt;p>Does Oracle complain about not being able to drop a table for a currently connected user, but you are sure you disconnected? Do the sessions &amp;quot;hang&amp;quot; in &amp;quot;inactive&amp;quot; state? Just log on as system, and execute the following query: &lt;/p>
&lt;pre>&lt;code>SELECT
'ALTER SYSTEM KILL SESSION ''' || sid || ',' || serial# || '''; --',
s.sid,
s.serial#,
s.osuser,
s.username,
s.program,
status
FROM v$session s
WHERE status = 'INACTIVE';
&lt;/code>&lt;/pre>
&lt;p>You will get a list of statements you need to execute (just copy-pase) to kill the inactive sessions. Don't listen to the guys telling you to do intricate System Administrator stuff on a command prompt, just use any JDBC tool.&lt;/p>
&lt;p>&lt;strong>EDIT:&lt;/strong> Single query which also lists the kill command if the &amp;quot;alter system kill session&amp;quot; trick did not work:&lt;/p>
&lt;pre>&lt;code>SELECT
'ALTER SYSTEM KILL SESSION ''' || s.sid || ',' || s.serial# ||
'''; -- kill -9 ' || p.spid,
s.sid,
s.serial#,
p.spid,
s.username,
s.program,
s.status
FROM v$session s, v$process p
WHERE s.paddr = p.addr
and (s.state='INACTIVE' or s.state='KILLED');
&lt;/code>&lt;/pre>
&lt;p>Thanks Bas en Jeroen!&lt;/p></description></item><item><title>Google Talk with your browser!</title><link>https://realrolfje.github.io/2006/02/08/google-talk-with-your-browser/</link><pubDate>Tue, 07 Feb 2006 20:39:19 +0000</pubDate><guid>https://realrolfje.github.io/2006/02/08/google-talk-with-your-browser/</guid><description>
&lt;p>&lt;a href="o_googletalk-in-browser.gif">&lt;img src="o_googletalk-in-browser.thumbnail.gif" alt="Google talk in the browser">
&lt;/a>For some reason I've been selected my the google company to have the new interface of gmail, where you can use google talk without even installing it! Yes you've read that right. When I log in to Google, I immediately see a quick contacts list of people who are online (on googletalk), and I can chat with them as if I was using the actual application! Only voice is missing, but I don't use that anyway (Skype fan), so I am really happy.Now I can google-talk with my friends on &lt;em>any&lt;/em> computer without having to install plugins, upgrading MSN otherwise contaminating the host's computer. I am really impressed and amazed (for the past 3 hours or so). Go Google! I feel like buying a t-shirt now :-)&lt;/p>
&lt;p>Oh yeah, and it works in both FireFox and Microsoft Internet Explorer. And I am not kidding.&lt;/p>
&lt;p>Auch, and I just missed the &lt;a href="http://slashdot.org/article.pl?sid=06/02/07/1327248">scoop on Slashdot...&lt;/a> I could have been a succesful submitter. so close, so close.&lt;/p></description></item><item><title>Tapestry/OGNL: Could not find an adaptor for class XYZ</title><link>https://realrolfje.github.io/2006/02/07/tapestryognl-could-not-find-an-adaptor-for-class-xyz/</link><pubDate>Mon, 06 Feb 2006 20:47:21 +0000</pubDate><guid>https://realrolfje.github.io/2006/02/07/tapestryognl-could-not-find-an-adaptor-for-class-xyz/</guid><description>
&lt;p>Getting the &amp;quot;Could not find an adaptor for class Foo&amp;quot; Mesage in Tapestry? You probably forgot to make your class Serializable. A simple description of a possible problematic situation follows: &lt;/p>
&lt;!-- more -->Suppose you have some simple class, like so:
&lt;pre>&lt;code>public class MyItem {
private String itemname;
public String getItemname() {
return itemname;
}
}
&lt;/code>&lt;/pre>
&lt;p>And somewhere in your Tapestry page or component, you iterate a list of these items to produce directlinks for each of them:&lt;/p>
&lt;pre>&lt;code>&amp;lt;span jwcid=&amp;quot;@Foreach&amp;quot; source=&amp;quot;ognl:myItems&amp;quot; value=&amp;quot;ognl:loopItem&amp;quot;&amp;gt;
&amp;lt;a jwcid=&amp;quot;@DirectLink&amp;quot; listener=&amp;quot;ognl:listeners.myItemListener&amp;quot;
parameters=&amp;quot;ognl:new java.lang.Object[] {loopItem}&amp;quot;&amp;gt;
&amp;lt;span jwcid=&amp;quot;@Insert&amp;quot; value=&amp;quot;ognl:loopItem.itemname&amp;quot;/&amp;gt;
&amp;lt;/a&amp;gt;
&amp;lt;/span&amp;gt;
&lt;/code>&lt;/pre>
&lt;p>In your page definition, you have created a nice listener method which you expect to be called:&lt;/p>
&lt;pre>&lt;code>public void myItemListener(IRequestCycle cycle){
MyItem item = (MyItem)cycle.getServiceParameters()[0];
System.out.println(
&amp;quot;Hi, you have pressed the link for &amp;quot;
+ item.getItemname());
}
&lt;/code>&lt;/pre>
&lt;p>You start everything up, but when loading the page, Tapestry complains:&lt;/p>
&lt;pre>&lt;code>org.apache.tapestry.ApplicationRuntimeException:
Could not find an adaptor for class MyItem.
&lt;/code>&lt;/pre>
&lt;p>... and a horrific stacktrace follows, which you can't read or understand because it is all about AbstractComponent.renderbody and other internals of Tapestry and your webserver. Although the error is terrible, and does not point you anywhere, the fix is rather simple. You forgot to make your class Serializable! Changing it to :&lt;/p>
&lt;pre>&lt;code>public class MyItem implement Serializable {
private String itemname;
public String getItemname() {
return itemname;
}
}
&lt;/code>&lt;/pre>
&lt;p>fixes the problem, because now Tapestry can serialize your object into the session, and pass it as a parameter to the listener.&lt;/p></description></item><item><title>Foxit PDF Reader</title><link>https://realrolfje.github.io/2006/02/05/foxit-pdf-reader/</link><pubDate>Sat, 04 Feb 2006 20:49:25 +0000</pubDate><guid>https://realrolfje.github.io/2006/02/05/foxit-pdf-reader/</guid><description>
&lt;p>In the early days, Adobe Acrbat Reader was a great tool for reading PDF files. But in the past months, it has transformed into a slow-starting, update hungry irritating tool which pops up questions about upgrading parts of the program you didn't even request to be installed. If you have the older version of Acrobat Reader without the update manager, hang on to it.&lt;/p>
&lt;p>If you are looking for a nice alternative for Acrobat Reader, I can recommend &lt;a href="http://www.foxitsoftware.com/pdf/rd_intro.php">Foxit PDF Reader&lt;/a>. It is a very small program, free, and starts up in about 1/10th of the time Acrobat Reader takes to display just the splash screen (and subsequently, the annoying update manager). It can do anything I usually need when reading and printing PDF files, and the fullscreen mode is even richer than Adobe's.&lt;/p>
&lt;p>Adobe seems to have gone overboard with their userinterface. People just want to read the PDF, and not be bothered with complicated questions which very often result in downloading and installing megabytes of unwanted software on their machines. I will recommend alternatives to Acrobat Reader from now on, and I think the world will become a slightly better place ;-)&lt;/p></description></item><item><title>Fun at "automatiseringsgids"</title><link>https://realrolfje.github.io/2006/01/12/fun-at-automatiseringsgids/</link><pubDate>Wed, 11 Jan 2006 21:01:18 +0000</pubDate><guid>https://realrolfje.github.io/2006/01/12/fun-at-automatiseringsgids/</guid><description>
&lt;p>Even companies pretending to know about ICT, writing about companies doing it right or wrong, get it (very) wrong sometimes. People who have an account at &lt;a href="http://automatiseringgids.sdu.nl/ag/inlogpagina.jsp">De Automatiseringsgids&lt;/a> know the login screen. But have they also noticed how their username and password are sent to the server in plain text?&lt;/p>
&lt;p>Another funny thing a colleque of mine discovered is the really wierd way of displaying error messages. The server returns the error message as part of a redirect. Yes, you've read that correctly. No serverside things here guys, must keep memory usage down. No sessions here, move along... A really funny thing you can do is display your own error messages, like so: &lt;a href="http://automatiseringgids.sdu.nl/ag/inlogpagina.jsp?message=%3Ch1%3EWie%20dit%20leest%20is%20gek%3C/h1%3E"> De automatiseringsgids with weird error&lt;/a>&lt;/p>
&lt;p>&lt;a href="o_clipboard02.gif">&lt;img src="o_clipboard02.thumbnail.gif" alt="Wie dit leest is gek">
&lt;/a>I think somebody will start playing with this, because you can do a lot more (very bad) things. Should they have it fixed allready when you are reading this, I saved a screenshot for you. You would have got something in the lines of this:&lt;/p>
&lt;p>After discussing this wierd construction, we concluded that the programmers wanted to do a &amp;quot;post-by-redirect&amp;quot; construction, where you make the server return a redirect to the browser jsut after a post. This solves the &amp;quot;reload problem&amp;quot; where the browser asks if it can re-post the data for you. Since a redirect is a GET, the browser will just reload the page. Normally you solve this by storing thing in the session on the server and send a session reference to the browser. Combined with HTTP&lt;strong>S&lt;/strong>, this would give you a relatively strong, and still not to expensive protection against scripting and spoofing attacks.&lt;/p>
&lt;p>A fine example of what happens if you trust an external company to build your web application, but you &amp;quot;forget&amp;quot; to check that they've delivered something that's up to your standards (or at least the standards you paid for). Have fun playing around with this, and let me know what interesting things you found. (hint: Iframes and javascript can do a lot on this page ;-)&lt;/p></description></item><item><title>Ibatis and Timestamps (2)</title><link>https://realrolfje.github.io/2005/07/04/ibatis-and-timestamps-2/</link><pubDate>Mon, 04 Jul 2005 13:09:19 +0000</pubDate><guid>https://realrolfje.github.io/2005/07/04/ibatis-and-timestamps-2/</guid><description>
&lt;p>People who have read my &lt;a href="http://rolfje.wordpress.com/2005/07/01/ibatis-and-timestamps/">last post&lt;/a> are now probably removing the Date classes from their beans, replacing the code with things as new Long(new Date.getTime()) and such. This is also what I started doing, until a collegue of mine pointed out that the TypeHandler I wrote last saturday could also do the trick. This would mean my beans could still contain clean Dates. I was so close, and failed to realize that I (or ibatis) had that power.&lt;/p>
&lt;p>So I set out to do this and it works wonderfully. What I did was the following. I changes all postgres timestamp fields to bigints, like you read yesterday. I left my beans unchanged, containing java.util.Date objects for representing dates. So now all we need to do is write a typehandler which converts the date to a long and back, so Postgress and the buggy JDBC driver don't realize it's actually a Date.&lt;/p>
&lt;p>To do this I wrote the following TypeHandler:&lt;/p>
&lt;pre>&lt;code>public class DateTypeHandler
implements TypeHandlerCallback {
public void setParameter(ParameterSetter setter,
Object parameter)
throws SQLException {
if (parameter == null) {
setter.setNull(Types.BIGINT);
} else {
Date datetime = (Date) parameter;
setter.setLong(datetime.getTime());
}
}
public Object getResult(ResultGetter getter)
throws SQLException {
long millis = getter.getLong();
if (getter.wasNull()) {
return null;
}
return new Date(millis);
}
public Object valueOf(String s) {
return s;
}
}
&lt;/code>&lt;/pre>
&lt;p>Now, all we need to do is tell ibatis to use this typehandler whenever we try to insert or retreive a java.util.Date. We do this by adding the following line to the ibatis SqlMapConfig.xml file, just after the typealias definitions:&lt;/p>
&lt;pre>&lt;code>&amp;lt;typeHandler javaType=&amp;quot;java.util.Date&amp;quot;
callback=&amp;quot;com.bestlaps.database.typehandlers.DateTypeHandler&amp;quot;/&amp;gt;
&lt;/code>&lt;/pre>
&lt;p>After doing this, you can cary on doing things as normal. Beans can contain java.util.Date, and ibatis happily inserts and retreives them in postgres bigint columns without any timezone conversion. Please note that timezones are not stored at all here, so when you retreive a Date from the database, the java.util.Date object will have your local JVM's devault timesone offset. You can happily ignore this, especially if you're not going to do any calculations with it.&lt;/p>
&lt;p>The beauty of this solution is, that when there is a solution for the silly timezone conversion problem/bug, we can simply convert all database fields to timestamps, and remove the typehandler reference from the SqlMapConfig.xml file, and you're all set without changing a single line of code.&lt;/p>
&lt;p>Thanks Joris!&lt;/p></description></item><item><title>Ibatis and Timestamps</title><link>https://realrolfje.github.io/2005/07/01/ibatis-and-timestamps/</link><pubDate>Fri, 01 Jul 2005 13:05:31 +0000</pubDate><guid>https://realrolfje.github.io/2005/07/01/ibatis-and-timestamps/</guid><description>
&lt;p>I am using Ibatis and PostgreSQL for this great project, &lt;a href="http://www.bestlaps.com/">www.bestlaps.com&lt;/a>. However, we've recently ran into a strange problem where we store a java.util.Date into a postgress TIMEZONE column, which works fine. However, when you want to retreive it, Ibatis returns a &amp;quot;StringIndexOutofBoundsException&amp;quot; at position 23. For some reason, the result returned by Postgres can not be converted back into a java.util.Date.&lt;/p>
&lt;p>I've tried really hard to circumvent this problem with custom setter methods (parsing the results myself), and using jodatime (a great java date and time replacement library). The fix is as simple as it is strange: Make Ibatis convert the timestamp into a java.&lt;strong>sql&lt;/strong>.Date, without changing your code.&lt;/p>
&lt;p>So: You have your normal bean, in which you use java.&lt;strong>util&lt;/strong>.Date. Then, make your Ibatis sqlMap as usual, but for the timestamp column you put the following in the resultmap: javaType=&amp;quot;java.&lt;strong>sql&lt;/strong>.Date&amp;quot;.&lt;/p>
&lt;p>Strange, but it works for now. Maybe more info on this later.&lt;/p>
&lt;p>&lt;strong>UPDATE&lt;/strong>: Okay, after spending the whole weekend with this problem I discovered that the trick I just described does noet work. java.sql.Date has no time component, so when you retreive it, your java.util.Date in the bean will have a 00:00 time. So I had to search a bit further.&lt;/p>
&lt;p>When querying with SquirrelSQL, I can insert and retreive a timestamp to and from Postgress without it being changed. So it seems that it is no Postgress bug. When I am using Ibatis to insert a java.util.Date into Postgress, it gets &amp;quot;timezone corrected&amp;quot;, although I specifically told Postgress to store timestamps without timezones.&lt;/p>
&lt;p>The time gets corrected by 2 hours. This seems to come from the util.Date class, which seems to have a default offset of -120 minutes, although I did not set that, and did not request any timezone to be set.&lt;/p>
&lt;p>I tried to make my own typeHandler for Ibatis, where I could convert the java.util.Date to a java.sql.TimeStamp, and give it directly to the PreparedStatement. But even that did not help. I am guessing the bug is in the Postgress JDBC driver, although that conflicts with the fact that SquirelSQL (which is als a Java/JDBC program) can do it.&lt;/p>
&lt;p>&lt;strong>THE FIX&lt;/strong>: After more than 16 hours (!) of research I decided I would go for the workaround. We are behind schedule allready for the &lt;a href="http://www.bestlaps.com/">www.bestlaps.com&lt;/a> project, so I needed a quick fix. The way to go was dissapointingly simple: Convert Date's to Longs (with getTime()) and store the Longs in the database as number. This way ibatis and postgress don't know that it's a time. Pay attention to the fact that you need a postgress BIGINT to store the large number of milliseconds since the epoch.&lt;/p>
&lt;p>**Final thoughts: **It seems that people who do not know how to handle timezones have built code to handle timezones. For Java, Postgres, Ibatis, or somewhere around that neighbourhood. Oh well, we knew that Java doesn't have a great Date system. A promising solution I found (but not used yet) is &lt;a href="http://www.theserverside.com/news/thread.tss?thread_id=32005">JodaTime&lt;/a>.&lt;/p>
&lt;p>I really hope the bug gets fixed soon so I can have proper dates in the database when we go live. For now, Longs work (and will probably stay in to the end of time).&lt;/p></description></item></channel></rss>